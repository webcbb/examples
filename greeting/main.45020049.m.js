import{a8 as e,J as t,ab as n,ac as s,K as r,ad as o,ae as a,af as l,s as i,ag as u}from"../js/lib.af643059.m.js";import{j as d,P as c,R as m,C as p,k as f,T as g,B as y,d as h,l as b}from"../js/wesib.2fefb743.m.js";import{E as v,T as x,F as $,D as j,i as k,r as _,A as w,I as O,e as T}from"../js/common.84a20661.m.js";let z=class{constructor(e){this._context=e}style(){return this._context.get(g).style(C)}render(){const e=this,t=this._context.get(y).document.createElement("span");return this._context.contentRoot.append(t),()=>t.innerText=function(){var t;const n=null===(t=e.name)||void 0===t?void 0:t.trim();return n?`Hello, ${n}!`:"Hello!"}()}};e([d()],z.prototype,"name",void 0),e([c()],z.prototype,"style",null),e([m()],z.prototype,"render",null),z=e([p(["greeting-out",v]),f()],z);function C(e){const n=e.ref(x).read.keep,s=e.ref($).read.keep,{root:{rules:r}}=e;return t(r.add({u:[":","host"],$:"bex:greeting-out"},s.thru(k)).add(s.thru(_)).add(n.thru(E)),e.style(j))}function E({$fontSize:e}){return{display:"block",margin:`${e.div(2)} 0 0 0`}}let H=class{constructor(e){this._context=e,e.whenOn(t=>{const d=e.get(h),c=n({name:""});d.select("input",{all:!0,deep:!0}).first.tillOff(t).consume(e=>{if(!e)return;const t=s(e.element).setup(r,e=>e.by(o)).setup(a,e=>e.add(l()));return c.controls.set("name",t),i()}).whenOff(()=>{c.controls.remove("name")}),b(e,c).needs(t);const m=d.select(z,{deep:!0}).first,p=new u("");p.sync(m,e=>{var t;return null===(t=e)||void 0===t?void 0:t.attribute("name")}),p.sync("in",c.controls.read,e=>{var t;return null===(t=e)||void 0===t?void 0:t.get("name")}),t.whenOff(()=>p.done())})}style(){return this._context.get(g).style(R)}nodeControl(e){const t=n({name:""});return t.controls.set("name",s(e.element).setup(r,e=>e.by(o)).setup(a,e=>e.add(l()))),t}};e([c()],H.prototype,"style",null),H=e([p(["greeting",v],{feature:{needs:[z,w]}})],H);function R(e){const n=e.ref(x).read.keep,{root:{rules:s}}=e,r=s.add([{u:[":","host"]},{e:"label",$:"bex:greeting"}],n.thru(S));return t(e.style(O),r,r.rules.add({e:"input",$:"bex:greeting"},n.thru(E)))}function S({$fontSize:e}){return{display:"block",margin:0,padding:`${e.div(2)}`}}T.load(H);
//# sourceMappingURL=main.45020049.m.js.map
