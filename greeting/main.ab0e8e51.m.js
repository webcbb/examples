import{_ as e,s as t,aq as s,q as n,ar as r,d as a,as as o,at as l,e as i,i as c,au as u}from"../js/lib.43b73b82.m.js";import{g as d,P as p,R as m,C as f,h as g,T as h,i as y,j as b,D as x,k as v}from"../js/wesib.45ff9dcd.m.js";import{E as $,T as k,F as T,D as j,i as _,r as w,A as O,I as q,e as z}from"../js/common.e1b3255a.m.js";let D=class{constructor(e){this._context=e}style(){return this._context.get(h).style(E)}render(){const e=this._context.get(y).document.createElement("span"),t=()=>{var e;const t=null===(e=this.name)||void 0===e?void 0:e.trim();return t?`Hello, ${t}!`:"Hello!"};return this._context.contentRoot.append(e),()=>{e.innerText=t()}}};e([d()],D.prototype,"name",void 0),e([p()],D.prototype,"style",null),e([m()],D.prototype,"render",null),D=e([f(["greeting-out",$]),g()],D);function E(e){const s=e.ref(k).read(),n=e.ref(T).read(),{root:{rules:r}}=e;return t(r.add({u:[":","host"],$:"bex:greeting-out"},n.keepThru(_)).add(n.keepThru(w)).add(s.keepThru(H)),e.style(j))}function H({$fontSize:e}){return{display:"block",margin:`${e.div(2)} 0 0 0`}}let R=class{constructor(e){this._context=e,e.whenOn(t=>{const d=e.get(b),p=s({name:""});n({name:d.select("input",{all:!0,deep:!0}).first(),aspects:e.get(x)}).tillOff(t).consume(({name:[t],aspects:[s]})=>{const n=t&&r(t.element).convert(s,a.to(t.element)).setup(o,e=>e.by(l)).setup(i,e=>e.add(c()));return p.controls.set("name",n),n&&v(e,n)});const m=d.select(D,{deep:!0}).first().tillOff(t),f=new u("");f.sync(m,e=>null==e?void 0:e.attribute("name")),f.sync("in",p.controls.read(),e=>null==e?void 0:e.get("name")),t.whenOff(e=>{f.done(e),p.done(e),p.controls.clear()})})}style(){return this._context.get(h).style(S)}};e([p()],R.prototype,"style",null),R=e([f(["greeting",$],{feature:{needs:[D,O]}})],R);function S(e){const s=e.ref(k).read(),{root:{rules:n}}=e,r=n.add([{u:[":","host"],$:"bex:greeting"},{e:"label",$:"bex:greeting"}],s.keepThru(A));return t(e.style(q),r,r.rules.add({e:"input",$:"bex:greeting"},s.keepThru(H)))}function A({$fontSize:e}){return{display:"block",margin:0,padding:`${e.div(2)}`}}z.load(R);//# sourceMappingURL=main.ab0e8e51.m.js.map
