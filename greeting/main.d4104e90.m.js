import{a7 as e,J as t,aa as n,P as s,ab as o,ac as r,ad as a,ae as l,af as c}from"../js/lib.e2c9a0a7.m.js";import{h as i,P as u,R as d,C as m,j as p,T as f,B as g,k as h,d as y}from"../js/wesib.0ecb839b.m.js";import{E as b,T as v,F as $,i as x,r as j,D as k,A as _,I as w,e as O}from"../js/common.b5d86bc5.m.js";let T=class{constructor(e){this._context=e}style(){return this._context.get(f).style(C)}render(){const e=this,t=this._context.get(g).document.createElement("span");return this._context.contentRoot.append(t),()=>t.innerText=function(){var t;const n=null===(t=e.name)||void 0===t?void 0:t.trim();return n?`Hello, ${n}!`:"Hello!"}()}};e([i()],T.prototype,"name",void 0),e([u()],T.prototype,"style",null),e([d()],T.prototype,"render",null),T=e([m(["greeting-out",b]),p()],T);const z="bex:greeting-out";function C(e){const n=e.ref(v).read.keep,s=e.ref($).read.keep,{root:{rules:o}}=e;return o.add({u:[":","host"],$:z},s.thru(x)).add(s.thru(j)).add(n.thru(E)),t(o.grab({$:z}),e.style(k))}function E({$fontSize:e}){return{display:"block",margin:`${e.div(2)} 0 0 0`}}const H=h({selector:"input",control:e=>n(e.element).setup(s,e=>e.by(o)).setup(r,e=>e.add(a()))});let P=class{constructor(e){this._context=e,e.whenOn(t=>{const n=e.get(H).tillOff(t),s=l({name:""});n(e=>s.controls.set("name",e)).whenOff(()=>s.controls.remove("name"));const o=e.get(y).select(T,{deep:!0}).first,r=new c("");r.sync(o,e=>{var t;return null===(t=e)||void 0===t?void 0:t.attribute("name")}),r.sync("in",s.controls.read,e=>{var t;return null===(t=e)||void 0===t?void 0:t.get("name")}),t.whenOff(()=>r.done())})}style(){return this._context.get(f).style(S)}nodeControl(e){const t=l({name:""});return t.controls.set("name",n(e.element).setup(s,e=>e.by(o)).setup(r,e=>e.add(a()))),t}};e([u()],P.prototype,"style",null),P=e([m(["greeting",b],H,{feature:{needs:[T,_]}})],P);const R="bex:greeting";function S(e){const n=e.ref(v).read.keep,{root:{rules:s}}=e;return s.add([{u:[":","host"]},{e:"label",$:R}],n.thru(A)).rules.add({e:"input",$:R},n.thru(E)),t(e.style(w),s.grab({$:R}))}function A({$fontSize:e}){return{display:"block",margin:0,padding:`${e.div(2)}`}}O.load(P);
//# sourceMappingURL=main.d4104e90.m.js.map
