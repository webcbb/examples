import{a9 as e,K as t,ad as n,ae as s,af as r,L as o,ag as a,aa as l,ah as i,ai as c}from"../js/lib.bcb6d235.m.js";import{j as u,P as d,R as p,C as m,k as f,T as g,B as h,D as y,e as b,l as v}from"../js/wesib.68535cce.m.js";import{E as x,T as $,F as j,D as k,i as _,r as w,A as O,I as T,e as z}from"../js/common.d5ed8f71.m.js";let D=class{constructor(e){this._context=e}style(){return this._context.get(g).style(E)}render(){const e=this,t=this._context.get(h).document.createElement("span");return this._context.contentRoot.append(t),()=>t.innerText=function(){var t;const n=null===(t=e.name)||void 0===t?void 0:t.trim();return n?`Hello, ${n}!`:"Hello!"}()}};e([u()],D.prototype,"name",void 0),e([d()],D.prototype,"style",null),e([p()],D.prototype,"render",null),D=e([m(["greeting-out",x]),f()],D);function E(e){const n=e.ref($).read.keep,s=e.ref(j).read.keep,{root:{rules:r}}=e;return t(r.add({u:[":","host"],$:"bex:greeting-out"},s.thru(_)).add(s.thru(w)).add(n.thru(H)),e.style(k))}function H({$fontSize:e}){return{display:"block",margin:`${e.div(2)} 0 0 0`}}let R=class{constructor(e){this._context=e;const t=e.get(y);e.whenOn(u=>{const d=e.get(b),p=n({name:""});d.select("input",{all:!0,deep:!0}).first.tillOff(u).consume(n=>{const c=n&&s(n.element).convert(r(n.element,{scheduler:t})).setup(o,e=>e.by(a)).setup(l,e=>e.add(i()));return p.controls.set("name",c),c&&v(e,c)});const m=d.select(D,{deep:!0}).first.tillOff(u),f=new c("");f.sync(m,e=>{var t;return null===(t=e)||void 0===t?void 0:t.attribute("name")}),f.sync("in",p.controls.read,e=>{var t;return null===(t=e)||void 0===t?void 0:t.get("name")}),u.whenOff(e=>{f.done(e),p.done(e),p.controls.clear()})})}style(){return this._context.get(g).style(S)}};e([d()],R.prototype,"style",null),R=e([m(["greeting",x],{feature:{needs:[D,O]}})],R);function S(e){const n=e.ref($).read.keep,{root:{rules:s}}=e,r=s.add([{u:[":","host"],$:"bex:greeting"},{e:"label",$:"bex:greeting"}],n.thru(A));return t(e.style(T),r,r.rules.add({e:"input",$:"bex:greeting"},n.thru(H)))}function A({$fontSize:e}){return{display:"block",margin:0,padding:`${e.div(2)}`}}z.load(R);
//# sourceMappingURL=main.e9c71646.m.js.map
