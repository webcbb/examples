import{ab as e,X as t,ai as s,f as n,aj as r,ac as a,ak as o,al as l,ad as i,ae as c,am as d}from"../js/lib.1acfdb4c.m.js";import{h as u,P as m,R as p,C as f,i as g,T as h,j as y,k as b,D as v,l as x}from"../js/wesib.dc6b2b8c.m.js";import{E as $,T as j,F as k,D as _,i as w,r as O,A as T,I as z,e as D}from"../js/common.ffbf8a3d.m.js";let E=class{constructor(e){this._context=e}style(){return this._context.get(h).style(H)}render(){const e=this._context.get(y).document.createElement("span"),t=()=>{var e;const t=null===(e=this.name)||void 0===e?void 0:e.trim();return t?`Hello, ${t}!`:"Hello!"};return this._context.contentRoot.append(e),()=>{e.innerText=t()}}};e([u()],E.prototype,"name",void 0),e([m()],E.prototype,"style",null),e([p()],E.prototype,"render",null),E=e([f(["greeting-out",$]),g()],E);function H(e){const s=e.ref(j).read.keep,n=e.ref(k).read.keep,{root:{rules:r}}=e;return t(r.add({u:[":","host"],$:"bex:greeting-out"},n.thru(w)).add(n.thru(O)).add(s.thru(R)),e.style(_))}function R({$fontSize:e}){return{display:"block",margin:`${e.div(2)} 0 0 0`}}let S=class{constructor(e){this._context=e,e.whenOn(t=>{const u=e.get(b),m=s({name:""});n({name:u.select("input",{all:!0,deep:!0}).first,aspects:e.get(v)}).tillOff(t).consume(({name:[t],aspects:[s]})=>{const n=t&&r(t.element).convert(s,a.to(t.element)).setup(o,e=>e.by(l)).setup(i,e=>e.add(c()));return m.controls.set("name",n),n&&x(e,n)});const p=u.select(E,{deep:!0}).first.tillOff(t),f=new d("");f.sync(p,e=>{var t;return null===(t=e)||void 0===t?void 0:t.attribute("name")}),f.sync("in",m.controls.read,e=>{var t;return null===(t=e)||void 0===t?void 0:t.get("name")}),t.whenOff(e=>{f.done(e),m.done(e),m.controls.clear()})})}style(){return this._context.get(h).style(A)}};e([m()],S.prototype,"style",null),S=e([f(["greeting",$],{feature:{needs:[E,T]}})],S);function A(e){const s=e.ref(j).read.keep,{root:{rules:n}}=e,r=n.add([{u:[":","host"],$:"bex:greeting"},{e:"label",$:"bex:greeting"}],s.thru(C));return t(e.style(z),r,r.rules.add({e:"input",$:"bex:greeting"},s.thru(R)))}function C({$fontSize:e}){return{display:"block",margin:0,padding:`${e.div(2)}`}}D.load(S);//# sourceMappingURL=main.f4ce6146.m.js.map
