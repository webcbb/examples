System.register(["./lib.8cb6a86d.s.js","./wesib.5e383b75.s.js"],(function(t){"use strict";var e,n,r,o,i,a,u,d,s,l,c,f,h,p,g,$,v,b,y,m,x,k,_,C,w,S,z,F,W,L,H,D,N,E,O,B;return{setters:[function(t){e=t.U,n=t.ah,r=t.ai,o=t.aj,i=t.ak,a=t.X,u=t.al,d=t.ab,s=t.am,l=t.an,c=t.V,f=t.t,h=t.D,p=t.o,g=t.ao,$=t.ad,v=t.ap},function(t){b=t.D,y=t.T,m=t.A,x=t.R,k=t.P,_=t.C,C=t.a,w=t.F,S=t.b,z=t.c,F=t.B,W=t.i,L=t.N,H=t.p,D=t.d,N=t.e,E=t.f,O=t.S,B=t.g}],execute:function(){t({D:I,I:function(t){var e=t.ref(X).read.keep,n=t.root.rules;return a(n.add({e:"input"},e.thru(yt)),n.add({e:"input",s:"[readonly]"},e.thru(mt)),n.add({e:"input",s:"[disabled]"},e.thru(mt)),n.add({e:"input",s:":focus"},e.thru(xt)),n.add({e:"input",c:["inap-invalid","inap-touched"]},e.thru(kt)),n.add({e:"input",c:["inap-missing","inap-touched"]},{outlineStyle:"dotted"}),n.add({e:"input",c:["inap-incomplete","inap-touched"]},{outlineStyle:"dotted"}))},i:yt,r:mt});var R=t("E",new e("https://wesib.github.io/examples","bex","wesib-examples")),V=t("T",n.by({$:"settings"},{$color:new r({r:161,g:185,b:142}),$bgColor:new r({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:o.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600",$layoutBreakpoint:i.of(576,"px")}));function j(t){return{"@media:sm":"(max-width: "+t.$layoutBreakpoint+")"}}function T(t){var e=t.ref(V).read.keep,n=t.root.rules;return a(n.add({e:"a"},e.thru(A)),n.add({e:"a",s:":visited"},e.thru(A)),n.add({e:"a",s:":hover"},{textDecoration:"underline"}),n.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),n.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}))}function A(t){return{color:t.$color,fontWeight:t.$linkFontWeight,textDecoration:"none"}}function I(t){var e=t.ref(V).read.keep;return a(t.root.add(e.thru(P)).add(e.thru(j)),t.style(T))}function P(t){var e=t.$color,n=t.$fontFace,r=t.$fontSize,o=t.$lineHeight;return{color:e,font:"normal "+t.$fontWeight+" "+r+"/"+o+" "+n}}function U(t){var e=t.ref(V).read.keep,n=t.root.rules;return a(n.add({e:"html"},{height:"100%",margin:0,padding:0}),n.add({e:"body"},e.thru(M)),t.style(I))}function M(t){return{backgroundColor:t.$bgColor,height:"100%",margin:0,padding:0}}var X=t("F",n.by({$:"settings:form"},(function(t){return u.by({global:V},t).read.keep.thru(q)})));function q(t){var e=t.global,n=e.$color,r=e.$bgColor,o=e.$fontFace,a=e.$fontSize,u=e.$lineHeight,d=e.$fontWeight;return{$color:n,$bgColor:r.hsl.set((function(t){return{l:.8*t.l}})),$roBgColor:r.hsl.set((function(t){return{l:.94*t.l}})),$fontFace:o,$fontSize:a,$errorFontSize:a.mul(.8),$lineHeight:u,$fontWeight:d,$borderColor:r,$marginV:a.div(4),$marginH:a.div(4),$paddingV:a.div(2),$paddingH:a,$borderW:i.of(1,"px")}}var G=function(){function t(t){var e=this;this._context=t,this._validity=c(),this._codes=new Set;var n=t.get(C);t.whenOn((function(t){n((function(t){return e.validity=t})).needs(t).whenOff((function(){return e.validity=c()}))}))}return Object.defineProperty(t.prototype,"validity",{get:function(){return this._validity},set:function(t){var e=this._validity;this._validity=t,this._context.updateState("validationResult",t,e)},enumerable:!0,configurable:!0}),t.prototype.setCode=function(t){this._codes=new Set(t.trim().split(/\s+/))},t.prototype.render=function(){var t=this,e=this._context.element,n=d.name(K,this._context.get(b));return function(){s(t._codes,(function(e){return!t.validity.has(e)}))?e.classList.remove(n):e.classList.add(n)}},t.prototype.style=function(){return this._context.get(y).style(Q)},l([m("code")],t.prototype,"setCode",null),l([x()],t.prototype,"render",null),l([k()],t.prototype,"style",null),t=l([_(["in-error",R],C)],t)}(),J="bex:in-error",K=["display-block",R];function Q(t){var e=t.ref(X).read.keep,n=t.root.rules,r=o.of(4,"px");return a(n.add({u:[":","host"],$:J},e.thru((function(t){var e=t.$color,n=t.$errorFontSize;return{display:"none",fontSize:n,padding:n.div(2),borderLeft:r+" dotted "+e,paddingLeft:n.sub(r)}}))),n.add({u:[":","host",{c:K}],$:J},{display:"block"}))}var Y=function(){function t(){}return t=l([w({needs:[S,G,z]})],t)}(),Z=function(){function t(t){var e=this;this._context=t,this._response=f(),this._response.on((function(e,n){return t.updateState("response",e,n)}));var n=t.get(L);t.whenOn((function(r){n.read.once((function(n){n.put(H,{fragment:{tag:t.element.tagName},receiver:{supply:r,receive:function(t,n){return e._response.it=n}}})}))}))}return t.prototype.render=function(){var t=this,e=this._context.get(F).document,n=e.createRange();return n.selectNodeContents(this._context.element),function(){var r=t._response.it;if(r)if(n.deleteContents(),r.ok){var o=e.createDocumentFragment(),i=r.fragment;i&&(W(i,o),n.insertNode(o))}else null==r.ok?n.insertNode(e.createTextNode("Loading...")):n.insertNode(e.createTextNode("Error. "+r.error))}},t.prototype.style=function(){return this._context.get(y).style(et)},l([x()],t.prototype,"render",null),l([k()],t.prototype,"style",null),t=l([_(["main",R])],t)}(),tt="bex:main";function et(t){var e=t.ref(V).read.keep,n=t.root.rules;return a(n.add({u:[":","host"],$:tt},e.thru(nt)))}function nt(t){return{flex:"1 1 auto",padding:0,margin:"0 0 0 "+t.$fontSize.div(2)}}var rt=function(){function t(t){this._theme=t.get(y);var e=t.get(b),n=d.name(dt,e),r=t.get(D),o=t.get(L);t.whenOn((function(t){var e=r.select("a",{all:!0}),i=new Map;e.track.tillOff(t)((function(e,r){r.forEach((function(t){var e=i.get(t);e&&(i.delete(t),e.off())})),e.forEach((function(e){var r=e.element,a=new h(r).on("click").instead((function(){r.classList.contains(n)||o.open(r.getAttribute("href")||"")})).needs(t);i.set(e,a)}))})),p({links:e,page:o})({supply:t,receive:function(t,e){var r,o=g(e.links,1)[0],i=ot(g(e.page,1)[0].url),a="";o.forEach((function(t){var e=t.element,o=ot(new URL(e.href));e.classList.remove(n),i.startsWith(o)&&a.length<o.length&&(r=e,a=o)})),r&&r.classList.add(n)}})}))}return t.prototype.style=function(){return this._theme.style(at)},l([k()],t.prototype,"style",null),t=l([_(["nav",R])],t)}();function ot(t){var e=t.pathname;return e.endsWith("/")?e:e+"/"}var it="bex:nav";function at(t){var e=t.ref(V).read.keep,n=t.root.rules;return a(n.add({u:[":","host"],$:it},e.thru(ut)),n.add({u:[":","host"],$:it},e.thru((function(t){return{flex:"0 1 200px",height:"100%",background:st(t)}}))),n.add({u:[":","host"],$:[it,"@media:sm"]},{flex:"0 1 100%"}),n.add([{u:[":","host"]},{e:"a",$:it}],e.thru(lt)),n.add([{u:[":","host"]},{e:"a",c:dt,$:it}],e.thru(ct)))}function ut(t){return{padding:0,margin:"0 "+t.$fontSize.div(2)+" 0 0"}}var dt=["nav-active",R];function st(t){return t.$bgColor.hsl.set((function(t){return{l:.8*t.l}}))}function lt(t){var e=t.$fontSize;return{display:"block",margin:0,padding:e.div(2)+" "+e,border:0,outline:0,background:st(t)}}function ct(t){var e=t.$fontSize,n=t.$color,r=t.$bgColor,i=o.of(4,"px");return{background:r,borderLeft:i+" solid "+n,paddingLeft:e.sub(i)}}var ft=function(){function t(t){this._context=t}return t.prototype.style=function(){return this._context.get(y).style(pt)},l([k()],t.prototype,"style",null),t=l([_({name:["container",R],feature:{needs:[Z,rt]}})],t)}(),ht="bex:container";function pt(t){var e=t.ref(V).read.keep,n=t.root.rules;return a(n.add({u:[":","host"],$:ht},{height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}).add(e.thru(j)),n.add({u:[":","host"],$:[ht,"@media:sm"]},{height:"auto"}))}var gt=function(){function t(){}return t=l([w({needs:[ft,S,N,E,O,z]})],t)}(),$t=function(){function t(){}return t=l([w({needs:z,init:vt})],t)}();function vt(t){t.whenReady((function(){$(t.get(y).style(U))}))}var bt=t("A",function(){function t(){}return t=l([w({needs:[$t,Y,gt]})],t)}());function yt(t){var e=t.$color,n=t.$fontFace,r=t.$fontSize,o=t.$lineHeight,i=t.$fontWeight,a=t.$marginV,u=t.$marginH,d=t.$paddingV,s=t.$paddingH,l=t.$bgColor,c=t.$borderColor;return{color:e,font:"normal "+i+" "+r+"/"+o+" "+n,padding:d+" "+s,margin:a+" "+u,backgroundColor:l,border:"0 none",outline:t.$borderW+" solid "+c,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function mt(t){return{backgroundColor:t.$roBgColor}}function xt(t){var e=t.$color,n=t.$borderColor;return{outlineColor:v(n,e,.5)}}function kt(t){var e=t.$color,n=t.$borderW,r=t.$borderColor;return{outline:n.mul(2)+" dashed "+v(r,e,.25)}}t("e",B(bt))}}}));
//# sourceMappingURL=common.1a9964f9.s.js.map
