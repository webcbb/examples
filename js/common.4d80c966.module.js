import{W as e,_ as t,$ as n,a0 as o,w as r,a1 as a,a2 as s,a3 as i,a4 as l,U as d,T as c,D as u,h as g,H as $}from"./lib.a89aa200.module.js";import{P as f,C as h,T as p,B as b,N as m,p as x,i as y,D as k,a as C,b as w,F as v,c as S,d as W,e as D,f as z}from"./wesib.3f4b5cdb.module.js";const F=new e("https://wesib.github.io/examples","bex","wesib-examples"),H=t.by({$:"settings"},{$color:new n({r:161,g:185,b:142}),$bgColor:new n({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:o.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600"});function N(e){const t=e.ref(H).read.keep,n={e:"a"};return e.root.rules.add(n,t.thru(_)),e.root.rules.add({e:"a",s:":visited"},t.thru(_)),e.root.rules.add({e:"a",s:":hover"},{textDecoration:"underline"}),e.root.rules.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),e.root.rules.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}),e.root.rules.grab(n)}function _({$color:e,$linkFontWeight:t}){return{color:e,fontWeight:t,textDecoration:"none"}}function L(e){const t=e.ref(H).read.keep;return e.root.add(t.thru(T)),r(e.root.rules.self,e.style(N))}function T({$color:e,$fontFace:t,$fontSize:n,$lineHeight:o,$fontWeight:r}){return{color:e,font:`normal ${r} ${n}/${o} ${t}`}}function B(e){const t=e.ref(H).read.keep,n={e:"body"},o={e:"html"};return e.root.rules.add(n,t.thru(E)),e.root.rules.add(o,{height:"100%",margin:0,padding:0}),r(e.root.rules.grab(o),e.root.rules.grab(n),e.style(L))}function E({$bgColor:e}){return{backgroundColor:e,height:"100%",margin:0,padding:0}}const V=t.by({$:"settings:form"},e=>a.by({global:H},e).read.keep.thru(O));function O({global:{$color:e,$bgColor:t,$fontFace:n,$fontSize:o,$lineHeight:r,$fontWeight:a}}){return{$color:e,$bgColor:t.hsl.set(({l:e})=>({l:.8*e})),$roBgColor:t.hsl.set(({l:e})=>({l:.94*e})),$fontFace:n,$fontSize:o,$lineHeight:r,$fontWeight:a,$borderColor:t,$marginV:o.div(4),$marginH:o.div(4),$paddingV:o.div(2),$paddingH:o,$borderW:s.of(1,"px")}}function R(e){const t=e.ref(V).read.keep,{root:{rules:n}}=e;return n.add({e:"input"},t.thru(j)),n.add({e:"input",s:"[readonly]"},t.thru(A)),n.add({e:"input",s:"[disabled]"},t.thru(A)),n.add({e:"input",s:":focus"},t.thru(I)),n.add({e:"input",c:["inap-invalid","inap-touched"]},t.thru(U)),n.add({e:"input",c:["inap-missing","inap-touched"]},{outlineStyle:"dotted"}),n.add({e:"input",c:["inap-incomplete","inap-touched"]},{outlineStyle:"dotted"}),n.grab({e:"input"})}function j({$color:e,$fontFace:t,$fontSize:n,$lineHeight:o,$fontWeight:r,$marginV:a,$marginH:s,$paddingV:i,$paddingH:l,$bgColor:d,$borderColor:c,$borderW:u}){return{color:e,font:`normal ${r} ${n}/${o} ${t}`,padding:`${i} ${l}`,margin:`${a} ${s}`,backgroundColor:d,border:"0 none",outline:`${u} solid ${c}`,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function A({$roBgColor:e}){return{backgroundColor:e}}function I({$color:e,$borderColor:t}){return{outlineColor:i(t,e,.5)}}function U({$color:e,$borderW:t,$borderColor:n}){return{outline:`${t.mul(2)} dashed ${i(n,e,.25)}`}}let P=class{constructor(e){this._theme=e.get(p);const t=e.get(b).document,n=e.get(m);e.whenOn(o=>{const r=e.element,a=t.createRange();o.whenOff(()=>a.deleteContents()),a.selectNodeContents(r),n.read.once(e=>{e.put(x,{fragment:{tag:r.tagName},receiver:{supply:o,receive(e,n){if(n.ok){a.deleteContents();const e=t.createDocumentFragment(),{fragment:o}=n;o&&(y(o,e),a.insertNode(e))}else!1===n.ok?(a.deleteContents(),a.insertNode(t.createTextNode(`Error. ${n.error}`))):(a.deleteContents(),a.insertNode(t.createTextNode("Loading...")))}}})})})}style(){const e=this._theme.ref(H).read.keep;return d(e.thru(q)).rules}};function q({$fontSize:e}){return{padding:0,margin:`0 0 0 ${e.div(2)}`}}l([f()],P.prototype,"style",null),P=l([h({name:["main",F]})],P);const G=["nav-active",F];let J=class{constructor(e){this._theme=e.get(p);const t=e.get(k),n=c.name(G,t),o=e.get(C),r=e.get(m);e.whenOn(e=>{const t=o.select("a",{all:!0});t.track({supply:e,receive(t,o){o.forEach(t=>{const o=t.element;new u(o).on("click").instead(()=>{o.classList.contains(n)||r.open(o.getAttribute("href")||"")}).needs(e)})}}),g({links:t,page:r})({supply:e,receive(e,{links:[t],page:[o]}){const r=K(o.url);let a,s="";t.forEach(e=>{const t=e.element,o=K(new URL(t.href));t.classList.remove(n),r.startsWith(o)&&s.length<o.length&&(a=t,s=o)}),a&&a.classList.add(n)}})})}style(){const e=this._theme.ref(H).read.keep,t=d(e.thru(M));return t.rules.add({e:"a"},e.thru(X)),t.rules.add({e:"a",c:G},e.thru(Y)),t.rules}};function K(e){const t=e.pathname;return t.endsWith("/")?t:t+"/"}function M({$fontSize:e}){return{padding:0,margin:`0 ${e.div(2)} 0 0`}}function Q({$bgColor:e}){return e.hsl.set(({l:e})=>({l:.8*e}))}function X(e){const{$fontSize:t}=e;return{display:"block",margin:0,padding:`${t.div(2)} ${t}`,border:0,outline:0,background:Q(e)}}function Y({$fontSize:e,$color:t,$bgColor:n}){const r=o.of(4,"px");return{background:n,borderLeft:`${r} solid ${t}`,paddingLeft:e.sub(r)}}l([f()],J.prototype,"style",null),J=l([h({name:["nav",F]})],J);let Z=class{constructor(e){this._context=e}async style(){const e=this._context.get(w),{elementDef:{name:t}}=await e.whenDefined(J),{elementDef:{name:n}}=await e.whenDefined(P),o=this._context.get(p).ref(H).read.keep,r=d({height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"});return r.rules.add({e:t},o.thru(e=>({flex:"0 1 200px",height:"100%",background:Q(e)}))),r.rules.add({e:n},o.thru(({$fontSize:e})=>({flex:"1 1 auto",margin:e}))),r.rules}};l([f()],Z.prototype,"style",null),Z=l([h({name:["container",F],feature:{needs:[P,J]}})],Z);let ee=class{};ee=l([v({needs:[Z,S,W,D]})],ee);let te=class{};te=l([v({needs:D,init:function(e){e.whenReady(()=>{$(e.get(p).style(B))})}})],te);let ne=class{};ne=l([v({needs:[te,ee]})],ne);const oe=z(ne);export{ne as A,F as B,L as D,V as F,R as I,H as T,oe as e,j as i,A as r};
//# sourceMappingURL=common.4d80c966.module.js.map
