import{_ as e,$ as t,t as n,m as o,Y as r,a0 as s,H as a,a1 as i,a2 as l,a3 as d,a4 as c,G as u,a5 as h,a6 as p,a as g,a7 as f,S as $,e as m,X as b,a8 as y,D as x,f as _,L as v,a9 as w}from"./lib.dc775603.m.js";import{P as k,C,a as S,b as z,A as R,R as F,c as W,D,T as L,F as H,d as N,e as O,N as B,p as E,B as T,i as V,f as j,g as A,h as I,S as G,j as M}from"./wesib.7b347a1d.m.js";const P=new e("https://wesib.github.io/examples","bex","wesib-examples");let U=class{constructor(e){this._control=n(),this.control=this._control.read;const t=e.get(S),r=e.get(z);e.whenOn(e=>{const n=o().needs(e);let s=a();r.select(this.inputSelector(),{all:!0,deep:!0}).first({supply:n,receive:(e,t)=>{this._control.it=t&&this.nodeControl(t)}}),this._control.read({supply:n,receive:(e,o)=>{s.off(),o&&(s=t.enable(o).needs(n).whenOff(()=>this._control.it=void 0))}})})}inputStyle(){return r({display:"block"}).rules}inputSelector(){return"input"}nodeControl(e){return s(e.element)}};t([k()],U.prototype,"inputStyle",null),U=t([C({name:["in-element",P],setup:S.setup})],U);const X=i.by({$:"settings"},{$color:new l({r:161,g:185,b:142}),$bgColor:new l({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:d.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600",$layoutBreakpoint:c.of(576,"px")});function Y({$layoutBreakpoint:e}){return{"@media:sm":`(max-width: ${e})`}}function q(e){const t=e.ref(X).read.keep,n={e:"a"};return e.root.rules.add(n,t.thru(J)),e.root.rules.add({e:"a",s:":visited"},t.thru(J)),e.root.rules.add({e:"a",s:":hover"},{textDecoration:"underline"}),e.root.rules.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),e.root.rules.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}),e.root.rules.grab(n)}function J({$color:e,$linkFontWeight:t}){return{color:e,fontWeight:t,textDecoration:"none"}}function K(e){const t=e.ref(X).read.keep;return e.root.add(t.thru(Q)),e.root.add(t.thru(Y)),u(e.root.rules.self,e.style(q))}function Q({$color:e,$fontFace:t,$fontSize:n,$lineHeight:o,$fontWeight:r}){return{color:e,font:`normal ${r} ${n}/${o} ${t}`}}const Z=["display-block",P];function ee(e){const t=e.ref(X).read.keep,n={e:"body"},o={e:"html"},{root:{rules:r}}=e;return r.add(n,t.thru(te)),r.add(o,{height:"100%",margin:0,padding:0}),r.add({c:Z},{display:"block !important"}),u(r.grab(o),r.grab(n),r.grab({c:Z}),e.style(K))}function te({$bgColor:e}){return{backgroundColor:e,height:"100%",margin:0,padding:0}}const ne=i.by({$:"settings:form"},e=>h.by({global:X},e).read.keep.thru(oe));function oe({global:{$color:e,$bgColor:t,$fontFace:n,$fontSize:o,$lineHeight:r,$fontWeight:s}}){return{$color:e,$bgColor:t.hsl.set(({l:e})=>({l:.8*e})),$roBgColor:t.hsl.set(({l:e})=>({l:.94*e})),$fontFace:n,$fontSize:o,$errorFontSize:o.mul(.8),$lineHeight:r,$fontWeight:s,$borderColor:t,$marginV:o.div(4),$marginH:o.div(4),$paddingV:o.div(2),$paddingH:o,$borderW:c.of(1,"px")}}const re=new $("error-receiver");class se{constructor(){this._result=n(p()),this.read=this._result.read}static get[g](){return re}enable({control:e}){return e.aspect(f).read(e=>this._result.it=e).whenOff(()=>this._result.it=p())}}let ae=class{constructor(e){this._context=e,this._validationResult=p(),this._codes=new Set;const t=e.get(se);e.whenOn(e=>{t.read(e=>this.validationResult=e).needs(e).whenOff(()=>this.validationResult=p())})}get validationResult(){return this._validationResult}set validationResult(e){const t=this._validationResult;this._validationResult=e,this._context.updateState("validationResult",e,t)}setCode(e){this._codes=new Set(e.trim().split(/\s+/))}render(){const e=this._context.element,t=b.name(Z,this._context.get(D));return()=>{y(this._codes,e=>!this.validationResult.has(e))?e.classList.remove(t):e.classList.add(t)}}style(){const e=d.of(4,"px"),t=this._context.get(L).ref(ne).read.keep;return r(t.thru(({$color:t,$errorFontSize:n})=>({display:"none",fontSize:n,padding:n.div(2),borderLeft:`${e} dotted ${t}`,paddingLeft:n.sub(e)}))).rules}};t([R("code")],ae.prototype,"setCode",null),t([F()],ae.prototype,"render",null),t([k()],ae.prototype,"style",null),ae=t([C({name:["in-error",P],setup(e){e.perComponent({as:se}),e.perComponent({a:W,by:e=>m(t=>e.enable(t)),with:[se]})}})],ae);let ie=class{};ie=t([H({needs:[N,U,ae,O]})],ie);let le=class{constructor(e){this._context=e,this._response=n(),this._response.on((t,n)=>e.updateState("response",t,n));const t=e.get(B);e.whenOn(n=>{t.read.once(t=>{t.put(E,{fragment:{tag:e.element.tagName},receiver:{supply:n,receive:(e,t)=>this._response.it=t}})})})}render(){const e=this._context.get(T).document,t=e.createRange();return t.selectNodeContents(this._context.element),()=>{const n=this._response.it;if(n)if(t.deleteContents(),n.ok){const o=e.createDocumentFragment(),{fragment:r}=n;r&&(V(r,o),t.insertNode(o))}else null==n.ok?t.insertNode(e.createTextNode("Loading...")):t.insertNode(e.createTextNode(`Error. ${n.error}`))}}style(){const e=this._context.get(L).ref(X).read.keep;return r(e.thru(de)).rules}};function de({$fontSize:e}){return{padding:0,margin:`0 0 0 ${e.div(2)}`}}t([F()],le.prototype,"render",null),t([k()],le.prototype,"style",null),le=t([C({name:["main",P]})],le);const ce=["nav-active",P];let ue=class{constructor(e){this._theme=e.get(L);const t=e.get(D),n=b.name(ce,t),o=e.get(z),r=e.get(B);e.whenOn(e=>{const t=o.select("a",{all:!0}),s=new Map;t.track.tillOff(e)((t,o)=>{o.forEach(e=>{const t=s.get(e);t&&(s.delete(e),t.off())}),t.forEach(t=>{const o=t.element,a=new x(o).on("click").instead(()=>{o.classList.contains(n)||r.open(o.getAttribute("href")||"")}).needs(e);s.set(t,a)})}),_({links:t,page:r})({supply:e,receive(e,{links:[t],page:[o]}){const r=he(o.url);let s,a="";t.forEach(e=>{const t=e.element,o=he(new URL(t.href));t.classList.remove(n),r.startsWith(o)&&a.length<o.length&&(s=t,a=o)}),s&&s.classList.add(n)}})})}style(){const e=this._theme.ref(X).read.keep,t=r(e.thru(pe));return t.rules.add({e:"a"},e.thru(fe)),t.rules.add({e:"a",c:ce},e.thru($e)),t.rules}};function he(e){const t=e.pathname;return t.endsWith("/")?t:t+"/"}function pe({$fontSize:e}){return{padding:0,margin:`0 ${e.div(2)} 0 0`}}function ge({$bgColor:e}){return e.hsl.set(({l:e})=>({l:.8*e}))}function fe(e){const{$fontSize:t}=e;return{display:"block",margin:0,padding:`${t.div(2)} ${t}`,border:0,outline:0,background:ge(e)}}function $e({$fontSize:e,$color:t,$bgColor:n}){const o=d.of(4,"px");return{background:n,borderLeft:`${o} solid ${t}`,paddingLeft:e.sub(o)}}t([k()],ue.prototype,"style",null),ue=t([C({name:["nav",P]})],ue);let me=class{constructor(e){this._context=e}async style(){const e=this._context.get(j),{elementDef:{name:t}}=await e.whenDefined(ue),{elementDef:{name:n}}=await e.whenDefined(le),o=this._context.get(L).ref(X).read.keep,{rules:s}=r({height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}).add(o.thru(Y));return s.add({s:" ",$:"@media:sm"},{height:"auto"}),s.add({e:t},o.thru(e=>({flex:"0 1 200px",height:"100%",background:ge(e)}))),s.add({e:t,$:"@media:sm"},{flex:"0 1 100%"}),s.add({e:n},o.thru(({$fontSize:e})=>({flex:"1 1 auto",margin:e}))),s}};t([k()],me.prototype,"style",null),me=t([C({name:["container",P],feature:{needs:[le,ue]}})],me);let be=class{};be=t([H({needs:[me,N,A,I,G,O]})],be);let ye=class{};ye=t([H({needs:O,init:function(e){e.whenReady(()=>{v(e.get(L).style(ee))})}})],ye);let xe=class{};function _e(e){const t=e.ref(ne).read.keep,{root:{rules:n}}=e;return n.add({e:"input"},t.thru(ve)),n.add({e:"input",s:"[readonly]"},t.thru(we)),n.add({e:"input",s:"[disabled]"},t.thru(we)),n.add({e:"input",s:":focus"},t.thru(ke)),n.add({e:"input",c:["inap-invalid","inap-touched"]},t.thru(Ce)),n.add({e:"input",c:["inap-missing","inap-touched"]},{outlineStyle:"dotted"}),n.add({e:"input",c:["inap-incomplete","inap-touched"]},{outlineStyle:"dotted"}),n.grab({e:"input"})}function ve({$color:e,$fontFace:t,$fontSize:n,$lineHeight:o,$fontWeight:r,$marginV:s,$marginH:a,$paddingV:i,$paddingH:l,$bgColor:d,$borderColor:c,$borderW:u}){return{color:e,font:`normal ${r} ${n}/${o} ${t}`,padding:`${i} ${l}`,margin:`${s} ${a}`,backgroundColor:d,border:"0 none",outline:`${u} solid ${c}`,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function we({$roBgColor:e}){return{backgroundColor:e}}function ke({$color:e,$borderColor:t}){return{outlineColor:w(t,e,.5)}}function Ce({$color:e,$borderW:t,$borderColor:n}){return{outline:`${t.mul(2)} dashed ${w(n,e,.25)}`}}xe=t([H({needs:[ye,ie,be]})],xe);const Se=M(xe);export{xe as A,P as B,K as D,ne as F,U as I,X as T,_e as a,Se as e,ve as i,we as r};
//# sourceMappingURL=common.607366c2.m.js.map
