import{W as e,_ as t,$ as o,a0 as n,w as r,a1 as a,a2 as s,a3 as i,a4 as l,U as d,T as u,D as c,h as g,H as $}from"./lib.462e9a9f.module.js";import{P as f,C as h,T as p,B as b,N as m,p as x,i as y,D as C,a as k,b as v,F as w,c as S,d as W,e as z,f as F}from"./wesib.71617564.module.js";const H=new e("https://wesib.github.io/examples","bex","wesib-examples"),D=t.by({$:"settings"},{$color:new o({r:161,g:185,b:142}),$bgColor:new o({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:n.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600"});function N(e){const t=e.ref(D).read.keep,o={e:"a"};return e.root.rules.add(o,t.thru(L)),e.root.rules.add({e:"a",s:":visited"},t.thru(L)),e.root.rules.add({e:"a",s:":hover"},{textDecoration:"underline"}),e.root.rules.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),e.root.rules.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}),e.root.rules.grab(o)}function L({$color:e,$linkFontWeight:t}){return{color:e,fontWeight:t,textDecoration:"none"}}function _(e){const t=e.ref(D).read.keep;return e.root.add(t.thru(T)),r(e.root.rules.self,e.style(N))}function T({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`}}function B(e){const t=e.ref(D).read.keep,o={e:"body"},n={e:"html"};return e.root.rules.add(o,t.thru(E)),e.root.rules.add(n,{height:"100%",margin:0,padding:0}),r(e.root.rules.grab(n),e.root.rules.grab(o),e.style(_))}function E({$bgColor:e}){return{backgroundColor:e,height:"100%",margin:0,padding:0}}const V=t.by({$:"settings:form"},e=>a.by({global:D},e).read.keep.thru(O));function O({global:{$color:e,$bgColor:t,$fontFace:o,$fontSize:n,$lineHeight:r,$fontWeight:a}}){return{$color:e,$bgColor:t.hsl.set(({l:e})=>({l:.8*e})),$roBgColor:t.hsl.set(({l:e})=>({l:.94*e})),$fontFace:o,$fontSize:n,$lineHeight:r,$fontWeight:a,$borderColor:t,$marginV:n.div(4),$marginH:n.div(4),$paddingV:n.div(2),$paddingH:n,$borderW:s.of(1,"px")}}function R(e){const t=e.ref(V).read.keep,{root:{rules:o}}=e;return o.add({e:"input"},t.thru(j)),o.add({e:"input",s:"[readonly]"},t.thru(A)),o.add({e:"input",s:"[disabled]"},t.thru(A)),o.add({e:"input",s:":focus"},t.thru(I)),o.add({e:"input",c:["inap-invalid","inap-touched"]},t.thru(U)),o.add({e:"input",c:["inap-missing","inap-touched"]},{outlineStyle:"dotted"}),o.add({e:"input",c:["inap-incomplete","inap-touched"]},{outlineStyle:"dotted"}),o.grab({e:"input"})}function j({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r,$marginV:a,$marginH:s,$paddingV:i,$paddingH:l,$bgColor:d,$borderColor:u,$borderW:c}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`,padding:`${i} ${l}`,margin:`${a} ${s}`,backgroundColor:d,border:"0 none",outline:`${c} solid ${u}`,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function A({$roBgColor:e}){return{backgroundColor:e}}function I({$color:e,$borderColor:t}){return{outlineColor:i(t,e,.5)}}function U({$color:e,$borderW:t,$borderColor:o}){return{outline:`${t.mul(2)} dashed ${i(o,e,.25)}`}}let P=class{constructor(e){this._theme=e.get(p);const t=e.get(b).document,o=e.get(m);e.whenOn(n=>{const r=e.element,a=t.createRange();n.whenOff(()=>a.deleteContents()),a.selectNodeContents(r),o.read.once(e=>{e.put(x,{fragment:{tag:r.tagName},receiver:{supply:n,receive(e,o){if(o.ok){a.deleteContents();const e=t.createDocumentFragment(),{fragment:n}=o;n&&(y(n,e),a.insertNode(e))}else!1===o.ok?(a.deleteContents(),a.insertNode(t.createTextNode(`Error. ${o.error}`))):(a.deleteContents(),a.insertNode(t.createTextNode("Loading...")))}}})})})}style(){const e=this._theme.ref(D).read.keep;return d(e.thru(q)).rules}};function q({$fontSize:e}){return{padding:0,margin:`0 0 0 ${e.div(2)}`}}l([f()],P.prototype,"style",null),P=l([h({name:["body",H]})],P);const G=["nav-active",H];let J=class{constructor(e){this._theme=e.get(p);const t=e.get(C),o=u.name(G,t),n=e.get(k),r=e.get(m);e.whenOn(e=>{const t=n.select("a",{all:!0});t.read({supply:e,receive(t,n){n.forEach(t=>{const n=t.element;new c(n).on("click").instead(()=>{n.classList.contains(o)||r.open(n.getAttribute("href")||"")}).needs(e)})}}),g({links:t,page:r})({supply:e,receive(e,{links:[t],page:[n]}){const r=K(n.url);let a,s="";t.forEach(e=>{const t=e.element,n=K(new URL(t.href));t.classList.remove(o),r.startsWith(n)&&s.length<n.length&&(a=t,s=n)}),a&&a.classList.add(o)}})})}style(){const e=this._theme.ref(D).read.keep,t=d(e.thru(M));return t.rules.add({e:"a"},e.thru(X)),t.rules.add({e:"a",c:G},e.thru(Y)),t.rules}};function K(e){const t=e.pathname;return t.endsWith("/")?t:t+"/"}function M({$fontSize:e}){return{padding:0,margin:`0 ${e.div(2)} 0 0`}}function Q({$bgColor:e}){return e.hsl.set(({l:e})=>({l:.8*e}))}function X(e){const{$fontSize:t}=e;return{display:"block",margin:0,padding:`${t.div(2)} ${t}`,border:0,outline:0,background:Q(e)}}function Y({$fontSize:e,$color:t,$bgColor:o}){const r=n.of(4,"px");return{background:o,borderLeft:`${r} solid ${t}`,paddingLeft:e.sub(r)}}l([f()],J.prototype,"style",null),J=l([h({name:["nav",H]})],J);let Z=class{constructor(e){this._theme=e.get(p)}style(){const e=d({height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}),t=this._theme.ref(D).read.keep;return e.rules.add({e:v.of(J).name},t.thru(e=>({flex:"0 1 200px",height:"100%",background:Q(e)}))),e.rules.add({e:v.of(P).name},t.thru(({$fontSize:e})=>({flex:"1 1 auto",margin:e}))),e.rules}};l([f()],Z.prototype,"style",null),Z=l([h({name:["container",H]})],Z);let ee=class{};ee=l([w({needs:[P,Z,J,S,W,z]})],ee);let te=class{};te=l([w({needs:z,init:function(e){e.whenReady(()=>{$(e.get(p).style(B))})}})],te);let oe=class{};const ne=F(oe=l([w({needs:[te,ee]})],oe));export{oe as A,H as B,_ as D,V as F,R as I,D as T,ne as e,j as i,A as r};
//# sourceMappingURL=common.8973f48a.module.js.map
