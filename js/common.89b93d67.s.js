System.register(["./lib.261fb194.s.js","./wesib.0fa360ab.s.js"],(function(e){"use strict";var t,n,r,o,i,a,u,l,s,d,c,f,p,h,g,v,b,$,m,y,x,_,k,w,C,S,z,R,F,W,D,L,O,H,N,j,B,E,V,T,A,P,I,M,U,q,G,J;return{setters:[function(e){t=e.O,n=e.a7,r=e.ac,o=e.ad,i=e.t,a=e.L,u=e.V,l=e.ae,s=e.af,d=e.ag,c=e.ah,f=e.R,p=e.ai,h=e.C,g=e.aj,v=e.ak,b=e.S,$=e.a6,m=e.al,y=e.k,x=e.D,_=e.l,k=e.am,w=e.an,C=e.ao,S=e.a9,z=e.ap},function(e){R=e.P,F=e.C,W=e.a,D=e.b,L=e.D,O=e.T,H=e.A,N=e.R,j=e.c,B=e.F,E=e.d,V=e.e,T=e.B,A=e.i,P=e.N,I=e.p,M=e.f,U=e.g,q=e.h,G=e.S,J=e.j}],execute:function(){e({D:te,a:function(e){var t=e.ref(ae).read.keep,n=e.root.rules;return n.add({e:"input"},t.thru(Se)),n.add({e:"input",s:"[readonly]"},t.thru(ze)),n.add({e:"input",s:"[disabled]"},t.thru(ze)),n.add({e:"input",s:":focus"},t.thru(Re)),n.add({e:"input",c:["inap-invalid","inap-touched"]},t.thru(Fe)),n.add({e:"input",c:["inap-missing","inap-touched"]},{outlineStyle:"dotted"}),n.add({e:"input",c:["inap-incomplete","inap-touched"]},{outlineStyle:"dotted"}),n.grab({e:"input"})},i:Se,r:ze});var K=e("B",new t("https://wesib.github.io/examples","bex","wesib-examples")),Q=e("I",function(){function e(e){var t=this;this._control=i(),this.control=this._control.read;var n=e.get(W),r=e.get(D);e.whenOn((function(e){var o=a().needs(e),i=u();r.select(t.inputSelector(),{all:!0,deep:!0}).first({supply:o,receive:function(e,n){t._control.it=n&&t.nodeControl(n)}}),t._control.read({supply:o,receive:function(e,r){i.off(),r&&(i=n.enable(r).needs(o).whenOff((function(){return t._control.it=void 0})))}})}))}return e.prototype.inputStyle=function(){return n({display:"block"}).rules},e.prototype.inputSelector=function(){return"input"},e.prototype.nodeControl=function(e){return r(e.element)},o([R()],e.prototype,"inputStyle",null),e=o([F({name:["in-element",K],setup:W.setup})],e)}()),X=e("T",l.by({$:"settings"},{$color:new s({r:161,g:185,b:142}),$bgColor:new s({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:d.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600",$layoutBreakpoint:c.of(576,"px")}));function Y(e){return{"@media:sm":"(max-width: "+e.$layoutBreakpoint+")"}}function Z(e){var t=e.ref(X).read.keep,n={e:"a"};return e.root.rules.add(n,t.thru(ee)),e.root.rules.add({e:"a",s:":visited"},t.thru(ee)),e.root.rules.add({e:"a",s:":hover"},{textDecoration:"underline"}),e.root.rules.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),e.root.rules.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}),e.root.rules.grab(n)}function ee(e){return{color:e.$color,fontWeight:e.$linkFontWeight,textDecoration:"none"}}function te(e){var t=e.ref(X).read.keep;return e.root.add(t.thru(ne)),e.root.add(t.thru(Y)),f(e.root.rules.self,e.style(Z))}function ne(e){var t=e.$color,n=e.$fontFace,r=e.$fontSize,o=e.$lineHeight;return{color:t,font:"normal "+e.$fontWeight+" "+r+"/"+o+" "+n}}var re=["display-block",K];function oe(e){var t=e.ref(X).read.keep,n={e:"body"},r={e:"html"},o=e.root.rules;return o.add(n,t.thru(ie)),o.add(r,{height:"100%",margin:0,padding:0}),o.add({c:re},{display:"block !important"}),f(o.grab(r),o.grab(n),o.grab({c:re}),e.style(te))}function ie(e){return{backgroundColor:e.$bgColor,height:"100%",margin:0,padding:0}}var ae=e("F",l.by({$:"settings:form"},(function(e){return p.by({global:X},e).read.keep.thru(ue)})));function ue(e){var t=e.global,n=t.$color,r=t.$bgColor,o=t.$fontFace,i=t.$fontSize,a=t.$lineHeight,u=t.$fontWeight;return{$color:n,$bgColor:r.hsl.set((function(e){return{l:.8*e.l}})),$roBgColor:r.hsl.set((function(e){return{l:.94*e.l}})),$fontFace:o,$fontSize:i,$errorFontSize:i.mul(.8),$lineHeight:a,$fontWeight:u,$borderColor:r,$marginV:i.div(4),$marginH:i.div(4),$paddingV:i.div(2),$paddingH:i,$borderW:c.of(1,"px")}}var le=new b("error-receiver"),se=function(){function e(){this._result=i(v()),this.read=this._result.read}return Object.defineProperty(e,h,{get:function(){return le},enumerable:!0,configurable:!0}),e.prototype.enable=function(e){var t=this;return e.control.aspect(g).read((function(e){return t._result.it=e})).whenOff((function(){return t._result.it=v()}))},e}(),de=function(){function e(e){var t=this;this._context=e,this._validationResult=v(),this._codes=new Set;var n=e.get(se);e.whenOn((function(e){n.read((function(e){return t.validationResult=e})).needs(e).whenOff((function(){return t.validationResult=v()}))}))}return Object.defineProperty(e.prototype,"validationResult",{get:function(){return this._validationResult},set:function(e){var t=this._validationResult;this._validationResult=e,this._context.updateState("validationResult",e,t)},enumerable:!0,configurable:!0}),e.prototype.setCode=function(e){this._codes=new Set(e.trim().split(/\s+/))},e.prototype.render=function(){var e=this,t=this._context.element,n=$.name(re,this._context.get(L));return function(){m(e._codes,(function(t){return!e.validationResult.has(t)}))?t.classList.remove(n):t.classList.add(n)}},e.prototype.style=function(){var e=d.of(4,"px"),t=this._context.get(O).ref(ae).read.keep;return n(t.thru((function(t){var n=t.$color,r=t.$errorFontSize;return{display:"none",fontSize:r,padding:r.div(2),borderLeft:e+" dotted "+n,paddingLeft:r.sub(e)}}))).rules},o([H("code")],e.prototype,"setCode",null),o([N()],e.prototype,"render",null),o([R()],e.prototype,"style",null),e=o([F({name:["in-error",K],setup:function(e){e.perComponent({as:se}),e.perComponent({a:j,by:function(e){return y((function(t){return e.enable(t)}))},with:[se]})}})],e)}(),ce=function(){function e(){}return e=o([B({needs:[E,Q,de,V]})],e)}(),fe=function(){function e(e){var t=this;this._context=e,this._response=i(),this._response.on((function(t,n){return e.updateState("response",t,n)}));var n=e.get(P);e.whenOn((function(r){n.read.once((function(n){n.put(I,{fragment:{tag:e.element.tagName},receiver:{supply:r,receive:function(e,n){return t._response.it=n}}})}))}))}return e.prototype.render=function(){var e=this,t=this._context.get(T).document,n=t.createRange();return n.selectNodeContents(this._context.element),function(){var r=e._response.it;if(r)if(n.deleteContents(),r.ok){var o=t.createDocumentFragment(),i=r.fragment;i&&(A(i,o),n.insertNode(o))}else null==r.ok?n.insertNode(t.createTextNode("Loading...")):n.insertNode(t.createTextNode("Error. "+r.error))}},e.prototype.style=function(){var e=this._context.get(O).ref(X).read.keep;return n(e.thru(pe)).rules},o([N()],e.prototype,"render",null),o([R()],e.prototype,"style",null),e=o([F({name:["main",K]})],e)}();function pe(e){return{padding:0,margin:"0 0 0 "+e.$fontSize.div(2)}}var he=["nav-active",K],ge=function(){function e(e){this._theme=e.get(O);var t=e.get(L),n=$.name(he,t),r=e.get(D),o=e.get(P);e.whenOn((function(e){var t=r.select("a",{all:!0}),i=new Map;t.track.tillOff(e)((function(t,r){r.forEach((function(e){var t=i.get(e);t&&(i.delete(e),t.off())})),t.forEach((function(t){var r=t.element,a=new x(r).on("click").instead((function(){r.classList.contains(n)||o.open(r.getAttribute("href")||"")})).needs(e);i.set(t,a)}))})),_({links:t,page:o})({supply:e,receive:function(e,t){var r,o=k(t.links,1)[0],i=ve(k(t.page,1)[0].url),a="";o.forEach((function(e){var t=e.element,o=ve(new URL(t.href));t.classList.remove(n),i.startsWith(o)&&a.length<o.length&&(r=t,a=o)})),r&&r.classList.add(n)}})}))}return e.prototype.style=function(){var e=this._theme.ref(X).read.keep,t=n(e.thru(be));return t.rules.add({e:"a"},e.thru(me)),t.rules.add({e:"a",c:he},e.thru(ye)),t.rules},o([R()],e.prototype,"style",null),e=o([F({name:["nav",K]})],e)}();function ve(e){var t=e.pathname;return t.endsWith("/")?t:t+"/"}function be(e){return{padding:0,margin:"0 "+e.$fontSize.div(2)+" 0 0"}}function $e(e){return e.$bgColor.hsl.set((function(e){return{l:.8*e.l}}))}function me(e){var t=e.$fontSize;return{display:"block",margin:0,padding:t.div(2)+" "+t,border:0,outline:0,background:$e(e)}}function ye(e){var t=e.$fontSize,n=e.$color,r=e.$bgColor,o=d.of(4,"px");return{background:r,borderLeft:o+" solid "+n,paddingLeft:t.sub(o)}}var xe=function(){function e(e){this._context=e}return e.prototype.style=function(){return w(this,void 0,void 0,(function(){var e,t,r,o,i,a;return C(this,(function(u){switch(u.label){case 0:return[4,(e=this._context.get(M)).whenDefined(ge)];case 1:return t=u.sent().elementDef.name,[4,e.whenDefined(fe)];case 2:return r=u.sent().elementDef.name,o=this._context.get(O),i=o.ref(X).read.keep,(a=n({height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}).add(i.thru(Y)).rules).add({s:" ",$:"@media:sm"},{height:"auto"}),a.add({e:t},i.thru((function(e){return{flex:"0 1 200px",height:"100%",background:$e(e)}}))),a.add({e:t,$:"@media:sm"},{flex:"0 1 100%"}),a.add({e:r},i.thru((function(e){return{flex:"1 1 auto",margin:e.$fontSize}}))),[2,a]}}))}))},o([R()],e.prototype,"style",null),e=o([F({name:["container",K],feature:{needs:[fe,ge]}})],e)}(),_e=function(){function e(){}return e=o([B({needs:[xe,E,U,q,G,V]})],e)}(),ke=function(){function e(){}return e=o([B({needs:V,init:we})],e)}();function we(e){e.whenReady((function(){S(e.get(O).style(oe))}))}var Ce=e("A",function(){function e(){}return e=o([B({needs:[ke,ce,_e]})],e)}());function Se(e){var t=e.$color,n=e.$fontFace,r=e.$fontSize,o=e.$lineHeight,i=e.$fontWeight,a=e.$marginV,u=e.$marginH,l=e.$paddingV,s=e.$paddingH,d=e.$bgColor,c=e.$borderColor;return{color:t,font:"normal "+i+" "+r+"/"+o+" "+n,padding:l+" "+s,margin:a+" "+u,backgroundColor:d,border:"0 none",outline:e.$borderW+" solid "+c,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function ze(e){return{backgroundColor:e.$roBgColor}}function Re(e){var t=e.$color,n=e.$borderColor;return{outlineColor:z(n,t,.5)}}function Fe(e){var t=e.$color,n=e.$borderW,r=e.$borderColor;return{outline:n.mul(2)+" dashed "+z(r,t,.25)}}e("e",J(Ce))}}}));
//# sourceMappingURL=common.89b93d67.s.js.map
