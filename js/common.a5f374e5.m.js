import{Y as e,$ as t,a0 as o,a1 as n,a2 as r,G as a,a3 as s,a4 as i,a5 as l,W as d,V as c,D as u,i as g,I as f}from"./lib.c491fb55.m.js";import{P as $,C as h,T as p,B as m,N as b,p as x,i as y,D as k,a as C,b as w,F as v,c as S,d as W,R as D,S as z,e as F,f as H}from"./wesib.2f6ae93e.m.js";const N=new e("https://wesib.github.io/examples","bex","wesib-examples"),L=t.by({$:"settings"},{$color:new o({r:161,g:185,b:142}),$bgColor:new o({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:n.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600",$layoutBreakpoint:r.of(576,"px")});function _({$layoutBreakpoint:e}){return{"@media:sm":`(max-width: ${e})`}}function B(e){const t=e.ref(L).read.keep,o={e:"a"};return e.root.rules.add(o,t.thru(E)),e.root.rules.add({e:"a",s:":visited"},t.thru(E)),e.root.rules.add({e:"a",s:":hover"},{textDecoration:"underline"}),e.root.rules.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),e.root.rules.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}),e.root.rules.grab(o)}function E({$color:e,$linkFontWeight:t}){return{color:e,fontWeight:t,textDecoration:"none"}}function V(e){const t=e.ref(L).read.keep;return e.root.add(t.thru(O)),e.root.add(t.thru(_)),a(e.root.rules.self,e.style(B))}function O({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`}}function R(e){const t=e.ref(L).read.keep,o={e:"body"},n={e:"html"};return e.root.rules.add(o,t.thru(T)),e.root.rules.add(n,{height:"100%",margin:0,padding:0}),a(e.root.rules.grab(n),e.root.rules.grab(o),e.style(V))}function T({$bgColor:e}){return{backgroundColor:e,height:"100%",margin:0,padding:0}}const I=t.by({$:"settings:form"},e=>s.by({global:L},e).read.keep.thru(j));function j({global:{$color:e,$bgColor:t,$fontFace:o,$fontSize:n,$lineHeight:a,$fontWeight:s}}){return{$color:e,$bgColor:t.hsl.set(({l:e})=>({l:.8*e})),$roBgColor:t.hsl.set(({l:e})=>({l:.94*e})),$fontFace:o,$fontSize:n,$lineHeight:a,$fontWeight:s,$borderColor:t,$marginV:n.div(4),$marginH:n.div(4),$paddingV:n.div(2),$paddingH:n,$borderW:r.of(1,"px")}}function A(e){const t=e.ref(I).read.keep,{root:{rules:o}}=e;return o.add({e:"input"},t.thru(G)),o.add({e:"input",s:"[readonly]"},t.thru(M)),o.add({e:"input",s:"[disabled]"},t.thru(M)),o.add({e:"input",s:":focus"},t.thru(P)),o.add({e:"input",c:["inap-invalid","inap-touched"]},t.thru(U)),o.add({e:"input",c:["inap-missing","inap-touched"]},{outlineStyle:"dotted"}),o.add({e:"input",c:["inap-incomplete","inap-touched"]},{outlineStyle:"dotted"}),o.grab({e:"input"})}function G({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r,$marginV:a,$marginH:s,$paddingV:i,$paddingH:l,$bgColor:d,$borderColor:c,$borderW:u}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`,padding:`${i} ${l}`,margin:`${a} ${s}`,backgroundColor:d,border:"0 none",outline:`${u} solid ${c}`,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function M({$roBgColor:e}){return{backgroundColor:e}}function P({$color:e,$borderColor:t}){return{outlineColor:i(t,e,.5)}}function U({$color:e,$borderW:t,$borderColor:o}){return{outline:`${t.mul(2)} dashed ${i(o,e,.25)}`}}let Y=class{constructor(e){this._theme=e.get(p);const t=e.get(m).document,o=e.get(b);e.whenOn(n=>{const r=e.element,a=t.createRange();n.whenOff(()=>a.deleteContents()),a.selectNodeContents(r),o.read.once(e=>{e.put(x,{fragment:{tag:r.tagName},receiver:{supply:n,receive(e,o){if(o.ok){a.deleteContents();const e=t.createDocumentFragment(),{fragment:n}=o;n&&(y(n,e),a.insertNode(e))}else!1===o.ok?(a.deleteContents(),a.insertNode(t.createTextNode(`Error. ${o.error}`))):(a.deleteContents(),a.insertNode(t.createTextNode("Loading...")))}}})})})}style(){const e=this._theme.ref(L).read.keep;return d(e.thru(q)).rules}};function q({$fontSize:e}){return{padding:0,margin:`0 0 0 ${e.div(2)}`}}l([$()],Y.prototype,"style",null),Y=l([h({name:["main",N]})],Y);const J=["nav-active",N];let K=class{constructor(e){this._theme=e.get(p);const t=e.get(k),o=c.name(J,t),n=e.get(C),r=e.get(b);e.whenOn(e=>{const t=n.select("a",{all:!0}),a=new Map;t.track.tillOff(e)((t,n)=>{n.forEach(e=>{const t=a.get(e);t&&(a.delete(e),t.off())}),t.forEach(t=>{const n=t.element,s=new u(n).on("click").instead(()=>{n.classList.contains(o)||r.open(n.getAttribute("href")||"")}).needs(e);a.set(t,s)})}),g({links:t,page:r})({supply:e,receive(e,{links:[t],page:[n]}){const r=Q(n.url);let a,s="";t.forEach(e=>{const t=e.element,n=Q(new URL(t.href));t.classList.remove(o),r.startsWith(n)&&s.length<n.length&&(a=t,s=n)}),a&&a.classList.add(o)}})})}style(){const e=this._theme.ref(L).read.keep,t=d(e.thru(X));return t.rules.add({e:"a"},e.thru(ee)),t.rules.add({e:"a",c:J},e.thru(te)),t.rules}};function Q(e){const t=e.pathname;return t.endsWith("/")?t:t+"/"}function X({$fontSize:e}){return{padding:0,margin:`0 ${e.div(2)} 0 0`}}function Z({$bgColor:e}){return e.hsl.set(({l:e})=>({l:.8*e}))}function ee(e){const{$fontSize:t}=e;return{display:"block",margin:0,padding:`${t.div(2)} ${t}`,border:0,outline:0,background:Z(e)}}function te({$fontSize:e,$color:t,$bgColor:o}){const r=n.of(4,"px");return{background:o,borderLeft:`${r} solid ${t}`,paddingLeft:e.sub(r)}}l([$()],K.prototype,"style",null),K=l([h({name:["nav",N]})],K);let oe=class{constructor(e){this._context=e}async style(){const e=this._context.get(w),{elementDef:{name:t}}=await e.whenDefined(K),{elementDef:{name:o}}=await e.whenDefined(Y),n=this._context.get(p).ref(L).read.keep,{rules:r}=d({height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}).add(n.thru(_));return r.add({s:" ",$:"@media:sm"},{height:"auto"}),r.add({e:t},n.thru(e=>({flex:"0 1 200px",height:"100%",background:Z(e)}))),r.add({e:t,$:"@media:sm"},{flex:"0 1 100%"}),r.add({e:o},n.thru(({$fontSize:e})=>({flex:"1 1 auto",margin:e}))),r}};l([$()],oe.prototype,"style",null),oe=l([h({name:["container",N],feature:{needs:[Y,K]}})],oe);let ne=class{};ne=l([v({needs:[oe,S,W,D,z,F]})],ne);let re=class{};re=l([v({needs:F,init:function(e){e.whenReady(()=>{f(e.get(p).style(R))})}})],re);let ae=class{};ae=l([v({needs:[re,ne]})],ae);const se=H(ae);export{ae as A,N as B,V as D,I as F,A as I,L as T,se as e,G as i,M as r};
//# sourceMappingURL=common.a5f374e5.m.js.map
