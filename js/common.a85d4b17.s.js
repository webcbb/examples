System.register(["./lib.ac9804e0.s.js","./wesib.d4d19ade.s.js"],(function(e){"use strict";var t,n,r,o,i,a,u,l,d,s,c,f,p,h,g,v,$,b,m,y,x,_,k,w,C,S,z,W,F,R,D,L,O,H,N,j,B,E,T,V,A,P,I,M,Q,U,q,G;return{setters:[function(e){t=e.O,n=e.ac,r=e.ad,o=e.ae,i=e.af,a=e.Q,u=e.ag,l=e.C,d=e.ah,s=e.ai,c=e.S,f=e.t,p=e.a6,h=e.aj,g=e.a7,v=e.ak,$=e.k,b=e.D,m=e.l,y=e.al,x=e.am,_=e.an,k=e.a9,w=e.ao,C=e.L,S=e.W,z=e.ap},function(e){W=e.D,F=e.T,R=e.A,D=e.R,L=e.P,O=e.C,H=e.a,N=e.F,j=e.b,B=e.c,E=e.B,T=e.i,V=e.N,A=e.p,P=e.d,I=e.e,M=e.f,Q=e.g,U=e.S,q=e.h,G=e.j}],execute:function(){e({D:ee,a:function(e){var t=e.ref(ie).read.keep,n=e.root.rules;return n.add({e:"input"},t.thru(Ce)),n.add({e:"input",s:"[readonly]"},t.thru(Se)),n.add({e:"input",s:"[disabled]"},t.thru(Se)),n.add({e:"input",s:":focus"},t.thru(ze)),n.add({e:"input",c:["inap-invalid","inap-touched"]},t.thru(We)),n.add({e:"input",c:["inap-missing","inap-touched"]},{outlineStyle:"dotted"}),n.add({e:"input",c:["inap-incomplete","inap-touched"]},{outlineStyle:"dotted"}),n.grab({e:"input"})},i:Ce,r:Se});var J=e("B",new t("https://wesib.github.io/examples","bex","wesib-examples")),K=e("T",n.by({$:"settings"},{$color:new r({r:161,g:185,b:142}),$bgColor:new r({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:o.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600",$layoutBreakpoint:i.of(576,"px")}));function X(e){return{"@media:sm":"(max-width: "+e.$layoutBreakpoint+")"}}function Y(e){var t=e.ref(K).read.keep,n={e:"a"};return e.root.rules.add(n,t.thru(Z)),e.root.rules.add({e:"a",s:":visited"},t.thru(Z)),e.root.rules.add({e:"a",s:":hover"},{textDecoration:"underline"}),e.root.rules.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),e.root.rules.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}),e.root.rules.grab(n)}function Z(e){return{color:e.$color,fontWeight:e.$linkFontWeight,textDecoration:"none"}}function ee(e){var t=e.ref(K).read.keep;return e.root.add(t.thru(te)),e.root.add(t.thru(X)),a(e.root.rules.self,e.style(Y))}function te(e){var t=e.$color,n=e.$fontFace,r=e.$fontSize,o=e.$lineHeight;return{color:t,font:"normal "+e.$fontWeight+" "+r+"/"+o+" "+n}}var ne=["display-block",J];function re(e){var t=e.ref(K).read.keep,n={e:"body"},r={e:"html"},o=e.root.rules;return o.add(n,t.thru(oe)),o.add(r,{height:"100%",margin:0,padding:0}),o.add({c:ne},{display:"block !important"}),a(o.grab(r),o.grab(n),o.grab({c:ne}),e.style(ee))}function oe(e){return{backgroundColor:e.$bgColor,height:"100%",margin:0,padding:0}}var ie=e("F",n.by({$:"settings:form"},(function(e){return u.by({global:K},e).read.keep.thru(ae)})));function ae(e){var t=e.global,n=t.$color,r=t.$bgColor,o=t.$fontFace,a=t.$fontSize,u=t.$lineHeight,l=t.$fontWeight;return{$color:n,$bgColor:r.hsl.set((function(e){return{l:.8*e.l}})),$roBgColor:r.hsl.set((function(e){return{l:.94*e.l}})),$fontFace:o,$fontSize:a,$errorFontSize:a.mul(.8),$lineHeight:u,$fontWeight:l,$borderColor:r,$marginV:a.div(4),$marginH:a.div(4),$paddingV:a.div(2),$paddingH:a,$borderW:i.of(1,"px")}}var ue=new c("error-receiver"),le=function(){function e(){this._result=f(s()),this.read=this._result.read}return Object.defineProperty(e,l,{get:function(){return ue},enumerable:!0,configurable:!0}),e.prototype.enable=function(e){var t=this;return e.control.aspect(d).read((function(e){return t._result.it=e})).whenOff((function(){return t._result.it=s()}))},e}(),de=function(){function e(e){var t=this;this._context=e,this._validationResult=s(),this._codes=new Set;var n=e.get(le);e.whenOn((function(e){n.read((function(e){return t.validationResult=e})).needs(e).whenOff((function(){return t.validationResult=s()}))}))}return Object.defineProperty(e.prototype,"validationResult",{get:function(){return this._validationResult},set:function(e){var t=this._validationResult;this._validationResult=e,this._context.updateState("validationResult",e,t)},enumerable:!0,configurable:!0}),e.prototype.setCode=function(e){this._codes=new Set(e.trim().split(/\s+/))},e.prototype.render=function(){var e=this,t=this._context.element,n=p.name(ne,this._context.get(W));return function(){h(e._codes,(function(t){return!e.validationResult.has(t)}))?t.classList.remove(n):t.classList.add(n)}},e.prototype.style=function(){var e=o.of(4,"px"),t=this._context.get(F).ref(ie).read.keep;return g(t.thru((function(t){var n=t.$color,r=t.$errorFontSize;return{display:"none",fontSize:r,padding:r.div(2),borderLeft:e+" dotted "+n,paddingLeft:r.sub(e)}}))).rules},v([R("code")],e.prototype,"setCode",null),v([D()],e.prototype,"render",null),v([L()],e.prototype,"style",null),e=v([O({name:["in-error",J],setup:function(e){e.perComponent({as:le}),e.perComponent({a:H,by:function(e){return $((function(t){return e.enable(t)}))},with:[le]})}})],e)}(),se=function(){function e(){}return e=v([N({needs:[j,de,B]})],e)}(),ce=function(){function e(e){var t=this;this._context=e,this._response=f(),this._response.on((function(t,n){return e.updateState("response",t,n)}));var n=e.get(V);e.whenOn((function(r){n.read.once((function(n){n.put(A,{fragment:{tag:e.element.tagName},receiver:{supply:r,receive:function(e,n){return t._response.it=n}}})}))}))}return e.prototype.render=function(){var e=this,t=this._context.get(E).document,n=t.createRange();return n.selectNodeContents(this._context.element),function(){var r=e._response.it;if(r)if(n.deleteContents(),r.ok){var o=t.createDocumentFragment(),i=r.fragment;i&&(T(i,o),n.insertNode(o))}else null==r.ok?n.insertNode(t.createTextNode("Loading...")):n.insertNode(t.createTextNode("Error. "+r.error))}},e.prototype.style=function(){var e=this._context.get(F).ref(K).read.keep;return g(e.thru(fe)).rules},v([D()],e.prototype,"render",null),v([L()],e.prototype,"style",null),e=v([O({name:["main",J]})],e)}();function fe(e){return{padding:0,margin:"0 0 0 "+e.$fontSize.div(2)}}var pe=["nav-active",J],he=function(){function e(e){this._theme=e.get(F);var t=e.get(W),n=p.name(pe,t),r=e.get(P),o=e.get(V);e.whenOn((function(e){var t=r.select("a",{all:!0}),i=new Map;t.track.tillOff(e)((function(t,r){r.forEach((function(e){var t=i.get(e);t&&(i.delete(e),t.off())})),t.forEach((function(t){var r=t.element,a=new b(r).on("click").instead((function(){r.classList.contains(n)||o.open(r.getAttribute("href")||"")})).needs(e);i.set(t,a)}))})),m({links:t,page:o})({supply:e,receive:function(e,t){var r,o=y(t.links,1)[0],i=ge(y(t.page,1)[0].url),a="";o.forEach((function(e){var t=e.element,o=ge(new URL(t.href));t.classList.remove(n),i.startsWith(o)&&a.length<o.length&&(r=t,a=o)})),r&&r.classList.add(n)}})}))}return e.prototype.style=function(){var e=this._theme.ref(K).read.keep,t=g(e.thru(ve));return t.rules.add({e:"a"},e.thru(be)),t.rules.add({e:"a",c:pe},e.thru(me)),t.rules},v([L()],e.prototype,"style",null),e=v([O({name:["nav",J]})],e)}();function ge(e){var t=e.pathname;return t.endsWith("/")?t:t+"/"}function ve(e){return{padding:0,margin:"0 "+e.$fontSize.div(2)+" 0 0"}}function $e(e){return e.$bgColor.hsl.set((function(e){return{l:.8*e.l}}))}function be(e){var t=e.$fontSize;return{display:"block",margin:0,padding:t.div(2)+" "+t,border:0,outline:0,background:$e(e)}}function me(e){var t=e.$fontSize,n=e.$color,r=e.$bgColor,i=o.of(4,"px");return{background:r,borderLeft:i+" solid "+n,paddingLeft:t.sub(i)}}var ye=function(){function e(e){this._context=e}return e.prototype.style=function(){return x(this,void 0,void 0,(function(){var e,t,n,r,o,i;return _(this,(function(a){switch(a.label){case 0:return[4,(e=this._context.get(I)).whenDefined(he)];case 1:return t=a.sent().elementDef.name,[4,e.whenDefined(ce)];case 2:return n=a.sent().elementDef.name,r=this._context.get(F),o=r.ref(K).read.keep,(i=g({height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}).add(o.thru(X)).rules).add({s:" ",$:"@media:sm"},{height:"auto"}),i.add({e:t},o.thru((function(e){return{flex:"0 1 200px",height:"100%",background:$e(e)}}))),i.add({e:t,$:"@media:sm"},{flex:"0 1 100%"}),i.add({e:n},o.thru((function(e){return{flex:"1 1 auto",margin:e.$fontSize}}))),[2,i]}}))}))},v([L()],e.prototype,"style",null),e=v([O({name:["container",J],feature:{needs:[ce,he]}})],e)}(),xe=function(){function e(){}return e=v([N({needs:[ye,j,M,Q,U,B]})],e)}(),_e=function(){function e(){}return e=v([N({needs:B,init:ke})],e)}();function ke(e){e.whenReady((function(){k(e.get(F).style(re))}))}var we=e("A",function(){function e(){}return e=v([N({needs:[_e,se,xe]})],e)}());e("I",function(){function e(e){var t=this;this._control=f(),this.control=this._control.read;var n=e.get(q),r=e.get(P);e.whenOn((function(e){var o=C().needs(e),i=S();r.select(t.inputSelector(),{all:!0,deep:!0}).first({supply:o,receive:function(e,n){t._control.it=n&&t.nodeControl(n)}}),t._control.read({supply:o,receive:function(e,r){i.off(),r&&(i=n.enable(r).needs(o).whenOff((function(){return t._control.it=void 0})))}})}))}return e.prototype.inputStyle=function(){return g({display:"block"}).rules},e.prototype.inputSelector=function(){return"input"},e.prototype.nodeControl=function(e){return w(e.element)},v([L()],e.prototype,"inputStyle",null),e=v([O({name:["in-element",J],setup:q.setup})],e)}());function Ce(e){var t=e.$color,n=e.$fontFace,r=e.$fontSize,o=e.$lineHeight,i=e.$fontWeight,a=e.$marginV,u=e.$marginH,l=e.$paddingV,d=e.$paddingH,s=e.$bgColor,c=e.$borderColor;return{color:t,font:"normal "+i+" "+r+"/"+o+" "+n,padding:l+" "+d,margin:a+" "+u,backgroundColor:s,border:"0 none",outline:e.$borderW+" solid "+c,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function Se(e){return{backgroundColor:e.$roBgColor}}function ze(e){var t=e.$color,n=e.$borderColor;return{outlineColor:z(n,t,.5)}}function We(e){var t=e.$color,n=e.$borderW,r=e.$borderColor;return{outline:n.mul(2)+" dashed "+z(r,t,.25)}}e("e",G(we))}}}));
//# sourceMappingURL=common.a85d4b17.s.js.map
