import{N as e,ab as t,ac as o,ad as n,ae as r,$ as a,af as s,ag as d,ah as i,I as l,ai as u,aj as c,ak as $,al as h,a1 as f,am as g}from"./lib.b857b26f.m.js";import{C as b,T as p,P as x,a as m,A as y,b as k,c as v,F as C,d as S,e as w,I as z,f as F,H as W,W as H,B as _,g as D,S as B,h as L}from"./wesib.7867ee68.m.js";const N=new e("https://wesib.github.io/examples","bex","wesib-examples"),I=t.by({$:"settings"},{$color:new o({r:161,g:185,b:142}),$bgColor:new o({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:n.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600",$layoutBreakpoint:r.of(576,"px")});function T({$layoutBreakpoint:e}){return{"@media:sm":`(max-width: ${e})`}}function V(e){const t=e.ref(I).read.keep,{root:{rules:o}}=e;return a(o.add({e:"a"},t.thru(j)),o.add({e:"a",s:":visited"},t.thru(j)),o.add({e:"a",s:":hover"},{textDecoration:"underline"}),o.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),o.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}))}function j({$color:e,$linkFontWeight:t}){return{color:e,fontWeight:t,textDecoration:"none"}}function A(e){const t=e.ref(I).read.keep;return a(e.root.add(t.thru(E)).add(t.thru(T)),e.style(V))}function E({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`}}function R(e){const t=e.ref(I).read.keep,{root:{rules:o}}=e;return a(o.add({e:"html"},{height:"100%",margin:0,padding:0}),o.add({e:"body"},t.thru(P)),e.style(A))}function P({$bgColor:e}){return{backgroundColor:e,height:"100%",margin:0,padding:0}}const U=t.by({$:"settings:form"},e=>s.by({global:I},e).read.keep.thru(q));function q({global:{$color:e,$bgColor:t,$fontFace:o,$fontSize:n,$lineHeight:a,$fontWeight:s}}){return{$color:e,$bgColor:t.hsl.set(({l:e})=>({l:.8*e})),$roBgColor:t.hsl.set(({l:e})=>({l:.94*e})),$fontFace:o,$fontSize:n,$errorFontSize:n.mul(.8),$lineHeight:a,$fontWeight:s,$borderColor:t,$marginV:n.div(4),$marginH:n.div(4),$paddingV:n.div(2),$paddingH:n,$borderW:r.of(1,"px")}}let G=class{constructor(e){this._context=e}style(){return this._context.get(p).style(K)}};d([x()],G.prototype,"style",null),G=d([b(["in-error",N],y("code"),m(({control:{control:e},aspects:t,context:o})=>{const{element:n}=o;return l(o.get(k).track(v("code")).onUpdate.thru_((e,t)=>t),()=>[n.getAttribute("code")]).keep.thru_(e=>e?e.trim().split(/\s+/):[]).keep.thru(n=>e.convert(u.to(o.element),t).setup(c,e=>{e.add($()),e.add(h({when:n}))}))}))],G);const J=["has-error",i];function K(e){const t=e.ref(U).read.keep,{root:{rules:o}}=e,r=n.of(4,"px");return a(o.add({u:[":","host"],$:"bex:in-error"},t.thru(({$color:e,$errorFontSize:t})=>({display:"none",fontSize:t,padding:t.div(2),borderLeft:`${r} dotted ${e}`,paddingLeft:t.sub(r)}))),o.add({u:[":","host",{c:[J,["touched",i]],u:[":","not",{c:["has-focus",i]}]}],$:"bex:in-error"},{display:"block"}),o.add({u:[":","host",{c:J,u:[[":","not",{u:["code","~=","missing"]}],[":","not",{u:["code","~=","incomplete"]}]]}],$:"bex:in-error"},{display:"block"}))}let M=class{};M=d([C({needs:[S,G,w]})],M);let O=class{};function Q({$fontSize:e}){return{flex:"1 1 auto",padding:0,margin:`0 0 0 ${e.div(2)}`}}O=d([b(["main",N],z({onResponse({response:e,range:t}){e.ok||(t.deleteContents(),null==e.ok?t.insertNode(document.createTextNode("Loading...")):t.insertNode(document.createTextNode(`Error. ${e.error}`)))}}))],O);let X=class{constructor(e){this._theme=e.get(p)}style(){return this._theme.style(Y)}};d([x()],X.prototype,"style",null),X=d([b(["nav",N],W(),F())],X);function Y(e){const t=e.ref(I).read.keep,{root:{rules:o}}=e;return a(o.add({u:[":","host"],$:"bex:nav"},t.thru(Z)),o.add({u:[":","host"],$:"bex:nav"},t.thru(e=>({flex:"0 1 200px",height:"100%",background:ee(e)}))),o.add({u:[":","host"],$:["bex:nav","@media:sm"]},{flex:"0 1 100%"}),o.add([{u:[":","host"],$:"bex:nav"},{e:"a",$:"bex:nav"}],t.thru(te)),o.add([{u:[":","host"],$:"bex:nav"},{e:"a",c:["active",H],$:"bex:nav"}],t.thru(oe)))}function Z({$fontSize:e}){return{padding:0,margin:`0 ${e.div(2)} 0 0`}}function ee({$bgColor:e}){return e.hsl.set(({l:e})=>({l:.8*e}))}function te(e){const{$fontSize:t}=e;return{display:"block",margin:0,padding:`${t.div(2)} ${t}`,border:0,outline:0,background:ee(e)}}function oe({$fontSize:e,$color:t,$bgColor:o}){const r=n.of(4,"px");return{background:o,borderLeft:`${r} solid ${t}`,paddingLeft:e.sub(r)}}let ne=class{constructor(e){this._context=e}async style(){const{elementDef:{name:e}}=await this._context.get(_).whenDefined(O);return this._context.get(p).style(function(e){return t=>{const o=t.ref(I).read.keep,{root:{rules:n}}=t;return a(n.add({u:[":","host"],$:"bex:container"},{height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}).add(o.thru(T)),n.add({u:[":","host"],$:["bex:container","@media:sm"]},{height:"auto"}),n.add([{u:[":","host"],$:"bex:container"},{e,$:"bex:container"}],o.thru(Q)))}}(e))}};d([x()],ne.prototype,"style",null),ne=d([b({name:["container",N],feature:{needs:[O,X]}})],ne);let re=class{};re=d([C({needs:[ne,S,D,B,w]})],re);let ae=class{};ae=d([C({needs:w,init(e){e.whenReady(()=>{f(e.get(p).style(R))})}})],ae);let se=class{};function de(e){const t=e.ref(U).read.keep,{root:{rules:o}}=e;return a(o.add({e:"input"},t.thru(ie)),o.add({e:"input",s:"[readonly]"},t.thru(le)),o.add({e:"input",s:"[disabled]"},t.thru(le)),o.add({e:"input",s:":focus"},t.thru(ue)),o.add({e:"input",c:[["invalid",i],["touched",i]]},t.thru(ce)),o.add({e:"input",c:[["missing",i],["touched",i]]},{outlineStyle:"dotted"}),o.add({e:"input",c:[["incomplete",i],["touched",i]]},{outlineStyle:"dotted"}))}function ie({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r,$marginV:a,$marginH:s,$paddingV:d,$paddingH:i,$bgColor:l,$borderColor:u,$borderW:c}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`,padding:`${d} ${i}`,margin:`${a} ${s}`,backgroundColor:l,border:"0 none",outline:`${c} solid ${u}`,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function le({$roBgColor:e}){return{backgroundColor:e}}function ue({$color:e,$borderColor:t}){return{outlineColor:g(t,e,.5)}}function ce({$color:e,$borderW:t,$borderColor:o}){return{outline:`${t.mul(2)} dashed ${g(o,e,.25)}`}}se=d([C({needs:[ae,M,re]})],se);const $e=L(se);export{se as A,A as D,N as E,U as F,de as I,I as T,$e as e,ie as i,le as r};//# sourceMappingURL=common.e74d1b09.m.js.map
