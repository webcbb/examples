import{Y as e,$ as t,a0 as o,a1 as n,a2 as r,G as a,a3 as s,a4 as i,a5 as l,t as d,W as c,V as u,D as g,i as $,I as f}from"./lib.c491fb55.m.js";import{R as h,P as p,C as m,N as b,p as x,B as y,i as k,T as w,D as C,a as v,b as S,F as W,c as _,d as D,e as z,S as F,f as H,g as N}from"./wesib.a5323d8f.m.js";const L=new e("https://wesib.github.io/examples","bex","wesib-examples"),B=t.by({$:"settings"},{$color:new o({r:161,g:185,b:142}),$bgColor:new o({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:n.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600",$layoutBreakpoint:r.of(576,"px")});function E({$layoutBreakpoint:e}){return{"@media:sm":`(max-width: ${e})`}}function V(e){const t=e.ref(B).read.keep,o={e:"a"};return e.root.rules.add(o,t.thru(R)),e.root.rules.add({e:"a",s:":visited"},t.thru(R)),e.root.rules.add({e:"a",s:":hover"},{textDecoration:"underline"}),e.root.rules.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),e.root.rules.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}),e.root.rules.grab(o)}function R({$color:e,$linkFontWeight:t}){return{color:e,fontWeight:t,textDecoration:"none"}}function T(e){const t=e.ref(B).read.keep;return e.root.add(t.thru(I)),e.root.add(t.thru(E)),a(e.root.rules.self,e.style(V))}function I({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`}}function O(e){const t=e.ref(B).read.keep,o={e:"body"},n={e:"html"};return e.root.rules.add(o,t.thru(j)),e.root.rules.add(n,{height:"100%",margin:0,padding:0}),a(e.root.rules.grab(n),e.root.rules.grab(o),e.style(T))}function j({$bgColor:e}){return{backgroundColor:e,height:"100%",margin:0,padding:0}}const A=t.by({$:"settings:form"},e=>s.by({global:B},e).read.keep.thru(G));function G({global:{$color:e,$bgColor:t,$fontFace:o,$fontSize:n,$lineHeight:a,$fontWeight:s}}){return{$color:e,$bgColor:t.hsl.set(({l:e})=>({l:.8*e})),$roBgColor:t.hsl.set(({l:e})=>({l:.94*e})),$fontFace:o,$fontSize:n,$lineHeight:a,$fontWeight:s,$borderColor:t,$marginV:n.div(4),$marginH:n.div(4),$paddingV:n.div(2),$paddingH:n,$borderW:r.of(1,"px")}}function M(e){const t=e.ref(A).read.keep,{root:{rules:o}}=e;return o.add({e:"input"},t.thru(P)),o.add({e:"input",s:"[readonly]"},t.thru(U)),o.add({e:"input",s:"[disabled]"},t.thru(U)),o.add({e:"input",s:":focus"},t.thru(Y)),o.add({e:"input",c:["inap-invalid","inap-touched"]},t.thru(q)),o.add({e:"input",c:["inap-missing","inap-touched"]},{outlineStyle:"dotted"}),o.add({e:"input",c:["inap-incomplete","inap-touched"]},{outlineStyle:"dotted"}),o.grab({e:"input"})}function P({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r,$marginV:a,$marginH:s,$paddingV:i,$paddingH:l,$bgColor:d,$borderColor:c,$borderW:u}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`,padding:`${i} ${l}`,margin:`${a} ${s}`,backgroundColor:d,border:"0 none",outline:`${u} solid ${c}`,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function U({$roBgColor:e}){return{backgroundColor:e}}function Y({$color:e,$borderColor:t}){return{outlineColor:i(t,e,.5)}}function q({$color:e,$borderW:t,$borderColor:o}){return{outline:`${t.mul(2)} dashed ${i(o,e,.25)}`}}let J=class{constructor(e){this._context=e,this._response=d(),this._response.on((t,o)=>e.updateState("response",t,o));const t=e.get(b);e.whenOn(o=>{t.read.once(t=>{t.put(x,{fragment:{tag:e.element.tagName},receiver:{supply:o,receive:(e,t)=>this._response.it=t}})})})}render(){const e=this._context.get(y).document,t=e.createRange();return t.selectNodeContents(this._context.element),()=>{const o=this._response.it;if(o)if(t.deleteContents(),o.ok){const n=e.createDocumentFragment(),{fragment:r}=o;r&&(k(r,n),t.insertNode(n))}else null==o.ok?t.insertNode(e.createTextNode("Loading...")):t.insertNode(e.createTextNode(`Error. ${o.error}`))}}style(){const e=this._context.get(w).ref(B).read.keep;return c(e.thru(K)).rules}};function K({$fontSize:e}){return{padding:0,margin:`0 0 0 ${e.div(2)}`}}l([h()],J.prototype,"render",null),l([p()],J.prototype,"style",null),J=l([m({name:["main",L]})],J);const Q=["nav-active",L];let X=class{constructor(e){this._theme=e.get(w);const t=e.get(C),o=u.name(Q,t),n=e.get(v),r=e.get(b);e.whenOn(e=>{const t=n.select("a",{all:!0}),a=new Map;t.track.tillOff(e)((t,n)=>{n.forEach(e=>{const t=a.get(e);t&&(a.delete(e),t.off())}),t.forEach(t=>{const n=t.element,s=new g(n).on("click").instead(()=>{n.classList.contains(o)||r.open(n.getAttribute("href")||"")}).needs(e);a.set(t,s)})}),$({links:t,page:r})({supply:e,receive(e,{links:[t],page:[n]}){const r=Z(n.url);let a,s="";t.forEach(e=>{const t=e.element,n=Z(new URL(t.href));t.classList.remove(o),r.startsWith(n)&&s.length<n.length&&(a=t,s=n)}),a&&a.classList.add(o)}})})}style(){const e=this._theme.ref(B).read.keep,t=c(e.thru(ee));return t.rules.add({e:"a"},e.thru(oe)),t.rules.add({e:"a",c:Q},e.thru(ne)),t.rules}};function Z(e){const t=e.pathname;return t.endsWith("/")?t:t+"/"}function ee({$fontSize:e}){return{padding:0,margin:`0 ${e.div(2)} 0 0`}}function te({$bgColor:e}){return e.hsl.set(({l:e})=>({l:.8*e}))}function oe(e){const{$fontSize:t}=e;return{display:"block",margin:0,padding:`${t.div(2)} ${t}`,border:0,outline:0,background:te(e)}}function ne({$fontSize:e,$color:t,$bgColor:o}){const r=n.of(4,"px");return{background:o,borderLeft:`${r} solid ${t}`,paddingLeft:e.sub(r)}}l([p()],X.prototype,"style",null),X=l([m({name:["nav",L]})],X);let re=class{constructor(e){this._context=e}async style(){const e=this._context.get(S),{elementDef:{name:t}}=await e.whenDefined(X),{elementDef:{name:o}}=await e.whenDefined(J),n=this._context.get(w).ref(B).read.keep,{rules:r}=c({height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}).add(n.thru(E));return r.add({s:" ",$:"@media:sm"},{height:"auto"}),r.add({e:t},n.thru(e=>({flex:"0 1 200px",height:"100%",background:te(e)}))),r.add({e:t,$:"@media:sm"},{flex:"0 1 100%"}),r.add({e:o},n.thru(({$fontSize:e})=>({flex:"1 1 auto",margin:e}))),r}};l([p()],re.prototype,"style",null),re=l([m({name:["container",L],feature:{needs:[J,X]}})],re);let ae=class{};ae=l([W({needs:[re,_,D,z,F,H]})],ae);let se=class{};se=l([W({needs:H,init:function(e){e.whenReady(()=>{f(e.get(w).style(O))})}})],se);let ie=class{};ie=l([W({needs:[se,ae]})],ie);const le=N(ie);export{ie as A,L as B,T as D,A as F,M as I,B as T,le as e,P as i,U as r};
//# sourceMappingURL=common.f26f270c.m.js.map
