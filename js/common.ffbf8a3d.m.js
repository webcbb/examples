import{N as e,a6 as t,a7 as o,a8 as n,a9 as r,X as a,aa as s,ab as d,t as i,f as l,ac as u,ad as c,ae as $,af as h,ag as f,s as g,Z as b,ah as p}from"./lib.1acfdb4c.m.js";import{P as x,C as m,H as y,I as k,D as C,T as v,A as w,F as S,a as z,b as F,c as W,d as _,e as H,W as D,B,f as L,S as N,g as T}from"./wesib.dc6b2b8c.m.js";const V=new e("https://wesib.github.io/examples","bex","wesib-examples"),E=t.by({$:"settings"},{$color:new o({r:161,g:185,b:142}),$bgColor:new o({r:40,g:43,b:36}),$fontFace:"'Exo 2', sans-serif",$fontSize:n.of(1,"em"),$lineHeight:1.2,$fontWeight:"400",$linkFontWeight:"600",$layoutBreakpoint:r.of(576,"px")});function I({$layoutBreakpoint:e}){return{"@media:sm":`(max-width: ${e})`}}function j(e){const t=e.ref(E).read.keep,{root:{rules:o}}=e;return a(o.add({e:"a"},t.thru(A)),o.add({e:"a",s:":visited"},t.thru(A)),o.add({e:"a",s:":hover"},{textDecoration:"underline"}),o.add({e:"a",s:":active"},{textDecoration:"underline dotted"}),o.add({e:"a",s:":focus"},{textDecoration:"underline dotted"}))}function A({$color:e,$linkFontWeight:t}){return{color:e,fontWeight:t,textDecoration:"none"}}function R(e){const t=e.ref(E).read.keep;return a(e.root.add(t.thru(P)).add(t.thru(I)),e.style(j))}function P({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`}}function X(e){const t=e.ref(E).read.keep,{root:{rules:o}}=e;return a(o.add({e:"html"},{height:"100%",margin:0,padding:0}),o.add({e:"body"},t.thru(Z)),e.style(R))}function Z({$bgColor:e}){return{backgroundColor:e,height:"100%",margin:0,padding:0}}const q=t.by({$:"settings:form"},e=>s.by({global:E},e).read.keep.thru(G));function G({global:{$color:e,$bgColor:t,$fontFace:o,$fontSize:n,$lineHeight:a,$fontWeight:s}}){return{$color:e,$bgColor:t.hsl.set(({l:e})=>({l:.8*e})),$roBgColor:t.hsl.set(({l:e})=>({l:.94*e})),$fontFace:o,$fontSize:n,$errorFontSize:n.mul(.8),$lineHeight:a,$fontWeight:s,$borderColor:t,$marginV:n.div(4),$marginH:n.div(4),$paddingV:n.div(2),$paddingH:n,$borderW:r.of(1,"px")}}let J=class{constructor(e){this._context=e,this._codes=i(),l({control:this._context.get(y).get(k),aspects:this._context.get(C),when:this._codes}).consume(({control:[{control:t}],aspects:[o],when:[n]})=>{if(!t)return;const r=g();return t.convert(u.to(e.element),o).setup(c,e=>{e.add($()).needs(r),e.add(h({when:n})).needs(r)}),r})}setCode(e){this._codes.it=e?e.trim().split(/\s+/):[]}style(){return this._context.get(v).style(M)}};d([w("code")],J.prototype,"setCode",null),d([x()],J.prototype,"style",null),J=d([m(["in-error",V])],J);const K=["has-error",f];function M(e){const t=e.ref(q).read.keep,{root:{rules:o}}=e,r=n.of(4,"px");return a(o.add({u:[":","host"],$:"bex:in-error"},t.thru(({$color:e,$errorFontSize:t})=>({display:"none",fontSize:t,padding:t.div(2),borderLeft:`${r} dotted ${e}`,paddingLeft:t.sub(r)}))),o.add({u:[":","host",{c:[K,["touched",f]],u:[":","not",{c:["has-focus",f]}]}],$:"bex:in-error"},{display:"block"}),o.add({u:[":","host",{c:K,u:[[":","not",{u:["code","~=","missing"]}],[":","not",{u:["code","~=","incomplete"]}]]}],$:"bex:in-error"},{display:"block"}))}let O=class{};O=d([S({needs:[z,J,F]})],O);let Q=class{};function U({$fontSize:e}){return{flex:"1 1 auto",padding:0,margin:`0 0 0 ${e.div(2)}`}}Q=d([m(["main",V],W({onResponse({response:e,range:t}){e.ok||(t.deleteContents(),null==e.ok?t.insertNode(document.createTextNode("Loading...")):t.insertNode(document.createTextNode(`Error. ${e.error}`)))}}))],Q);let Y=class{constructor(e){this._theme=e.get(v)}style(){return this._theme.style(ee)}};d([x()],Y.prototype,"style",null),Y=d([m(["nav",V],H(),_())],Y);function ee(e){const t=e.ref(E).read.keep,{root:{rules:o}}=e;return a(o.add({u:[":","host"],$:"bex:nav"},t.thru(te)),o.add({u:[":","host"],$:"bex:nav"},t.thru(e=>({flex:"0 1 200px",height:"100%",background:oe(e)}))),o.add({u:[":","host"],$:["bex:nav","@media:sm"]},{flex:"0 1 100%"}),o.add([{u:[":","host"],$:"bex:nav"},{e:"a",$:"bex:nav"}],t.thru(ne)),o.add([{u:[":","host"],$:"bex:nav"},{e:"a",c:["active",D],$:"bex:nav"}],t.thru(re)))}function te({$fontSize:e}){return{padding:0,margin:`0 ${e.div(2)} 0 0`}}function oe({$bgColor:e}){return e.hsl.set(({l:e})=>({l:.8*e}))}function ne(e){const{$fontSize:t}=e;return{display:"block",margin:0,padding:`${t.div(2)} ${t}`,border:0,outline:0,background:oe(e)}}function re({$fontSize:e,$color:t,$bgColor:o}){const r=n.of(4,"px");return{background:o,borderLeft:`${r} solid ${t}`,paddingLeft:e.sub(r)}}let ae=class{constructor(e){this._context=e}async style(){const{elementDef:{name:e}}=await this._context.get(B).whenDefined(Q);return this._context.get(v).style(function(e){return t=>{const o=t.ref(E).read.keep,{root:{rules:n}}=t;return a(n.add({u:[":","host"],$:"bex:container"},{height:"100%",display:"flex",flexFlow:"row wrap",alignItems:"stretch",alignContent:"flex-start"}).add(o.thru(I)),n.add({u:[":","host"],$:["bex:container","@media:sm"]},{height:"auto"}),n.add([{u:[":","host"],$:"bex:container"},{e,$:"bex:container"}],o.thru(U)))}}(e))}};d([x()],ae.prototype,"style",null),ae=d([m({name:["container",V],feature:{needs:[Q,Y]}})],ae);let se=class{};se=d([S({needs:[ae,z,L,N,F]})],se);let de=class{};de=d([S({needs:F,init(e){e.whenReady(()=>{b(e.get(v).style(X))})}})],de);let ie=class{};function le(e){const t=e.ref(q).read.keep,{root:{rules:o}}=e;return a(o.add({e:"input"},t.thru(ue)),o.add({e:"input",s:"[readonly]"},t.thru(ce)),o.add({e:"input",s:"[disabled]"},t.thru(ce)),o.add({e:"input",s:":focus"},t.thru($e)),o.add({e:"input",c:[["invalid",f],["touched",f]]},t.thru(he)),o.add({e:"input",c:[["missing",f],["touched",f]]},{outlineStyle:"dotted"}),o.add({e:"input",c:[["incomplete",f],["touched",f]]},{outlineStyle:"dotted"}))}function ue({$color:e,$fontFace:t,$fontSize:o,$lineHeight:n,$fontWeight:r,$marginV:a,$marginH:s,$paddingV:d,$paddingH:i,$bgColor:l,$borderColor:u,$borderW:c}){return{color:e,font:`normal ${r} ${o}/${n} ${t}`,padding:`${d} ${i}`,margin:`${a} ${s}`,backgroundColor:l,border:"0 none",outline:`${c} solid ${u}`,boxShadow:"inset 1px 1px 2px -2px black",boxSizing:"border-box",width:"100%"}}function ce({$roBgColor:e}){return{backgroundColor:e}}function $e({$color:e,$borderColor:t}){return{outlineColor:p(t,e,.5)}}function he({$color:e,$borderW:t,$borderColor:o}){return{outline:`${t.mul(2)} dashed ${p(o,e,.25)}`}}ie=d([S({needs:[de,O,se]})],ie);const fe=T(ie);export{ie as A,R as D,V as E,q as F,le as I,E as T,fe as e,ue as i,ce as r};//# sourceMappingURL=common.ffbf8a3d.m.js.map
