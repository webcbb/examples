System.register([],function(nu){"use strict";return{execute:function(){function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?nu("a9",function(t){return typeof t}):nu("a9",function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}))(t)}function j(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}function o(t,n){for(var e in n){(u=n[e]).configurable=u.enumerable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,e,u)}if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(n),i=0;i<r.length;i++){var u,o=r[i];(u=n[o]).configurable=u.enumerable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,o,u)}return t}function f(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&u(t,n)}function h(t){return(h=nu("e",Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)}))(t)}function u(t,n){return(u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function v(t,n,e){return(v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return e&&u(i,e.prototype),i}).apply(null,arguments)}function n(t){var r="function"==typeof Map?new Map:void 0;return(n=nu("a",function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return v(t,arguments,h(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u(e,t)}))(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?y(t):n}function i(t,n,e){return(i="undefined"!=typeof Reflect&&Reflect.get?nu("m",Reflect.get):nu("m",function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=h(t)););return t}(t,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(e):i.value}}))(t,n,e||t)}function E(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var t;nu({$:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return br(t,Object.assign(Object.assign({},n),{render:function(t){var n=[ir,_r,sr,wr];t&&(Bn(t)?n.push.apply(n,P(t)):n.push(t));return n}(n.render)}))},G:xt,I:J,J:ut,K:bn,M:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.length?Wr(n.map(Yr)):Nr},O:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.length?Wr(n.map(Vr)):Nr},R:N,T:X,U:x,V:pt,W:Z,X:function(t){if(!t)return'""';for(var n,e=!1,r=0;r<t.length;++r){var i=t[r],u=Dn.delimiterOf(i);u?(32&u&&(n=n||t.substring(0,r),n+="\\"+i),e=!0):n&&(n+=i)}return e?'"'.concat(n||t,'"'):t},Z:yt,_:l,a:n,a0:St,a1:H,a4:function(n){return new Mr(void 0,Dr,[],n?function(t){return Te(t,n)}:void 0)},a5:br,a6:Pt,a7:function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.length?xt(function(i){function n(t){--u||r.off(t)}function e(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.receive.apply(i,[t].concat(e))}var r=i.supply,u=o.length;o.forEach(function(t){return St(t)({supply:ht(n).needs(r),receive:e})})}).share():At},a9:a,aa:f,ag:function(t,n,e){var r=2*e-1,i=t.rgb,u=n.rgb,o=i.a-u.a,a=(1+(r*o==-1?r:(r+o)/(1+r*o)))/2,c=1-a;return new ee({r:i.r*a+u.r*c,g:i.g*a+u.g*c,b:i.b*a+u.b*c,a:i.a*e+u.a*(1-e)},t)},ah:function(t,n,e,r){var i,u=arguments.length,o=u<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;0<=a;a--)(i=t[a])&&(o=(u<3?i(o):3<u?i(n,e,o):i(n,e))||o);return 3<u&&o&&Object.defineProperty(n,e,o),o},ai:function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,u=e.call(t),o=[];try{for(;(void 0===n||0<n--)&&!(r=u.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=u.return)&&e.call(u)}finally{if(i)throw i.error}}return o},aj:function(u,o,a,c){return new(a=a||Promise)(function(t,n){function e(t){try{i(c.next(t))}catch(t){n(t)}}function r(t){try{i(c.throw(t))}catch(t){n(t)}}function i(n){n.done?t(n.value):new a(function(t){t(n.value)}).then(e,r)}i((c=c.apply(u,o||[])).next())})},ak:function(e,r){var i,u,o,t,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return t={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function n(n){return function(t){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,u&&(o=2&n[0]?u.return:n[0]?u.throw||((o=u.return)&&o.call(u),0):u.next)&&!(o=o.call(u,n[1])).done)return o;switch(u=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,u=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=r.call(e,a)}catch(t){n=[6,t],u=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,t])}}},al:function(t){return new Oi(t)},am:function(t){return new Ci(t,{get:function(){return this.element.value},set:function(t){this.element.value=t}})},ao:function t(n){return n?n.read.keep.thru(function(t){return t?T():{missing:"missing"}}):t},aq:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,e=void 0===n?"inap-":n,r=t.suffix,i=void 0===r?"":r;return function(t){return qt({md:t.aspect(ci),vl:t.aspect(zi),st:t.aspect(Vi)}).keep.thru(function(t){var n,e=E(t.md,1)[0],r=E(t.vl,1)[0],i=E(t.st,1)[0],u=i.hasFocus,o=i.touched,a=i.edited;return f(n={},c("disabled"),!ci.hasData(e)),f(n,c("readonly"),"ro"===e||"-ro"===e),f(n,c("invalid"),!r.ok),f(n,c("missing"),r.has("missing")),f(n,c("incomplete"),r.has("incomplete")),f(n,c("has-focus"),u),f(n,c("touched"),o),f(n,c("edited"),a),n})};function c(t){return"".concat(e).concat(t).concat(i)}},b:R,c:j,d:p,e:h,f:K,h:E,i:z,l:y,m:i,n:T,o:ht,p:Et,q:zt,r:qt,s:It,t:Gt,u:P,v:A,w:Q,x:S,y:tt,z:_n});var s=regeneratorRuntime.mark(D),c=regeneratorRuntime.mark(F),d=Symbol("next-call"),g=Symbol("next-call:last-outcome"),k=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,n(Function)),R(t,null,[{key:"is",value:function(t){return"function"==typeof t&&d in t}},{key:"of",value:function(n){return t.is(n)?n:m(function(t){return t(n)})}}]),t}(),b=function(t){return t};function m(n,t){function e(){return e}var r=1<arguments.length&&void 0!==t?t:function(){return n(b)};return e[d]=function(t){return n(t)},e[g]=r,e}var w=Symbol("passed-thru"),_=function(){function e(){j(this,e)}return R(e,null,[{key:"is",value:function(t){return"object"===a(t)&&w in t}},{key:"get",value:function(t){return e.is(t)?t[w]:t}},{key:"items",value:function(n){return e.is(n)?n:f({},Symbol.iterator,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:case"end":return t.stop()}},t)}))}}]),e}();function O(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return _.get(function r(i,t){var n=u.length;return i<n?k.is(t)?t[d](function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return r(i+1,u[i].apply(this,n))}):r(i+1,u[i].call(null,t)):k.is(t)?t[g]():t}(1,u[0].apply(this,n)))}}function x(t){return t}function z(){}function S(t){return null!=t}function A(t){return function(){return t}}function M(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(){return n}}function T(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return m(function(t){return t.apply(void 0,n)},function(){return n})}function D(n,e){var r,i,u,o,a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=!(r=!0),u=void 0,t.prev=3,o=n[Symbol.iterator]();case 5:if(r=(a=o.next()).done){t.next=11;break}return c=a.value,t.delegateYield(_.items(k.is(c)?c[d](e):e(c)),"t0",8);case 8:r=!0,t.next=5;break;case 11:t.next=17;break;case 13:t.prev=13,t.t1=t.catch(3),i=!0,u=t.t1;case 17:t.prev=17,t.prev=18,r||null==o.return||o.return();case 20:if(t.prev=20,i)throw u;t.next=23;break;case 23:return t.finish(20);case 24:return t.finish(17);case 25:case"end":return t.stop()}},s,null,[[3,13,17,25],[18,,20,24]])}function F(n){var e,r,i,u,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!(e=!0),i=void 0,t.prev=3,u=n[Symbol.iterator]();case 5:if(e=(o=u.next()).done){t.next=11;break}return a=o.value,t.delegateYield(_.items(k.is(a)?a[g]():a),"t0",8);case 8:e=!0,t.next=5;break;case 11:t.next=17;break;case 13:t.prev=13,t.t1=t.catch(3),r=!0,i=t.t1;case 17:t.prev=17,t.prev=18,e||null==u.return||u.return();case 20:if(t.prev=20,r)throw i;t.next=23;break;case 23:return t.finish(20);case 24:return t.finish(17);case 25:case"end":return t.stop()}},c,null,[[3,13,17,25],[18,,20,24]])}var e=(f(t={},w,void 0),f(t,Symbol.iterator,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),t);function $(){return e}var U,C=m($,$);function K(){return C}function q(t){return"length"in t}function I(t){return"reverse"in t}function N(t){return t[Symbol.iterator]()}function V(n){return regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(n,"t0",1);case 1:case"end":return t.stop()}},t)})()}function Y(t,n){var e=f({},Symbol.iterator,t);if(!n)return e;var r=e;return r.reverse=n,r}function W(t){if(q(t))return L(t);if(I(t)){var n=t.reverse();return Y(function(){return N(n)})}return L(P(t))}function L(r){return Y(regeneratorRuntime.mark(function t(){var n,e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=r.length,e=n-1;case 2:if(0<=e)return t.next=5,r[e];t.next=8;break;case 5:--e,t.next=2;break;case 8:case"end":return t.stop()}},t)}))}function J(t,n){var e=!0,r=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(e=(u=o.next()).done);e=!0){n(u.value)}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}}function G(t){return!!N(t).next().done}function H(t){return N(t).next().value}function Z(t,n,e){var r=e,i=!0,u=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){r=n(r,a.value)}}catch(t){u=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(u)throw o}}return r}function B(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var i;return O.apply(void 0,[(i=t,m(function(t){return f({},Symbol.iterator,function(){return D(i,t)})},function(){return f({},Symbol.iterator,function(){return F(i)})}))].concat(e))()}function Q(a,c){return Y(regeneratorRuntime.mark(function t(){var n,e,r,i,u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!(n=!0),r=void 0,t.prev=3,i=a[Symbol.iterator]();case 5:if(n=(u=i.next()).done){t.next=13;break}if(o=u.value,c(o))return t.next=10,o;t.next=10;break;case 10:n=!0,t.next=5;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),e=!0,r=t.t0;case 19:t.prev=19,t.prev=20,n||null==i.return||i.return();case 22:if(t.prev=22,e)throw r;t.next=25;break;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}},t,null,[[3,15,19,27],[20,,22,26]])}))}function X(a,c){return Y(regeneratorRuntime.mark(function t(){var n,e,r,i,u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!(n=!0),r=void 0,t.prev=3,i=a[Symbol.iterator]();case 5:if(n=(u=i.next()).done){t.next=11;break}return o=u.value,t.delegateYield(c(o),"t0",8);case 8:n=!0,t.next=5;break;case 11:t.next=17;break;case 13:t.prev=13,t.t1=t.catch(3),e=!0,r=t.t1;case 17:t.prev=17,t.prev=18,n||null==i.return||i.return();case 20:if(t.prev=20,e)throw r;t.next=23;break;case 23:return t.finish(20);case 24:return t.finish(17);case 25:case"end":return t.stop()}},t,null,[[3,13,17,25],[18,,20,24]])}))}function tt(a,c){return Y(regeneratorRuntime.mark(function t(){var n,e,r,i,u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!(n=!0),r=void 0,t.prev=3,i=a[Symbol.iterator]();case 5:if(n=(u=i.next()).done){t.next=12;break}return o=u.value,t.next=9,c(o);case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),e=!0,r=t.t0;case 18:t.prev=18,t.prev=19,n||null==i.return||i.return();case 21:if(t.prev=21,e)throw r;t.next=24;break;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,null,[[3,14,18,26],[19,,21,25]])}))}var nt=["every","filter","flatMap","forEach","map","reduce","reverse"],et=nu("B",function(){function n(){j(this,n)}return R(n,[{key:"every",value:function(t){return function(t,n){var e=!0,r=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(e=(u=o.next()).done);e=!0){if(!n(u.value))return!1}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}return!0}(this,t)}},{key:"filter",value:function(t){var n=this;return it(function(){return Q(n,t)},function(){return Q(n.reverse(),t)})}},{key:"flatMap",value:function(n){var t=this;return it(function(){return X(t,n)},function(){return X(t.reverse(),function(t){return W(n(t))})})}},{key:"forEach",value:function(t){J(this,t)}},{key:"map",value:function(t){var n=this;return it(function(){return tt(n,t)},function(){return tt(n.reverse(),t)})}},{key:"reduce",value:function(t,n){return Z(this,t,n)}},{key:"reverse",value:function(){var t=this,n=this;return it(function(){return L(P(n))},function(){return t})}},{key:"thru",value:function(){for(var t=this,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=B;return it(function(){return i.apply(void 0,[t].concat(e))})}}],[{key:"none",value:function(){return rt}},{key:"is",value:function(n){return nt.every(function(t){return t in n})}},{key:"of",value:function(t){return n.is(t)?t:n.from(t)}},{key:"from",value:function(t){return it(function(){return t},function(){return W(t)})}}]),n}()),rt=new(function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,et),R(t,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})},{key:"reverse",value:function(){return this}}]),t}());function it(t,e){return new(function(){function n(){return j(this,n),p(this,h(n).apply(this,arguments))}return l(n,et),R(n,[{key:Symbol.iterator,value:function(){return N(t())}},{key:"reverse",value:function(){var t=this;return e?et.from(Y(function(){return N(e())},function(){return t})):i(h(n.prototype),"reverse",this).call(this)}}]),n}())}function ut(e){return Y(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(n<e.length)return t.next=4,e[n];t.next=7;break;case 4:++n,t.next=1;break;case 7:case"end":return t.stop()}},t)}),function(){return L(e)})}var ot=(f(U={},Symbol.iterator,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),f(U,"reverse",function(){return this}),U);function at(t){return ut(Reflect.ownKeys(t))}function ct(n){var t=at(n);function e(t){return tt(t,function(t){return[t,n[t]]})}return Y(function(){return N(e(t))},function(){return e(t.reverse())})}var st=nu("H",Symbol("after-event"));function ft(t){return st in t}var lt=function(){function t(){j(this,t)}return R(t,[{key:"needs",value:function(t){var n=this;return t.whenOff(function(t){return n.off(t)}),this}}]),t}();function ht(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:z,r=function(n){e=function(t){return t(n)},r=z,t(n)};return e=function(n){var e=r;r=function(t){e(t),n(t)}},new(function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,lt),R(t,[{key:"off",value:function(t){return r(t),this}},{key:"whenOff",value:function(t){return e(t),this}},{key:"isOff",get:function(){return r===z}}]),t}())}var vt=new(function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,lt),R(t,[{key:"off",value:function(){return this}},{key:"whenOff",value:function(t){return t(),this}},{key:"isOff",get:function(){return!0}}]),t}());function yt(){return vt}function pt(i){var t;return(t="function"==typeof i?{supply:ht(),receive:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.apply(void 0,e)}}:{supply:i.supply||ht(),receive:function(t){if(!this.supply.isOff){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.receive.apply(i,[t].concat(e))}}}).supply.whenOff(function(){return t.receive=z}),t}var dt=nu("Q",Symbol("on-event"));function gt(t){return dt in t}function kt(t){return function(i){return t({supply:i.supply,receive:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.receive.apply(i,[t].concat(e)),i.supply.off()}})}}var bt=function(){function t(){var o,a;j(this,t),this._rcvs=new Set,this.send=(o=this._rcvs,a=function t(n){var e=o;var r=[];a=u;try{for(;;){e=mt(e,n);var i=r.shift();if(!i)break;n=i}}finally{a=t}function u(t){r.push(t)}},function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return a(n)})}return R(t,[{key:dt,value:function(t){return this.on(t)}},{key:"on",value:function(t){var n=this,e=pt(t);return this._rcvs.add(e),e.supply.whenOff(function(){return n._rcvs.delete(e)})}},{key:"done",value:function(n){return this._rcvs.forEach(function(t){return t.supply.off(n)}),this}},{key:"size",get:function(){return this._rcvs.size}}]),t}();function mt(t,r){var u=[],n=!0,e=!1,i=void 0;try{for(var o,a=function(){var t=o.value,n=u.length;u.push(t);var e={onRecurrent:function(i){u[n]=pt({supply:t.supply,receive:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.apply(void 0,e)}})}};t.receive.apply(t,[e].concat(P(r)))},c=t[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)a()}catch(t){e=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(e)throw i}}return u}function wt(e){var r,i,u=new bt;return function(t){if(u.size||(i=[],r=ht(function(){return i=void 0}),e({supply:r,receive:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i&&(u.size?i=void 0:i.push(e)),u.send.apply(u,e)}})),t.supply.needs(r),u.on(t).whenOff(function(t){u.size||r.off(t)}),i){var n=new bt;n.on(t),i.forEach(function(t){return n.send.apply(n,P(t))})}}}function _t(n,e){return function(t){t.supply.needs(e),n(t)}}var Ot=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,n(Function)),R(t,[{key:"tillOff",value:function(t){return xt(_t(this,t))}},{key:"dig",value:function(t){return xt(wt(this.dig_(t)))}},{key:"dig_",value:function(c){var t=this;return xt(function(o){var a=yt();t({supply:o.supply,receive:function(t){for(var n=a,e=arguments.length,r=new Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var u=c.apply(void 0,r);try{a=u?St(u)({supply:ht().needs(o.supply),receive:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];o.receive.apply(o,[t].concat(e))}}):yt()}finally{n.off()}}})})}},{key:"consume",value:function(n){var e=yt(),r=this(function(){var t=e;try{e=n.apply(void 0,arguments)||yt()}finally{t.off()}});return ht(function(t){e.off(t),r.off(t)}).needs(r)}},{key:"share",value:function(){return xt(wt(this))}},{key:"thru",value:function(){return xt(wt(this.thru_.apply(this,arguments)))}},{key:"thru_",value:function(){for(var t=this,n=arguments.length,u=new Array(n),e=0;e<n;e++)u[e]=arguments[e];var o=O;return xt(function(i){return t({supply:i.supply,receive:function(r){for(var t=arguments.length,n=new Array(1<t?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];o.apply(void 0,u.concat([function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return i.receive.apply(i,[r].concat(n))}])).apply(void 0,n)}})})}},{key:dt,get:function(){return this}},{key:"once",get:function(){return xt(kt(this))}}]),t}();function xt(r){function t(t){var n=pt(t),e=n.supply;return e.isOff||r(n),e}return Object.setPrototypeOf(t,Ot.prototype),t}function St(t){var n=gt(t)?t[dt]:t[st];return n instanceof Ot?n:xt(n.bind(t))}var At=xt(function(t){return t.supply.off()}),jt=function(){function n(t){j(this,n),this._keeper=t}return R(n,[{key:"dig",value:function(t){return this.dig_(t).share()}},{key:"dig_",value:function(t){return Pt(this._keeper.dig_(function(){return Pt(t.apply(void 0,arguments))}))}},{key:"thru",value:function(){return this.thru_.apply(this,arguments).share()}},{key:"thru_",value:function(){var t;return Pt((t=this._keeper).thru_.apply(t,arguments))}}]),n}(),Rt=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Ot),R(t,[{key:"tillOff",value:function(t){return Et(_t(this,t))}},{key:"share",value:function(){return Et(wt(this))}},{key:st,get:function(){return this}},{key:"keep",get:function(){return new jt(this)}},{key:"once",get:function(){return Et(kt(this))}}]),t}();function Et(e){function t(t){var u=z,i=pt(t);if(i.supply.isOff)return i.supply;var n=ht().needs(i.supply),o=!1;return e({supply:n,receive:function(t){o=!0;for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];a=e,u.apply(void 0,[t].concat(e))}}),++c,n.isOff&&!o||(i.receive.apply(i,[{onRecurrent:function(i){u=function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return i.apply(void 0,e)}}}].concat(P(a=a||r()))),u=function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return i.receive.apply(i,[t].concat(e))}),n.whenOff(function(t){--c||(a=void 0),i.supply.off(t)}),n}var a,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Tt,c=0;return Object.setPrototypeOf(t,Rt.prototype),t}function Pt(t,n){if(!ft(t))return e=t,Et(function(t){return e[dt](t)},n);var e,r=t[st];return r instanceof Rt?r:Et(r.bind(t))}function zt(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Et(function(){return ht()},A(n))}var Mt=Et(function(t){return t.supply.off()});function Tt(){throw new Error("No events to send")}var Dt=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Ot),R(t,[{key:"tillOff",value:function(t){return Ft(_t(this,t))}},{key:"once",get:function(){return Ft(kt(this))}},{key:"capture",get:function(){var e=this;return Ft(function(t,n){return null==n?e(t,!0):"object"===a(n)&&null==n.capture?e(t,Object.assign(Object.assign({},n),{capture:!0})):e(t,n)})}},{key:"instead",get:function(){var r=this;return Ft(function(t,n){var e=pt(t);return r({supply:e.supply,receive:function(t,n){n.preventDefault(),e.receive(t,n)}},n)})}},{key:"just",get:function(){var r=this;return Ft(function(t,n){var e=pt(t);return r({supply:e.supply,receive:function(t,n){n.stopPropagation(),e.receive(t,n)}},n)})}},{key:"last",get:function(){var r=this;return Ft(function(t,n){var e=pt(t);return r({supply:e.supply,receive:function(t,n){n.stopImmediatePropagation(),e.receive(t,n)}},n)})}},{key:"passive",get:function(){var e=this;return Ft(function(t,n){return null==n?e(t,{passive:!0}):"boolean"==typeof n?e(t,{capture:n,passive:!0}):null==n.passive?e(t,Object.assign(Object.assign({},n),{passive:!0})):e(t,n)})}}]),t}();function Ft(r){function t(t,n){var e=pt(t);return r(e,n),e.supply}return Object.setPrototypeOf(t,Dt.prototype),t}var $t,Ut={onRecurrent:z},Ct=nu("D",function(){function n(t){j(this,n),this._target=t}return R(n,[{key:"on",value:function(r){var i=this;return Ft(function(n,t){function e(t){return n.receive(Ut,t)}i._target.addEventListener(r,e,t),n.supply.whenOff(function(){return i._target.removeEventListener(r,e)})})}},{key:"dispatch",value:function(t){return this._target.dispatchEvent(t)}}]),n}()),Kt=nu("E",function(){function e(){var n;return j(this,e),(n=p(this,h(e).apply(this,arguments))).on=xt(function(t){return i(h(e.prototype),"on",y(n)).call(y(n),t)}),n[$t]=n.on,n}return l(e,bt),e}());function qt(o){var r=Object.keys(o);return r.length?Et(function(t){var n=new bt,e=n.on(t),i=z,u={};r.forEach(function(r){e.needs(o[r][st](function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];u[r]=n,i()}).needs(e))}),e.isOff||(i=function(){return n.send(u)})},function(){var i={};return r.forEach(function(r){return Pt(o[r]).once(function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return i[r]=n})}),[i]}).share():Mt}function It(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.length?Et(function(t){var n=new bt,e=n.on(t),i=z,u=[];o.forEach(function(t,r){e.needs(t[st](function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];u[r]=n,i()}).needs(e))}),e.isOff||(i=function(){return n.send.apply(n,u)})},function(){var r=[];return o.forEach(function(t){return Pt(t).once(function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return r.push(n)})}),r}).share():Mt}function Nt(t){return Array.isArray(t)?t:[t]}$t=dt;var Vt=function(){function o(t){var u=this;j(this,o),this._drop=t,this.emitter=new Kt,this._nested=new Map,this.emitter.on(function(t,n,e){var r=(t=Nt(t))[0],i=u._nested.get(r);i&&i.emitter.send(t.slice(1),n,e)})}return R(o,[{key:"on",value:function(t){var n=this,e=this.emitter.on(t);return ht(function(t){e.off(t),n._dropIfEmpty()}).needs(e)}},{key:"nest",value:function(t,n){var e=this,r=this._nested.get(t);if(r||n)return r;var i=new o(function(){return e._remove(t)});return this._nested.set(t,i),i}},{key:"done",value:function(t){var n=!0,e=!1,r=void 0;try{for(var i,u=this._nested.values()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){i.value.done(t)}}catch(t){e=!0,r=t}finally{try{n||null==u.return||u.return()}finally{if(e)throw r}}this.emitter.done(t)}},{key:"_remove",value:function(t){this._nested.delete(t),this._dropIfEmpty()}},{key:"_dropIfEmpty",value:function(){!this._nested.size&&this.emitter.size<=1&&this._drop()}}]),o}(),Yt=function(){function t(){j(this,t),this._root=new Vt(z)}return R(t,[{key:"on",value:function(t,n){return this._entry(t).on(n)}},{key:"send",value:function(t,n,e){this._root.emitter.send(t,n,e)}},{key:"done",value:function(t,n){var e=this._entry(t,!0);e&&e.done(n)}},{key:"_entry",value:function(t,n){var e=this._root,r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=o.value,s=e.nest(c,n);if(!s)return;e=s}}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return e}}]),t}(),Wt=function(){function e(t,n){var r=this;j(this,e),this._trackers=t,this._path=n,this.update=function(t,n,e){r._trackers.send([].concat(P(r._path),P(Nt(t))),n,e)},this.onUpdate=xt(function(t){return r._trackers.on(r._path,t)})}return R(e,[{key:"track",value:function(t){return(t=Nt(t)).length?new e(this._trackers,[].concat(P(this._path),P(t))):this}},{key:"done",value:function(t){this._trackers.done(this._path,t)}},{key:"_tracker",get:function(){return this}},{key:dt,get:function(){return this.onUpdate}}]),e}(),Lt=(nu("A",function(){function t(){j(this,t),this._tracker=new Wt(new Yt,[])}return R(t,[{key:"track",value:function(t){var n=this._tracker.track(t);return n===this._tracker?this:n}},{key:"done",value:function(t){this._tracker.done(t)}},{key:"onUpdate",get:function(){return this._tracker.onUpdate}},{key:dt,get:function(){return this.onUpdate}},{key:"update",get:function(){return this._tracker.update}}]),t}()),nu("a8",function(){function t(){var n=this;j(this,t),this._by=yt(),this.read=Et(function(t){return n.on({supply:(e=t).supply,receive:function(t,n){e.receive({onRecurrent:function(n){t.onRecurrent(function(t){return n(t)})}},n)}});var e},function(){return[n.it]})}return R(t,[{key:"by",value:function(t,n){var e=this,r=this;if(this.byNone(),n){var i=t;this._by=St(i).consume(function(){var t=n.apply(void 0,arguments);if(t)return o(t)})}else{var u=t;this._by=o(u)}return this._by.whenOff(function(){return e._by=yt()}),this;function o(t){return(ft(t)?t[st]:t[dt])(function(t){return r.it=t})}}},{key:"byNone",value:function(t){return this._by.off(t),this}},{key:dt,get:function(){return this.on}},{key:st,get:function(){return this.read}}]),t}()));var Jt=function(){function e(t){var n;return j(this,e),(n=p(this,h(e).call(this)))._it=t,n._on=new Kt,n}return l(e,Lt),R(e,[{key:"done",value:function(t){return this._on.done(t),this}},{key:"on",get:function(){return this._on.on}},{key:"it",get:function(){return this._it},set:function(t){var n=this._it;n!==t&&(this._it=t,this._on.send(t,n))}}]),e}();function Gt(t){return new Jt(t)}nu("ar",function(){function e(t){var n;return j(this,e),(n=p(this,h(e).call(this)))._on=new Kt,n._it=t,n}return l(e,Lt),R(e,[{key:"sync",value:function(t,n,e){var r,i=this,u=function(t){return c(i,t)},o="string"==typeof t?("in"===t&&(u=function(t){return c(t,i)}),r=n,e):(r=t,n);if(!o)return u(r);var a=r;return(ft(a)?Pt(a):St(a)).consume(function(){var t=o.apply(void 0,arguments);return t&&u(t)});function c(n,e){var r=n.read(function(t){e.it=t}),i=e.on(function(t){n.it=t});return ht(function(t){i.off(t),r.off(t)}).needs(r).needs(i)}}},{key:"done",value:function(t){return this._on.done(t),this}},{key:"on",get:function(){return this._on.on}},{key:"it",get:function(){return this._it},set:function(t){var n=this.it;n!==t&&(this._it=t,this._on.send(t,n))}}]),e}());var Ht=nu("C",Symbol("context-key")),Zt=function(){function n(t){j(this,n),this.name=t}return R(n,[{key:"toString",value:function(){return"ContextKey(".concat(this.name,")")}},{key:Ht,get:function(){return this}}]),n}(),Bt=function(){function n(t){return j(this,n),p(this,h(n).call(this,"".concat(t.name,":seed")))}return l(n,Zt),R(n,[{key:"grow",value:function(t){var n=t.seeder,e=t.seed;return n.isEmpty(e)?t.byDefault(function(){return e}):e}},{key:"seedKey",get:function(){return this}}]),n}(),Qt=function(){function r(t){var n,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"There is no value with key ".concat(t);return j(this,r),(n=p(this,h(r).call(this,e))).key=t,n}return l(r,n(Error)),r}();function Xt(t){if("by"in t){if(!tn(t))return t;var n=t.a,e=t.by,r=t.with;return{a:n,by:function(n){return e.apply(void 0,P(r.map(function(t){return n.get(t)})))}}}var i;if("is"in t){return{a:t.a,by:A(t.is)}}if("via"in t){var u=t.a,o=t.via;return{a:u,by:function(t){return t.get(o)}}}if("as"in t){if("a"in t||(i=t,t=Object.assign(Object.assign({},i),{a:i.as})),tn(t)){var a=t.a,c=t.as,s=t.with;return{a:a,by:function(n){return v(c,P(s.map(function(t){return n.get(t)})))}}}var f=t.a,l=t.as;return{a:f,by:function(t){return new l(t)}}}throw new TypeError("Malformed context value specifier: ".concat(t))}function tn(t){return"with"in t}var nn=nu("g",function t(){j(this,t)}),en=(nu("k",function(){function t(n){j(this,t),this._seeds=new Map,this._initial=null==n?z:"function"==typeof n?n:function(t){return n.get(t)}}return R(t,[{key:"provide",value:function(t){var n=Xt(t),e=n.a[Ht].seedKey,r=n.by;return E(this._seeding(e),1)[0].provide(r)}},{key:"_seeding",value:function(n){var e=this,t=this._seeds.get(n);if(t)return t;var r=n.seeder(),i=[r,function(t){return r.seed(t,e._initial(n,t))}];return this._seeds.set(n,i),i}},{key:"seed",value:function(t,n){return(0,E(this._seeding(n),2)[1])(t)}},{key:"seedIn",value:function(n,t){var e=this.newValues(t);return function(t){return e.get.call(n,t)}}},{key:"newValues",value:function(t){var d=!(0<arguments.length&&void 0!==t)||t;if(!d&&this._nonCachedValues)return this._nonCachedValues;var g=new Map,k=this,n=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,nn),R(t,[{key:"get",value:function(t,n){var e=t[Ht],r=g.get(e);if(null!=r)return r;var i,u,o,a,c,s,f,l,h=(o=n,a=E(function(t,n){var e=n.seedKey,r=E(k._seeding(e),2),i=r[0],u=r[1];return e===n?[i,u(t)]:[i,t.get(e)]}(i=this,u=e),2),c=a[0],s=a[1],f=!1,l={context:i,seeder:c,seed:s,byDefault:o&&"or"in o?function(){return f=!0,o.or}:function(t){var n=t();if(null==n)throw new Qt(u);return n}},[u.grow(l),f]),v=E(h,2),y=v[0],p=v[1];return d&&!p&&g.set(e,y),y}}]),t}();return d?new n:this._nonCachedValues=new n}},{key:"append",value:function(e){var r=this;return new t(function(t,n){return E(r._seeding(t),1)[0].combine(r.seed(n,t),e.seed(n,t),n)})}}]),t}()),function(){function t(){j(this,t),this._providers=Gt([])}return R(t,[{key:"provide",value:function(e){var r=this;return this._providers.it=[].concat(P(this._providers.it),[e]),function(){var t=r._providers.it,n=t.indexOf(e);0<=n&&(r._providers.it=t.slice(0,n).concat(t.slice(n+1)))}}},{key:"seed",value:function(t,n){var e,r=1<arguments.length&&void 0!==n?n:zt();return this.combine(r,(e=t,this._providers.read.keep.dig(function(t){return t.length?It.apply(void 0,P(tt(tt(ut(t),function(t){return t(e)}),rn))).keep.thru(function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return un(n)}):zt()})))}},{key:"isEmpty",value:function(){return!1}},{key:"combine",value:function(t,n){return It(t,n).keep.thru(function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return un(n)})}}]),t}());function rn(t){return null==t?zt():"object"!==a(n=t)&&"function"!=typeof n||!ft(n)?zt(t):Pt(t);var n}function un(t){return T.apply(void 0,P(X(ut(t),x)))}var on=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Bt),R(t,[{key:"seeder",value:function(){return new en}}]),t}(),an=nu("j",function(){function r(t,n){var e;return j(this,r),(e=p(this,h(r).call(this,t))).seedKey=n||new on(y(e)),e}return l(r,Zt),r}()),cn=(nu("F",function(){function o(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.seedKey,i=n.byDefault,u=void 0===i?z:i;return j(this,o),(e=p(this,h(o).call(this,t,r))).byDefault=function(t,n){return u(t,n)||function(){throw new Qt(y(e))}},e}return l(o,an),R(o,[{key:"grow",value:function(r){var i,u=this;return r.seed(function(){if(arguments.length){var t;i=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t]}else{var n=function(){return u.byDefault(r.context,u)},e=r.byDefault(n);i=e||n()}}),function(){return i.apply(void 0,arguments)}}}]),o}()),function(){function t(){j(this,t),this._providers=[]}return R(t,[{key:"provide",value:function(n){var e=this;return this._providers.push(n),function(){var t=e._providers.indexOf(n);0<=t&&e._providers.splice(t,1)}}},{key:"seed",value:function(t,n){var e,r,i=1<arguments.length&&void 0!==n?n:et.from(ot);return et.from([i,(e=t,r=this._providers,et.from(ut(r.map(function(t){return[t]}))).map(function(t){if(1<t.length)return t[1];var n=t[0](e);return t.push(n),n}).filter(S))]).flatMap(x)}},{key:"isEmpty",value:function(t){return G(t)}},{key:"combine",value:function(t,n){return et.from([t,n]).flatMap(x)}}]),t}()),sn=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Bt),R(t,[{key:"seeder",value:function(){return new cn}}]),t}(),fn=nu("P",function(){function r(t,n){var e;return j(this,r),(e=p(this,h(r).call(this,t))).seedKey=n||new sn(y(e)),e}return l(r,Zt),r}());nu("S",function(){function o(t){var n,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e.seedKey,i=e.byDefault,u=void 0===i?z:i;return j(this,o),(n=p(this,h(o).call(this,t,r))).byDefault=u,n}return l(o,fn),R(o,[{key:"grow",value:function(t){var n=this,e=function(t){if(q(t))return t[t.length-1];if(I(t))return H(t.reverse());var n,e=!0,r=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(e=(u=o.next()).done);e=!0){n=u.value}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}return n}(t.seed);return null!=e?e:t.byDefault(function(){return n.byDefault(t.context,n)})}}]),o}()),nu("a2",function(){function o(t){var n,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e.seedKey,i=e.byDefault,u=void 0===i?M():i;return j(this,o),(n=p(this,h(o).call(this,t,r))).byDefault=u,n}return l(o,fn),R(o,[{key:"grow",value:function(n){var e=this,t=P(n.seed);return t.length?t:n.byDefault(function(){var t=e.byDefault(n.context,e);if(t)return P(t)})}}]),o}());var ln=function(){function t(){j(this,t)}return R(t,[{key:"name",value:function(t,n){if("string"==typeof t)return t;var e=E(t,2),r=e[0],i=e[1];return i.name(n(i),r,this)}}]),t}(),hn=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,ln),R(t,[{key:"applyAlias",value:function(t,n){return"".concat(n,"-").concat(t)}}]),t}(),vn=new hn,yn=nu("L",new hn),pn=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,ln),R(t,[{key:"applyAlias",value:function(t,n){return"".concat(n,":").concat(t)}}]),t}(),dn=(new pn,new pn),gn=nu("a3",new(function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,ln),R(t,[{key:"applyAlias",value:function(t,n){return"".concat(t,"@").concat(n)}}]),t}())),kn=nu("N",function(){function i(t){j(this,i),this.url=t;for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];this.aliases=e}return R(i,[{key:"name",value:function(t,n,e){return(2<arguments.length&&void 0!==e?e:vn).applyAlias(n,t,this)}},{key:"alias",get:function(){return this.aliases[0]||"ns"}}]),i}());new(function(){function t(){return j(this,t),p(this,h(t).call(this,""))}return l(t,kn),R(t,[{key:"name",value:function(t,n){return n}}]),t}());function bn(t){return"string"==typeof t||(n=t,Array.isArray(n)&&2===n.length&&"string"==typeof n[0]&&n[1]instanceof kn);var n}function mn(t,n){if("string"==typeof t)return"string"==typeof n?wn(t,n):n[1].url?-1:wn(t,n[0]);var e=E(t,2),r=e[0],i=e[1].url;return"string"==typeof n?i?1:wn(r,n):wn(i,n[1].url)||wn(r,n[0])}function wn(t,n){return t<n?-1:n<t?1:0}function _n(){var s=new Map,f=new Map;return function(t){var n=s.get(t.url);if(n)return n;for(var e=t.alias,r=0,i=0,u=[e].concat(P(t.aliases));i<u.length;i++){var o=u[i],a=f.get(o);if(!a)return s.set(t.url,o),f.set(o,1),o;r=r||a}var c=e+ ++r;return s.set(t.url,c),f.set(e,r),c}}function On(t){var n=t.$,e=t.n,r=t.t,i=t.v,u=t.x,o=void 0===u?[]:u,a=t.p,c=void 0===a?{}:a,s=t.pl;return{$:n,n:e,t:r,v:i,x:o,p:c,pl:void 0===s?[]:s}}function xn(t,n){var e=t.p,r=t.pl,i=n.n||n.v,u=e[i];u&&(u.n||!n.n)||(e[i]=n),r.push(n)}var Sn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d\d (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d\d\d\d \d\d:\d\d:\d\d GMT/;function An(t,n){return t.s=t.s.substring(t.i),t.i=0,!!t.s.match(Sn)&&(n(t.s.substring(t.i,t.i+=29)),!0)}var jn=function(){return!1};function Rn(t,n){var e,u,i,r=1<arguments.length&&void 0!==n?n:{},o=r.named,c=void 0===o||o,a=r.tagged,s=void 0===a||a,f=r.extra,l=void 0===f||f,h=r.next,v=void 0===h?(e=t,function(t){var n=t.s[t.i];return t.d=e.delimiterOf(n),n}):h,y=function(t,n){var e="";for(++t.i;t.i<t.s.length;++t.i){var r=t.s[t.i];if("\\"===r){var i=t.s[++t.i];e+=i||r}else{if(65536&u.delimiterOf(r))return++t.i,void n(e);e+=r}}n(e)},p=(i=u=t,function(t,n){if(!(262144&i.delimiterOf(t.s[t.i])))return!1;var e="";for(++t.i;t.i<t.s.length;){var r=t.s[t.i++];if(524288&i.delimiterOf(r))break;e+=r}return n(e),!0}),d=l?Rn(t,{next:v,tagged:!1,named:!1,extra:!1}):jn;return function(t,n){for(var e,r,i,u="",o="raw";t.i<t.s.length;){var a=v(t);if(t.d){if(12&t.d)break;if(null==r){if(16&t.d){r=u?"":a,++t.i;continue}if(65536&t.d){!s&&u||y(t,function(t){u?(o="tagged-string",e=u):o="quoted-string",u="",r=t});break}if(!u&&p(t,function(t){o="angle-bracketed-string",r=t}))break;r=u,u=""}else{if(65536&t.d){!s&&r||y(t,function(t){r?(o="tagged-string",e=r):o="quoted-string",r=t});break}if(!r&&p(t,function(t){o="angle-bracketed-string",r=t}))break}}if(null==r){if(!u&&An(t,function(t){return r=t})){o="date-time";break}c?u+=a:r=a}else{if(!r&&An(t,function(t){return r=t})){o="date-time";break}r+=a}++t.i}if(null==r){if(!u)return!1;i=On({$:o,v:u})}else i=On({$:o,n:u||void 0,t:e,v:r});for(;d(t,function(t){return i.x.push(t)}););return n(i),!0}}function En(r){return function(t){var n=t.i;do{var e=t.s[t.i];if(!(2&r.delimiterOf(e)))break;t.i++}while(t.i<t.s.length);return t.i!==n}}function Pn(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=En(e),i=Rn(e,Object.assign(Object.assign({},n),{tagged:!1}));return function(t,n){return!!(8&e.delimiterOf(t.s[t.i]))&&(++t.i,r(t),i(t,n))}}function zn(r){var e,i=En(r),t={next:function(t){var n=t.s[t.i];return"\\"!==n?t.d=e.delimiterOf(n):(++t.i,t.i<t.s.length?(n=t.s[t.i],t.d=e.delimiterOf(n)?1:0):t.d=1),n}},u=Rn(e=r,t),o=Pn(r,t);return function(t,n){if(!(131072&r.delimiterOf(t.s[t.i])))return!1;var e;for(++t.i;i(t)||o(t,function(t){xn(e=e||On({$:"raw",v:""}),t)})||u(t,function(t){return e=t}););return++t.i,n(e||On({$:"raw",v:""})),!0}}var Mn={" ":7,"\t":7,",":5,";":9,'"':65569,"\\":33,"<":262145,">":524289,"=":17,"(":1,")":1,"/":1,":":1,"?":1,"@":1,"[":1,"]":1,"{":1,"}":1};function Tn(t){var n=(0<arguments.length&&void 0!==t?t:{}).delimit,e=n?Object.assign(Object.assign({},Mn),n):Mn;return{delimiterOf:function(t){return e[t]||("\0"<=t&&t<=" "||"\x7f"===t?1:0)}}}var Dn=Tn(),Fn=Tn({delimit:{":":17,"(":131105,")":37," ":3,"\t":3,"=":1,",":1}});function $n(t){var n,e,r=t?Tn(t):Dn,i=(e=En(n=r),function(t){return!!(4&n.delimiterOf(t.s[t.i]))&&(t.i++,e(t),!0)}),u=Pn(r),o=Rn(r),a=(null===t||void 0===t?void 0:t.comments)?zn(Fn):jn;return function(t){for(var n=[],e={i:0,s:t};e.i<e.s.length&&(i(e)||u(e,function(t){n.length||n.push(On({$:"raw",v:""})),xn(n[n.length-1],t)})||a(e,function(t){return n.push(t)})||o(e,function(t){return n.push(t)})););return n}}$n({comments:!0}),$n({delimit:{" ":11,"\t":11,";":5}}),$n({delimit:{",":1,";":1,"=":1}}),nu("Y",$n());function Un(t,n){"single"!=(n=function(t,n){if(!t)return n;var e={};for(var r in n)e[r]=Cn.call(t,r)?t[r]:n[r];return e}(n,Un.options)).quotes&&"double"!=n.quotes&&(n.quotes="single");for(var e="double"==n.quotes?'"':"'",r=n.isIdentifier,i=t.charAt(0),u="",o=0,a=t.length;o<a;){var c=t.charAt(o++),s=c.charCodeAt(),f=void 0;if(s<32||126<s){if(55296<=s&&s<=56319&&o<a){var l=t.charCodeAt(o++);56320==(64512&l)?s=((1023&s)<<10)+(1023&l)+65536:o--}f="\\"+s.toString(16).toUpperCase()+" "}else f=n.escapeEverything?Kn.test(c)?"\\"+c:"\\"+s.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(c)?"\\"+s.toString(16).toUpperCase()+" ":"\\"==c||!r&&('"'==c&&e==c||"'"==c&&e==c)||r&&qn.test(c)?"\\"+c:c;u+=f}return r&&(/^-[-\d]/.test(u)?u="\\-"+u.slice(1):/\d/.test(i)&&(u="\\3"+i+" "+u.slice(1))),u=u.replace(In,function(t,n,e){return n&&n.length%2?t:(n||"")+e}),!r&&n.wrap?e+u+e:u}var Cn={}.hasOwnProperty,Kn=/[ -,\.\/:-@\[-\^`\{-~]/,qn=/[ -,\.\/:-@\[\]\^`\{-~]/,In=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g;Un.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},Un.version="3.0.0";var Nn,Vn=Un,Yn=/[A-Z]/g,Wn=/^ms-/,Ln={};function Jn(t){return"-"+t.toLowerCase()}var Gn=regeneratorRuntime.mark(Pr);function Hn(t){return Vn(t,{isIdentifier:!0})}var Zn="!important";function Bn(t){return Array.isArray(t)}function Qn(t){return!!t.length}var Xn=function(){function n(t){j(this,n),this.priority=t&&t.priority||0}return R(n,[{key:"important",value:function(){return this.prioritize(1)}},{key:"usual",value:function(){return this.prioritize(0)}}]),n}();function te(t,n){return t===n||("object"===a(t)?t.is(n):"object"===a(n)&&n.is(t))}var ne=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Xn),t}(),ee=nu("ac",function(){function c(t,n){var e;return j(this,c),(e=p(this,h(c).call(this,n))).r=ue(t.r,255),e.g=ue(t.g,255),e.b=ue(t.b,255),e.a=null!=t.a?oe(t.a,1):1,e}return l(c,ne),R(c,[{key:"by",value:function(t){return ie.by(t)||this}},{key:"is",value:function(t){return"object"===a(t)&&t.type===this.type&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a&&t.priority===this.priority}},{key:"prioritize",value:function(t){return this.priority===t?this:new c(this,{priority:t})}},{key:"set",value:function(t){"function"==typeof t&&(t=t(this));var n=t.r,e=void 0===n?this.r:n,r=t.g,i=void 0===r?this.g:r,u=t.b,o=void 0===u?this.b:u,a=t.a;return new c({r:e,g:i,b:o,a:void 0===a?this.a:a},this)}},{key:"toString",value:function(){var t="".concat(this.r,", ").concat(this.g,", ").concat(this.b);return 1===this.a?"rgb(".concat(t,")"):"rgba(".concat(t,", ").concat(this.a,")")}},{key:"type",get:function(){return"rgb"}},{key:"rgb",get:function(){return this}},{key:"hsl",get:function(){var t=this.a,n=100*this.r/255,e=100*this.g/255,r=100*this.b/255,i=Math.max(n,e,r),u=Math.min(n,e,r),o=Math.round((i+u)/2);if(i===u)return new re({h:0,s:0,l:o,a:t},this);var a,c=i-u,s=Math.round(50<o?100*c/(200-i-u):100*c/(i+u));switch(i){case n:a=(e-r)/c+(e<r?6:0);break;case e:a=(r-n)/c+2;break;default:a=(n-e)/c+4}return a*=60,a=Math.round(a),new re({h:a,s:s,l:o,a:t},this)}}]),c}()),re=function(){function c(t,n){var e,r;return j(this,c),(e=p(this,h(c).call(this,n))).h=(r=t.h,(r%=360)<0?360+r:r),e.s=oe(t.s,100),e.l=oe(t.l,100),e.a=null!=t.a?oe(t.a,1):1,e}return l(c,ne),R(c,[{key:"by",value:function(t){return ie.by(t)||this}},{key:"is",value:function(t){return"object"===a(t)&&t.type===this.type&&t.h===this.h&&t.s===this.s&&t.l===this.l&&t.a===this.a&&t.priority===this.priority}},{key:"prioritize",value:function(t){return this.priority===t?this:new c(this,{priority:t})}},{key:"set",value:function(t){"function"==typeof t&&(t=t(this));var n=t.h,e=void 0===n?this.h:n,r=t.s,i=void 0===r?this.s:r,u=t.l,o=void 0===u?this.l:u,a=t.a;return new c({h:e,s:i,l:o,a:void 0===a?this.a:a},this)}},{key:"toString",value:function(){var t="".concat(this.h,", ").concat(this.s,"%, ").concat(this.l,"%");return 1===this.a?"hsl(".concat(t,")"):"hsla(".concat(t,", ").concat(this.a,")")}},{key:"type",get:function(){return"hsl"}},{key:"rgb",get:function(){var t=this.a,n=this.s/100,e=this.l/100;if(!n){var r=255*e;return new ee({r:r,g:r,b:r,a:t},this)}var i=e<.5?e*(1+n):e+n-e*n,u=2*e-i,o=this.h/360;return new ee({r:ae(u,i,o+1/3),g:ae(u,i,o),b:ae(u,i,o-1/3),a:t},this)}},{key:"hsl",get:function(){return this}}]),c}(),ie={by:function(t){if("object"===a(t)&&("rgb"===t.type||"hsl"===t.type))return t}};function ue(t,n){return oe(Math.round(t),n)}function oe(t,n){return Math.max(Math.min(t,n),0)}function ae(t,n,e){var r=e;return r<0?r+=1:1<r&&--r,255*(r<1/6?t+6*r*(n-t):r<.5?n:r<2/3?t+(n-t)*(2/3-r)*6:t)}var ce=function(){function e(t){var n;return j(this,e),(n=p(this,h(e).call(this,t))).dim=t.dim,n}return l(e,Xn),R(e,[{key:"by",value:function(t){return this.dim.by(t)||this}},{key:"toString",value:function(){return this.toFormula()}}]),e}(),se={map:function(e,r){var i={},n={from:r,get:function(t){if(t in i)return i[t];var n=function(n){switch(a(n)){case"function":return n;case"object":return n.by.bind(n)}var e=a(n);return function(t){return a(t)===e?t:n}}(e[t])(r[t],this,t);return i[t]=n}};return J(at(e),function(t){return n.get(t)}),i},by:function(t){return se.map.bind(void 0,t)}};function fe(t){if(null==t)return[void 0,0];switch(a(t)){case"object":return[t,t.priority];case"string":if(t.endsWith(Zn))return[t.substring(0,t.length-Zn.length).trim(),1]}return[t,0]}var le=function(){function i(t,n,e){var r;return j(this,i),(r=p(this,h(i).call(this,e))).val=t,r.unit=n,r}return l(i,ce),R(i,[{key:"toDim",value:function(t){var n=this.dim;if(t===n||t===n.pt||t===("%"===this.unit?t.pt:n.noPt))return this}},{key:"is",value:function(t){return t===this||"object"===a(t)&&t.type===this.type&&this.unit===t.unit&&this.val===t.val&&this.priority===t.priority}},{key:"prioritize",value:function(t){return this.priority===t?this:new i(this.val,this.unit,{dim:this.dim,priority:t})}},{key:"add",value:function(t,n){return"number"==typeof t&&(t=he(t,n||this.unit,this)),"dimension"===t.type&&this.unit===t.unit?he(this.val+t.val,this.unit,this):pe(this,"+",t)}},{key:"sub",value:function(t,n){return"number"==typeof t&&(t=he(t,n||this.unit,this)),"dimension"===t.type&&this.unit===t.unit?he(this.val-t.val,this.unit,this):pe(this,"-",t)}},{key:"mul",value:function(t){return 1===t?this:he(this.val*t,this.unit,this)}},{key:"div",value:function(t){return 1===t?this:he(this.val/t,this.unit,this)}},{key:"negate",value:function(){return he(-this.val,this.unit,this)}},{key:"toFormula",value:function(){return this.val+this.unit}},{key:"type",get:function(){return"dimension"}}]),i}();function he(t,n,e){return t?new le(t,n,e):e.dim.zero.prioritize(e.priority||0)}var ve=function(){function u(t,n,e,r){var i;return j(this,u),(i=p(this,h(u).call(this,r))).left=t.usual(),i.op=n,i.right=e,i}return l(u,ce),R(u,[{key:"is",value:function(t){return this===t||"object"===a(t)&&t.type===this.type&&(this.op===t.op&&this.left.is(t.left)&&te(this.right,t.right)&&this.priority===t.priority)}},{key:"add",value:function(t,n){return"number"==typeof t&&(t=he(t,n,this)),pe(this,"+",t)}},{key:"sub",value:function(t,n){return"number"==typeof t&&(t=he(t,n,this)),pe(this,"-",t)}},{key:"mul",value:function(t){return ge(this,t)}},{key:"div",value:function(t){return ke(this,t)}},{key:"toString",value:function(){return"calc"+i(h(u.prototype),"toString",this).call(this)}},{key:"type",get:function(){return"calc"}}]),u}(),ye=function(){function i(t,n,e,r){return j(this,i),p(this,h(i).call(this,t,n,e.usual(),r))}return l(i,ve),R(i,[{key:"prioritize",value:function(t){return this.priority===t?this:new i(this.left,this.op,this.right,{dim:this.dim,priority:t})}},{key:"toDim",value:function(t){var n=this.left.toDim(t);if(n){var e=this.right.toDim(t);if(e)return n===this.left&&e===this.right?this:new i(n,this.op,e,{dim:t,priority:this.priority})}}},{key:"negate",value:function(){return"-"===this.op?new i(this.right,this.op,this.left,this):new i(this.left.negate(),"-",this.right,this)}},{key:"toFormula",value:function(){return"(".concat(this.left.toFormula()," ").concat(this.op," ").concat(this.right.toFormula(),")")}}]),i}();function pe(t,n,e){return e.type?new ye(t,n,e,t):t}var de=function(){function e(){return j(this,e),p(this,h(e).apply(this,arguments))}return l(e,ve),R(e,[{key:"prioritize",value:function(t){return this.priority===t?this:new e(this.left,this.op,this.right,{dim:this.dim,priority:t})}},{key:"toDim",value:function(t){var n=this.left.toDim(t);if(n)return n===this.left?this:new e(n,this.op,this.right,{dim:t,priority:this.priority})}},{key:"mul",value:function(t){return("*"===this.op?ge(this.left,this.right*t):ke(this.left,this.right/t)).prioritize(this.priority)}},{key:"div",value:function(t){return("/"===this.op?ke(this.left,this.right*t):ge(this.left,this.right/t)).prioritize(this.priority)}},{key:"negate",value:function(){return new e(this.left,this.op,-this.right,this)}},{key:"toFormula",value:function(){return"(".concat(this.left.toFormula()," ").concat(this.op," ").concat(this.right,")")}}]),e}();function ge(t,n){return n?1===n?t.prioritize(t.priority):new de(t,"*",n,t):t.dim.zero.prioritize(t.priority)}function ke(t,n){return 1===n?t.prioritize(t.priority):new de(t,"/",n,t)}function be(t){return"object"===a(t)&&("dimension"===t.type||"calc"===t.type||0===t.type)}var me=function(){function r(t,n){var e;return j(this,r),(e=p(this,h(r).call(this,n)))._byPriority=t,e}return l(r,ce),R(r,[{key:"toDim",value:function(t){return t.zero.prioritize(this.priority)}},{key:"is",value:function(t){return this===t||("object"===a(t)?t.type===this.type&&t.priority===this.priority:0===t||"0"===t?0===this.priority:"0 !important"===t&&1===this.priority)}},{key:"add",value:function(t,n){return"number"==typeof t&&(t=he(t,n,this)),t.prioritize(this.priority)}},{key:"sub",value:function(t,n){return"number"==typeof t&&(t=he(t,n,this)),t.negate().prioritize(this.priority)}},{key:"mul",value:function(){return this}},{key:"div",value:function(){return this}},{key:"negate",value:function(){return this}},{key:"prioritize",value:function(t){return this._byPriority.get(t)}},{key:"important",value:function(){return this._byPriority.important}},{key:"usual",value:function(){return this._byPriority.usual}},{key:"toFormula",value:function(){return"0"}},{key:"type",get:function(){return 0}}]),r}(),we=function(){function n(t){j(this,n),this.dim=t,this.usual=new me(this,{dim:t}),this.important=new me(this,{dim:t,priority:1})}return R(n,[{key:"get",value:function(t){switch(t){case 0:return this.usual;case 1:return this.important}return new me(this,{dim:this.dim,priority:t})}}]),n}();function _e(t){var n=t.pt,e=t.noPt,r={get zero(){return i},get pt(){return n()},get noPt(){return e()},of:function(t,n){return t?new le(t,n,{dim:this}):i},by:function(t){if(be(t))return t.toDim(this)}},i=new we(r).usual;return r}function Oe(t){var n=t.zeroUnit,e=t.withPercent,r=t.noPercent,i={get pt(){return e&&e()},get noPt(){return r?r():this},get zero(){return u},of:function(t,n){return new le(t,n,{dim:this})},by:function(t){if(be(t))return t.toDim(this)}},u=new le(0,n,{dim:i});return i}var xe=_e({pt:function(){return Se},noPt:function(){return xe}}),Se=_e({pt:function(){return Se},noPt:function(){return xe}}),Ae=Oe({zeroUnit:"kHz",withPercent:function(){return je},noPercent:function(){return Ae}}),je=Oe({zeroUnit:"kHz",withPercent:function(){return je},noPercent:function(){return Ae}}),Re=nu("ae",_e({pt:function(){return Ee},noPt:function(){return Re}})),Ee=nu("ad",_e({pt:function(){return Ee},noPt:function(){return Re}})),Pe=function(){function r(t,n){var e;return j(this,r),(e=p(this,h(r).call(this,n))).url=t,e}return l(r,Xn),R(r,[{key:"by",value:function(t){return r.by(t)||this}},{key:"prioritize",value:function(t){return t===this.priority?this:new r(this.url,{priority:t})}},{key:"is",value:function(t){return"object"===a(t)&&"url"===t.type&&t.url===this.url&&t.priority===this.priority}},{key:"toString",value:function(){return"url('".concat(Vn(this.url),"')")}},{key:"type",get:function(){return"url"}}],[{key:"by",value:function(t){switch(a(t)){case"string":var n=E(fe(t),2);return new r(n[0],{priority:n[1]});case"object":if("url"===t.type)return t}}}]),r}(),ze=zt({});function Me(){return ze}function Te(t,n){if(!n)return ze;if("string"!=typeof n){if(ft(n))return Fe(n);if(gt(n))return Fe(De(n));if("function"==typeof n){var e=n(t);if("string"!=typeof e){if(ft(e))return Fe(e);if(gt(e))return Fe(De(e))}return zt($e(e))}}return zt($e(n))}function De(t){return Pt(t,M({}))}function Fe(t){return Pt(t).keep.thru($e,function(t){return n&&function(t,n){var e=N(Ue(n)),r=!0,i=!1,u=void 0;try{for(var o,a=Ue(t)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=E(o.value,2),s=c[0],f=c[1],l=e.next().value;if(!l||s!==l[0]||!te(f,l[1]))return 0}}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return!e.next().value}(t,n)?K():n=Object.assign({},t)},x);var n}function $e(t){return"string"==typeof t?{$$css:t}:t}function Ue(t){return Q(ct(t),S)}function Ce(t,n){return Fe(qt({base:t,addendum:n}).keep.thru(function(t){var n,e=E(t.base,1)[0],r=E(t.addendum,1)[0];return n=e,Z(ct(r),function(t,n){var e=E(n,2);return function(t,n,e){return Ke(t[n])<=Ke(e)&&(delete t[n],t[n]=e),t}(t,e[0],e[1])},Object.assign({},n))}))}function Ke(t){switch(a(t)){case"string":return t.endsWith(Zn)?1:0;case"object":return t.priority}return 0}function qe(t){return">"===t||"+"===t||"~"===t}function Ie(t){return{ns:t.ns||void 0,e:"*"!==(n=t.e)&&n||void 0,i:t.i||void 0,s:t.s||void 0,c:function(t){if(!t)return;if(bn(t))return[t];var n=t.filter(function(t){return!!t});return Qn(n)?n.sort(mn):void 0}(t.c),$:function(t){if(!t)return;t=Bn(t)?P(Z(X(t,Ve),function(t,n){return t.add(n)},new Set)).sort():P(Ve(t));return Qn(t)?t:void 0}(t.$)};var n}var Ne=new Set;function Ve(t){if(!t)return Ne;var n,e=t.indexOf("="),r=e<0?t:t.substring(0,e),i=new Set,u=!0,o=!1,a=void 0;try{for(var c,s=r.split(":")[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var f=c.value;n?n+=":"+f:n=f,i.add(n)}}catch(t){o=!0,a=t}finally{try{u||null==s.return||s.return()}finally{if(o)throw a}}return 0<=e&&i.add(t),i}var Ye=[[]];function We(t){if(!t.length)return Ye;for(var n,e=0;;){var r=t[e++];if(!qe(r))return[n?[n,r]:[r],t.slice(e)];n=r}}var Le=[];function Je(t,n){return t&&n.every(function(n){return t.find(function(t){return function(t,n){if("string"==typeof t)return"string"==typeof n?t===n:!n[1].url&&n[0]===t;var e=E(t,2),r=e[0],i=e[1].url;return"string"==typeof n?!i&&r===n:r===n[0]&&i===n[1].url}(n,t)})})}function Ge(t){if(!Bn(t))return[He(t)];var n,e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=o.value,s=n;n&&(e.push(n),n=void 0);var f=void 0;if(qe(c)){if(n=c,!s)continue;f={}}else f=He(c);e.push(f)}}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return n&&e.push(n,{}),e}function He(t){return"string"==typeof t?t?{s:t}:{}:Ie(t)}var Ze={qualify:function(t){return"@".concat(Hn(t))}};function Be(t){return Xe(t,Ze)}var Qe={};function Xe(t,n){var e=1<arguments.length&&void 0!==n?n:Qe,r=e.qualify,i=e.nsAlias,u={qualify:r,nsAlias:void 0===i?_n():i};return t.reduce(function(t,n){return qe(n)?t+n:(t&&!qe(t[t.length-1])&&(t+=" "),t+function(t,n){var e=n.qualify,r=n.nsAlias,i=t.ns,u=t.e,o=t.i,a=t.c,c=t.s,s=t.$,f=!1,l="";o&&(f=!0,l+="#".concat(Hn(dn.name(o,r))));a&&(f=!0,l=a.reduce(function(t,n){return"".concat(t,".").concat(Hn(gn.name(n,r)))},l));c&&(f=!0,l+=c);e&&s&&(l=s.reduce(function(t,n){return t+e(n)},l));if(i){var h=function(t,n){return"string"==typeof t?t:t.url?n(t):void 0}(i,r);l=h?"".concat(h,"|").concat(u||"*").concat(l):v()}else l=v();return l;function v(){return f?"".concat(u?yn.name(u,r):"").concat(l):"".concat(u?yn.name(u,r):"*").concat(l)}}(n,u))},"")}var tr=-65535;function nr(t){return"cssRules"in t}var er=function(){function n(t){j(this,n),this._rule=t}return R(n,[{key:"read",value:function(t){for(var n=this._rule.outer;n;)t=Ce(n.read.keep.thru(ur),t),n=n.outer;return t}},{key:"render",value:function(t,n){var e=t.selector,r=t.target;if(nr(r)){var i=r,u=function(t){var n=new Map,e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=o.value;qe(c)?e.push(c):e.push(ar(c,n))}}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return n.size?[n,Ge(e)]:void 0}(e);if(u){var o=E(u,2),a=o[0],c=o[1],s=!0,f=!1,l=void 0;try{for(var h,v=a[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){var y=h.value,p=i.insertRule("".concat(rr(n,y),"{}"),i.cssRules.length),d=i.cssRules[p];nr(r=d)&&(i=d)}}catch(t){f=!0,l=t}finally{try{s||null==v.return||v.return()}finally{if(f)throw l}}t.render(n,{target:r,selector:c})}else t.render(n)}else t.render(n)}}]),n}();function rr(t,n){var e=E(n,2),r=e[0],i=E(e[1],2),u=i[0],o=i[1],a="",c=!0,s=!1,f=void 0;try{for(var l,h=u[Symbol.iterator]();!(c=(l=h.next()).done);c=!0){v(E(fe(t[l.value]),1)[0])}}catch(t){s=!0,f=t}finally{try{c||null==h.return||h.return()}finally{if(s)throw f}}return v(o),a?"".concat(r," ").concat(a):r;function v(t){t&&(a&&(a+=" and "),a+=t)}}var ir={order:tr,create:function(t){return new er(t)}};function ur(t){return Z(Q(ct(t),or),function(t,n){var e=E(n,2),r=e[0],i=e[1];return t[r]=i,t},{})}function or(t){return"@"===String(t[0])[0]}function ar(t,n){var e=t.$;if(!e)return t;var r=[],i=!0,u=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var s=a.value;"@"===s[0]?cr(n,s):r.push(s)}}catch(t){u=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(u)throw o}}return r.length===e.length?t:Qn(r)?Object.assign(Object.assign({},t),{$:r}):Object.assign(Object.assign({},t),{$:void 0})}function cr(t,n){var e,r,i=n.indexOf("=");i<0?e=n:(e=n.substring(0,i),r=n.substring(i+1));var u=e.indexOf(":"),o=u<0?e:e.substring(0,u),a=t.get(o);if(a){var c=E(a,2),s=c[0],f=c[1];s.add(e),r&&(a[1]=f?"".concat(f," and ").concat(r):r)}else t.set(o,[(new Set).add(e),r])}var sr={order:1+tr,needs:ir,render:function(t,n){var e=t.styleSheet,r=0,i=0,u=!0,o=!1,a=void 0;try{for(var c,s=ct(n)[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var f=E(c.value,2),l=f[0],h=f[1],v=String(l);if("@"===v[0]){var y=E(fe(h),1)[0],p=lr(e,r,v,y);r+=p,i+=p;var d=Pe.by(y);d&&(i+=hr(e,i,v,d),i+=yr(e,i,v,d))}}}catch(t){o=!0,a=t}finally{try{u||null==s.return||s.return()}finally{if(o)throw a}}t.render(n)}},fr="@import:";function lr(t,n,e,r){if(!e.startsWith(fr))return 0;var i=new Pe(e.substring(fr.length)),u="@import ".concat(i);return r&&(u+=" "+r),t.insertRule(u+";",n),1}function hr(t,n,e,r){return"@namespace"!==e?0:(t.insertRule("@namespace ".concat(r,";"),n),1)}var vr="@namespace:";function yr(t,n,e,r){if(!e.startsWith(vr))return 0;var i=e.substring(vr.length);return t.insertRule("@namespace ".concat(i," ").concat(r,";"),n),1}function pr(t,n){var e=t.addRule(),o=e.style;J(Q(ct(n),dr),function(t){var n=E(t,2),e=n[0],r=E(fe(n[1]),2),i=r[0],u=r[1];o.setProperty(function(t){if(Ln.hasOwnProperty(t))return Ln[t];var n=t.replace(Yn,Jn);return Ln[t]=Wn.test(n)?"-"+n:n}(e),"".concat(i),1<=u?"important":void 0)}),t.render(n,{target:e})}function dr(t){var n=E(t,2),e=n[0];if(null==n[1])return!1;var r=String(e)[0];return"a"<=r&&r<="z"||"A"<=r&&r<="Z"}function gr(e){if("function"==typeof e)return{create:function(){return{render:e}}};if("create"in e)return{order:e.order,needs:e.needs,create:function(t){return"function"==typeof(n=e.create(t))?{render:n}:n;var n}};var t=e.render.bind(e);return{order:e.order,needs:e.needs,create:function(){return{render:t}}}}function kr(t,n){var e=t.order||0,r=n.order||0;return r<e?1:e<r?-1:0}function br(t){var n,e,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=r.document,u=void 0===i?window.document:i,o=r.rootSelector,s=void 0===o?{e:"body"}:o,a=r.addStyleSheet,f=void 0===a?mr:a,c=r.schedule,l=void 0===c?function(t){d.requestAnimationFrame(t)}:c,h=r.nsAlias,v=void 0===h?_n():h,y=r.parent,p=void 0===y?u.head:y,d=u.defaultView||window,g={nsAlias:v},k=(n=r,e=new Map,b(n.render),e.delete(pr),[].concat(P(e.values()),[gr(pr)]).sort(kr));function b(t){t&&(Bn(t)?t.forEach(m):m(t))}function m(t){if(!e.has(t)){var n=gr(t);e.set(t,n),b(n.needs)}}var w,_,O=Z(tt(t,A),function(n,e){return ht(function(t){e.off(t),n.off(t)})},ht()),x=(w=new Map,_=St(t)(function(t,n){t.forEach(function(t){return w.set(t,A(t))}),n.forEach(function(t){return w.delete(t)})}),ht(function(n){_.off(n),J(w.values(),function(t){return t.off(n)}),w.clear()}).needs(_));return ht(function(t){x.off(t),O.off(t)}).needs(O).needs(x);function S(e,r,i){return new(function(){function t(){j(this,t)}return R(t,[{key:"nsAlias",value:function(t){return v(t)}},{key:"render",value:function(t,n){r(n?S(e,r,{styleSheet:i.styleSheet,target:n.target||i.target,selector:n.selector||i.selector}):this,t)}},{key:"addRule",value:function(t){var n=0<arguments.length&&void 0!==t?t:i.selector,e=i.target;if(!nr(e))return e;var r=e.insertRule("".concat(function(t,n){return Xe(Ge(t),n)}(n,g),"{}"),e.cssRules.length);return e.cssRules[r]}},{key:"document",get:function(){return u}},{key:"parent",get:function(){return p}},{key:"rule",get:function(){return e}},{key:"styleSheet",get:function(){return i.styleSheet}},{key:"target",get:function(){return i.target}},{key:"selector",get:function(){return i.selector}}]),t}())}function A(r){var n,a,i,t=E((n=r,[(a=k.map(function(t){return t.create(n)})).reduce(function(t,n){return n.read?Pt(n.read(t)):t},n.read),function u(o){return function(t,n){var e,r=o+1;e=r===k.length?z:u(r);var i=S(t.rule,e,t);a[o].render(i,n)}}(0)]),2),e=t[0],u=t[1],o=0,c=function(t){var n=t.selector;if(!n.length)return Ge(s);if(qe(n[0]))return[].concat(P(Ge(s)),P(n));return n}(r);return e(function(n){var e=++o;l(function(){if(o===e){i&&function(t){for(;t.cssRules.length;)t.deleteRule(t.cssRules.length-1)}(i.styleSheet);var t=S(r,u,{get styleSheet(){return(i=i||f(t)).styleSheet},get target(){return this.styleSheet},selector:c});t.render(n)}})}).whenOff(function(){++o;var t=i;if(t)return i=void 0,t.remove()})}}function mr(t){var n=t.document,e=t.parent,r=n.createElement("style");return r.setAttribute("type","text/css"),r.append(n.createTextNode("")),e.append(r),{styleSheet:r.sheet,remove:function(){r.parentElement.removeChild(r)}}}function wr(t,n){var e=n.$$css;if(e){var r=t.addRule();r.style.cssText=e,t.render(n,{target:r})}else t.render(n)}var _r={order:tr,needs:sr,render:function(r,t){var n=Q(tt(ut(r.selector),function(t){return!qe(t)&&t.ns&&"string"!=typeof t.ns?t.ns:null}),S);function e(t,n){var e=r.nsAlias(n);return t["@namespace:".concat(e)]=new Pe(n.url),t}r.render(G(n)?t:Z(n,e,Object.assign({},t)))}};var Or=function(){function t(){j(this,t)}return R(t,[{key:"add",value:function(t){return this.rules.add([],t)}},{key:"clear",value:function(){return this.set()}},{key:st,get:function(){return this.read}}]),t}(),xr=function(){function t(){j(this,t)}return R(t,[{key:st,get:function(){return this.read}},{key:dt,get:function(){return this.onUpdate}}]),t}(),Sr=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,xr),t}(),Ar=function(){function r(t,n){var e,u,o,a;return j(this,r),e=p(this,h(r).call(this)),o=n?(u=function(){return Q(t,n)},function(t){return t.filter(n)}):(u=function(){return t},x),e.onUpdate=xt(function(r){var i=a=a||new Set(u());St(t)({supply:r.supply.whenOff(function(){return a=void 0}),receive:function(t,n,e){n=o(n),((e=o(e)).length||n.length)&&(e.forEach(function(t){return i.delete(t)}),n.forEach(function(t){return i.add(t)}),r.receive(t,n,e))}})}).share(),e.read=Pt(e.onUpdate.thru(A(y(e))),M(y(e))),e[Symbol.iterator]=function(){return a?a.values():V(u())},e}return l(r,xr),R(r,[{key:"grab",value:function(t){return jr(this,t)}}]),r}();function jr(t,n){var e=Ie(n);return new Ar(t,function(t){return function(t,n){if(!t.length)return!1;var e=t[t.length-1];return(!n.ns||e.ns===n.ns)&&((!n.e||e.e===n.e)&&((!n.i||e.i===n.i)&&(!(n.c&&!Je(e.c,n.c))&&!(n.$&&!Je(e.$,n.$)))))}(t.selector,e)})}var Rr=function(){function a(t,n){var e,r,i,u,o;return j(this,a),(e=p(this,h(a).call(this)))._root=t,e.nested=n,e._updates=new Kt,e.self=(r=t,i=y(e),u=new Kt,o=[r],i.onUpdate(function(t,n){n[0]===r&&(o.length=0,u.send([],[r]))}).whenOff(function(t){return u.done(t)}),new Ar(new(function(){function t(){j(this,t)}return R(t,[{key:Symbol.iterator,value:function(){return V(o)}},{key:dt,get:function(){return u.on}}]),t}()))),e.read=Pt(e._updates.on.thru(A(y(e))),M(y(e))),e}return l(a,Sr),R(a,[{key:Symbol.iterator,value:function(){return Pr(this._root)}},{key:"grab",value:function(t){return jr(this,t)}},{key:"add",value:function(t,n){return function t(n,e,r,i){var u=We(e),o=E(u,2),a=o[0],c=o[1];if(!c)return n._spec.it=Tr(n,r),n;var s=Be(a);var f=n.rules.nested._rule(s);if(f)return t(f,c,r,i);var l=new Mr(n.root,[].concat(P(n.selector),P(a)),a);var h=t(l,c,r,!1);n.rules.nested._add(s,l,i);return h}(this._root,Ge(t),n,!0)}},{key:"get",value:function(t){return this._get(Ge(t))}},{key:"_get",value:function(t){var n=E(We(t),2),e=n[0],r=n[1];if(!r)return this._root;var i=this.nested._rule(Be(e));return i?i.rules.get(r):void 0}},{key:"watch",value:function(t){var i=this,u=Ge(t);return Et(function(t){var n=Gt({}),e=i.read.consume(function(){var t=i._get(u);return t&&t.read(function(t){return n.it=t}).whenOff(function(){return n.it={}})}),r=n.read(t);return e.needs(r),r}).share()}},{key:"_add",value:function(t,n){var e=this;t.rules.onUpdate(function(t,n){return e._updates.send(t,n)}),n&&this._updates.send(Er(t),[])}},{key:"_remove",value:function(n){var t=Er(this._root);this._updates.send([],t),t.forEach(function(t){t.rules._updates.done(n),t._spec.done(n)})}},{key:"onUpdate",get:function(){return this._updates.on}}]),a}();function Er(t){return P(Pr(t))}function Pr(n){var e,r,i,u,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:r=!(e=!0),i=void 0,t.prev=5,u=n.rules.nested[Symbol.iterator]();case 7:if(e=(o=u.next()).done){t.next=13;break}return a=o.value,t.delegateYield(Er(a),"t0",10);case 10:e=!0,t.next=7;break;case 13:t.next=19;break;case 15:t.prev=15,t.t1=t.catch(5),r=!0,i=t.t1;case 19:t.prev=19,t.prev=20,e||null==u.return||u.return();case 22:if(t.prev=22,r)throw i;t.next=25;break;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}},Gn,null,[[5,15,19,27],[20,,22,26]])}var zr=function(){function e(t){var n;return j(this,e),(n=p(this,h(e).call(this)))._updates=new Kt,n._byKey=new Map,n._all=new Rr(t,y(n)),n.read=Pt(n._updates.on.thru(A(y(n))),M(y(n))),n}return l(e,xr),R(e,[{key:Symbol.iterator,value:function(){return this._byKey.values()}},{key:"grab",value:function(t){return jr(this,t)}},{key:"_rule",value:function(t){return this._byKey.get(t)}},{key:"_add",value:function(e,r,t){var i=this;this._byKey.set(e,r),r.rules.onUpdate(function(t,n){n[0]===r&&(i._byKey.delete(e),i._updates.send([],[r]))}),t&&this._updates.send([r],[]),this._all._add(r,t)}},{key:"onUpdate",get:function(){return this._updates.on}}]),e}(),Mr=function(){function u(t,n,e){var r,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Me;return j(this,u),(r=p(this,h(u).call(this)))._root=t||y(r),r._selector=n,r._key=e,r._spec=Gt(i),r._read=r._spec.read.keep.dig(function(t){return t(y(r))}),r._nested=new zr(y(r)),r}return l(u,Or),R(u,[{key:"set",value:function(n){return this._spec.it=n?function(t){return Te(t,n)}:Me,this}},{key:"remove",value:function(t){return this.rules._remove(t),this}},{key:"root",get:function(){return this._root}},{key:"outer",get:function(){if(void 0!==this._outer)return this._outer;var t=function(t){var n=t.length-1;if(n<=0)return n?void 0:Le;do{switch(t[--n]){case">":return t.slice(0,n);case"+":case"~":--n;continue;default:return t.slice(0,n+1)}}while(0<n)}(this.selector);return this._outer=t&&this.root.rules.get(t)||null}},{key:"selector",get:function(){return this._selector}},{key:"key",get:function(){return this._key}},{key:"empty",get:function(){return this._spec.it===Me}},{key:"read",get:function(){return this._read}},{key:"rules",get:function(){return this._nested._all}}]),u}();function Tr(t,n){var e=t._spec.it;return n?t.empty?function(t){return Te(t,n)}:function(t){return Ce(e(t),Te(t,n))}:e}var Dr=[];var Fr=function(){function t(){j(this,t)}return R(t,[{key:"clear",value:function(){return this.set()}},{key:st,get:function(){return this.read}}]),t}();nu("ab",{by:function(r,n){var t;return t="function"==typeof n?function(t){return $r(n(t))}:A($r(n)),function(n){var e=qt({ms:t(n),ps:n.rules.watch(r)}).keep.thru(function(t){var n=E(t.ms,1)[0],e=E(t.ps,1)[0];return se.map(n,e)});return new(function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Fr),R(t,[{key:"add",value:function(t){return n.rules.add(r,t),this}},{key:"set",value:function(t){return n.rules.add(r).set(t),this}},{key:"read",get:function(){return e}}]),t}())}}});function $r(t){return ft(t)?t:zt(t)}nu("af",function(){function o(t){j(this,o),this.refs=t}return R(o,[{key:"read",get:function(){if(this._read)return this._read;var t=qt(this.refs);return this._read=t.keep.thru(Ur)}},{key:st,get:function(){return this.read}}],[{key:"by",value:function(t,n){for(var e={},r=0,i=Object.keys(t);r<i.length;r++){var u=i[r];e[u]=t[u](n)}return new o(e)}}]),o}());function Ur(t){for(var n={},e=0,r=Object.keys(t);e<r.length;e++){var i=r[e];n[i]=t[i][0]}return n}var Cr,Kr,qr,Ir,Nr=new Ar((f(Nn={},dt,At),f(Nn,Symbol.iterator,function(){return[][Symbol.iterator]()}),Nn));function Vr(t){return"function"==typeof t?(e=t,f(r={},Symbol.iterator,function(){return n()[Symbol.iterator]()}),(i={})[dt]=i[dt]||{},i[dt].get=function(){return n()[dt]},o(r,i),r):Lr(t);function n(){return u=u||Lr(e())}var e,r,i,u}function Yr(t){return"function"==typeof t?(n=t,i=new Set,r=xt(function(r){var t=Lr(n());Jr(t,i,r),t[dt]({supply:r.supply.whenOff(function(){return i.clear()}),receive:function(t,n,e){e.forEach(function(t){return i.delete(t)}),n.forEach(function(t){return i.add(t)}),r.receive(t,n,e)}})}).share(),f(e={},dt,r),f(e,Symbol.iterator,function(){return i.values()}),e):Lr(t);var n,e,i,r}function Wr(a){var t,n;if(1!==a.length)return new Ar((f(t={},Symbol.iterator,regeneratorRuntime.mark(function t(){var n,e,r,i,u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!(n=!0),r=void 0,t.prev=3,i=a[Symbol.iterator]();case 5:if(n=(u=i.next()).done){t.next=11;break}return o=u.value,t.delegateYield(o,"t0",8);case 8:n=!0,t.next=5;break;case 11:t.next=17;break;case 13:t.prev=13,t.t1=t.catch(3),e=!0,r=t.t1;case 17:t.prev=17,t.prev=18,n||null==i.return||i.return();case 20:if(t.prev=20,e)throw r;t.next=23;break;case 23:return t.finish(20);case 24:return t.finish(17);case 25:case"end":return t.stop()}},t,null,[[3,13,17,25],[18,,20,24]])})),(n={})[dt]=n[dt]||{},n[dt].get=function(){return xt(function(r){a.forEach(function(t){return St(t)({supply:ht().needs(r.supply),receive:function(t,n,e){r.receive(t,n,e)}})})}).share()},o(t,n),t));var e=a[0];return e instanceof xr?e:new Ar(e)}function Lr(t){return t instanceof Or?t.rules.self:gt(t)?t:(n=t,u=new Set,r=xt(function(r){var e=yt(),i=r.supply;i.whenOff(function(t){e.off(t),u.clear()}),n.then(function(t){if(!i.isOff){var n=t instanceof Or?t.rules:t;Jr(n,u,r),e=St(n)({receive:function(t,n,e){e.forEach(function(t){return u.delete(t)}),n.forEach(function(t){return u.add(t)}),r.receive(t,n,e)}}).needs(i)}})}).share(),f(e={},dt,r),f(e,Symbol.iterator,function(){return u.values()}),e);var n,e,u,r}function Jr(t,n,e){var r=[];if(J(t,function(t){r.push(t),n.add(t)}),r.length){var i=new bt;i.on(e),i.send(r,[])}}var Gr=Symbol("in-aspect"),Hr={instance:null,convertTo:z};function Zr(t){return{instance:t,convertTo:function(){return this}}}var Br=function(){function n(){var t;return j(this,n),(t=p(this,h(n).apply(this,arguments)))._aspects=new Map,t}return l(n,Lt),R(n,[{key:"aspect",value:function(t){return this._aspect(t[Gr]).instance}},{key:"setup",value:function(t,n){return Gr in t?(1<arguments.length&&void 0!==n?n:z)(this.aspect(t),this):t(this),this}},{key:"convert",value:function(t,n){var e;return e=n?A({set:t,get:n}):t,new Qr(this,e)}},{key:"_aspect",value:function(t){var n=this._aspects.get(t);if(n)return n;var e=this._applyAspect(t)||t.applyTo(this);return this._aspects.set(t,e),e}},{key:"_applyAspect",value:function(){}}]),n}();var Qr=function(){function s(i,t){var n;j(this,s),n=p(this,h(s).call(this));var u,o=0,a=new Kt;n.on=a.on;var c=t(i,y(n)),e=c.applyAspect;function r(t){return i._aspect(t).convertTo(this)}return n._applyAspect=e?function(t){return e.call(c,t)||r.call(this,t)}:r,n._it=Gt([c.set(i.it),0]),n._it.on(function(t,n){var e=E(t,1)[0],r=E(n,1)[0];e!==r&&a.send(e,r)}).whenOff(function(t){return a.done(t)}),i.on(function(t){t!==u&&(n._it.it=[c.set(t),++o])}).whenOff(function(t){return n.done(t)}),n._it.on(function(t){var n=E(t,2),e=n[0],r=n[1];if(r!==o){o=r,u=c.get(e);try{i.it=u}finally{u=void 0}}}),n}return l(s,Br),R(s,[{key:"done",value:function(t){return this._it.done(t),this}},{key:"it",get:function(){return this._it.it[0]},set:function(t){var n=E(this._it.it,2),e=n[0],r=n[1];t!==e&&(this._it.it=[t,r+1])}}]),s}(),Xr={applyTo:function(){return Hr}},ti=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Br),R(t,[{key:"_applyAspect",value:function(t){return t===Xr?Zr(this):void 0}}],[{key:Gr,get:function(){return Xr}}]),t}(),ni=function(){function t(){j(this,t)}return R(t,[{key:dt,get:function(){return this.on}},{key:st,get:function(){return this.read}}]),t}(),ei={applyTo:function(){return Zr(new ii)}},ri=function(){function t(){j(this,t)}return R(t,[{key:dt,get:function(){return this.on}},{key:st,get:function(){return this.read}}],[{key:Gr,get:function(){return ei}}]),t}(),ii=function(){function r(){var t;j(this,r),(t=p(this,h(r).call(this)))._map=new Map,t._on=new Kt;var n=t._map;function e(){return n.keys()}return t.read=Et(t._on.on.thru(e),function(){return[e()]}),t}return l(r,ri),R(r,[{key:"add",value:function(t){var n=this,e=this._map.get(t);if(e)return e;var r=ht(function(){n._map.delete(t),n._on.send([],[t])});return this._map.set(t,r),this._on.send([t],[]),r}},{key:"on",get:function(){return this._on.on}}]),r}(),ui={applyTo:function(){return Hr}},oi=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Br),R(t,[{key:"_applyAspect",value:function(t){return t===ui?Zr(this):void 0}}],[{key:Gr,get:function(){return ui}}]),t}(),ai={applyTo:function(t){return Zr(new li(t))}},ci=function(){function t(){j(this,t)}return R(t,[{key:"done",value:function(t){return this.own.done(t),this}},{key:dt,get:function(){return this.on}},{key:st,get:function(){return this.read}}],[{key:"hasData",value:function(t){return"off"!==t&&"-"!==t[0]}},{key:Gr,get:function(){return ai}}]),t}(),si=function(){function r(t){var n,e;return j(this,r),(n=p(this,h(r).call(this)))._tracker=Gt(t?null!=(e=t.element).getAttribute("disabled")?"off":null!=e.getAttribute("readonly")?"ro":"on":"on"),n}return l(r,Lt),R(r,[{key:"done",value:function(t){return this._tracker.done(t),this}},{key:"on",get:function(){return this._tracker.on}},{key:"it",get:function(){return this._tracker.it},set:function(t){switch(t){case"off":case"ro":case"-on":case"-ro":break;default:t="on"}this._tracker.it=t}}]),r}(),fi=function(){function e(){var t=this;j(this,e),this._all=new Set,this._on=new Kt;var n=Et(this._on.on.thru(function(){return t._all}),M(this._all));this.read=n.keep.dig(function(t){return It.apply(void 0,P(t)).keep.thru(vi)})}return R(e,[{key:"add",value:function(t){var n=this,e=Pt(t),r=ht(function(){n._all.delete(e),n._on.send()});return this._all.add(e),this._on.send(),r}}]),e}(),li=function(){function i(t){var n;j(this,i),(n=p(this,h(i).call(this)))._derived=new fi;var e=t.aspect(oi);n.own=new si(e),n.derive(t.aspect(ri).read.keep.dig_(hi));var u="on";n.read=Et(qt({derived:n._derived.read,own:n.own}).thru(function(t){var n,e=E(t.derived,1)[0],r=E(t.own,1)[0];if("off"===r||"off"===e)n="off";else{var i=!1;"-"===r[0]&&(i=!0,r=r.substring(1)),"-"===e[0]&&(i=!0,e=e.substring(1)),n="ro"===e?"ro":r,i&&(n="-"+n)}return u===n?K():T(u=n)}),M(u)),e&&n.read(function(t){return function(t,n){switch(n){case"off":t.setAttribute("disabled","");break;case"ro":case"-ro":t.setAttribute("disabled",""),t.removeAttribute("disabled"),t.setAttribute("readonly","");break;default:t.setAttribute("disabled",""),t.removeAttribute("disabled"),t.setAttribute("readonly",""),t.removeAttribute("readonly")}}(e.element,t)});var r="on";return n.on=n.read.thru(function(t){var n=r;return n===t?K():T(r=t,n)}),n}return l(i,ci),R(i,[{key:"derive",value:function(t){return this._derived.add(t)}}]),i}();function hi(t){var n=P(t);if(!n.length)return zt("on");var e=n.map(function(t){return t.parent.aspect(ci)});return It.apply(void 0,P(e)).keep.thru_(vi)}function vi(){for(var t=!1,n=!1,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var u=0,o=r;u<o.length;u++){switch(E(o[u],1)[0]){case"off":return"off";case"ro":t=!0;break;case"-on":n=!0;break;case"-ro":t=n=!0}}return n?t?"-ro":"-on":t?"ro":"on"}var yi={applyTo:function(t){return{instance:qt({value:t,mode:t.aspect(ci)}).keep.thru(function(t){var n,e,r=E(t.value,1)[0],i=E(t.mode,1)[0];return n=r,e=i,ci.hasData(e)?T(n):T()}),convertTo:z}}};var pi=(Cr={},(Kr={})[Gr]=Kr[Gr]||{},Kr[Gr].get=function(){return yi},o(Cr,Kr),Cr),di=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,ti),t}(),gi=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,ni),R(t,[{key:"remove",value:function(t){return this.set(t,void 0)}}]),t}(),ki={},bi=function(){function n(t){j(this,n),this._map=t}return R(n,[{key:"get",value:function(t){var n=this._map.get(t);return n&&n[0]}},{key:Symbol.iterator,value:function(){return V(tt(this._map.values(),function(t){return E(t,1)[0]}))}},{key:"entries",value:function(){return V(tt(this._map.entries(),function(t){var n=E(t,2);return[n[0],E(n[1],1)[0]]}))}}]),n}(),mi=function(){function n(t){j(this,n),this._controls=t,this._supply=ht(),this._map=new Map}return R(n,[{key:"set",value:function(n,t,e,r){var u=this,i=this._map.get(n);if(t){if(i){if(i[0]===t)return;r.push([n,i])}var o=[t,ht(function(t){t!==ki&&u._controls.remove(n)}).needs(u._supply)];a().set(n,o),e.push([n,o])}else i&&(r.push([n,i]),a().delete(n));function a(){if(u._shot){var i=new Map;J(u._map.entries(),function(t){var n=E(t,2),e=n[0],r=n[1];return i.set(e,r)}),u._shot=void 0,u._map=i}return u._map}i&&i[1].off(ki)}},{key:"snapshot",value:function(){return this._shot||(this._shot=new bi(this._map))}}]),n}(),wi=function(){function r(t){var n;j(this,r),(n=p(this,h(r).call(this)))._group=t,n._updates=new Kt;var e=y(n);return n._map=new mi(y(n)),n.on=n._updates.on.thru(function(t,n){return T(t.map(_i),n.map(_i))}),n.read=Et(n._updates.on.thru(function(){return n._map.snapshot()}),function(){return[n._map.snapshot()]}),n._map._supply.needs(t.read(function(t){e.read.once(function(u){var o=new Set;J(ct(t),function(t){var n=E(t,2),e=n[0],r=n[1];o.add(e);var i=u.get(e);i&&(i.it=r)}),J(u.entries(),function(t){var n=E(t,2),e=n[0],r=n[1];o.has(e)||(r.it=void 0)})})})),n}return l(r,gi),R(r,[{key:"set",value:function(t,n){var i=this,s=this._group,u=[],o=[];return"object"===a(t)?J(ct(t),function(t){var n=E(t,2),e=n[0],r=n[1];i._map.set(e,r,u,o)}):this._map.set(t,n,u,o),(u.length||o.length)&&(this._updates.send(u,o),u.length&&function(){var c;u.forEach(function(t){var n=E(t,2),e=n[0],r=E(n[1],2),i=r[0],u=r[1];u.needs(i.aspect(ri).add({parent:s}).needs(u));var o=i.it;if(c)c[e]=o;else{var a=s.it;a[e]!==o&&(c=Object.assign(Object.assign({},a),f({},e,o)))}}),c&&(s.it=c);u.forEach(function(t){var n=E(t,2),e=n[0],r=E(n[1],2),i=r[0],u=r[1];u.needs(i.read(function(t){s.it[e]!==t&&(s.it=Object.assign(Object.assign({},s.it),f({},e,t)))}).needs(u))})}()),this}}]),r}();function _i(t){var n=E(t,2);return[n[0],E(n[1],1)[0]]}var Oi=function(){function e(t){var n;return j(this,e),(n=p(this,h(e).call(this)))._model=Gt(t),n.controls=new wi(y(n)),n}return l(e,di),R(e,[{key:"done",value:function(t){return this._model.done(t),this}},{key:"_applyAspect",value:function(t){return t===pi[Gr]?{instance:qt({cs:(n=this).controls,model:n,mode:n.aspect(ci)}).keep.dig_(xi),convertTo:z}:i(h(e.prototype),"_applyAspect",this).call(this,t);var n}},{key:"on",get:function(){return this._model.on}},{key:"it",get:function(){return this._model.it},set:function(t){this._model.it=t}}]),e}();function xi(t){var n=E(t.cs,1)[0],e=E(t.model,1)[0],r=E(t.mode,1)[0];if(!ci.hasData(r))return zt();var i={};return J(n.entries(),function(t){var n=E(t,2),e=n[0],r=n[1];i[e]=r.aspect(pi)}),qt(i).keep.thru(function(t){var i=Object.assign({},e);return J(ct(t),function(t){var n=E(t,2),e=n[0],r=E(n[1],1)[0];i[e]=r}),i})}var Si=zt();function Ai(){return Si}function ji(r){return ft(r)?A(Pt(r)):"function"==typeof r?function(t){return Pt(r(t))}:function(t){return t.read.keep.thru((n=t,e=r,function(){var t=e.validate(n);return null==t?T():Array.isArray(t)?T.apply(void 0,P(t)):t}));var n,e}}function Ri(r){j(this,Ri);var n=new Kt,i=new Map,u=new Map,o=z,a=z;this[st]=Et(function(t){var e=Pt(n,M())(t).whenOff(function(){a=o=z});a=function(r,n){var t=r(function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];if(n.length)u.set(r,n);else if(!u.delete(r))return;o()}).needs(n).whenOff(function(t){t!==Ei&&n.off(t),u.delete(r)&&o()});e.whenOff(function(){return t.off(Ei)})},J(i.entries(),function(t){var n=E(t,2),e=n[0],r=n[1];return a(e,r)}),o=function(){n.send.apply(n,P(X(u.values(),x)))},u.size&&o()}).share(),this.from=function(t){var n=ji(t)(r),e=ht(function(){i.delete(n)});return i.set(n,e),a(n,e),e}}var Ei={};var Pi={applyTo:function(t){var n=new Fi(t);return{instance:n,convertTo:function(t){return function n(t,e){var r=new Fi(e);r.by(t._messages);return{instance:r,convertTo:function(t){return n(r,t)}}}(n,t)}}}},zi=nu("an",function(){function t(){j(this,t)}return R(t,[{key:st,get:function(){return this.read}}],[{key:Gr,get:function(){return Pi}}]),t}()),Mi=f({get ok(){return!0},messages:function(){return[]},has:function(){return!1}},Symbol.iterator,function(){return[][Symbol.iterator]()}),Ti=function(){function n(t){var o=this;j(this,n),this._byCode=new Map,this._all=[],J(t,function(i){var u=!1;J(ct(i),function(t){var n=E(t,2),e=n[0];if(n[1]){u=!0;var r=o._byCode.get(e);r?r.push(i):o._byCode.set(e,[i])}}),u&&o._all.push(i)})}return R(n,[{key:"messages",value:function(t){return null==t?this._all:this._byCode.get(t)||[]}},{key:"has",value:function(t){return null==t||this._byCode.has(t)}},{key:Symbol.iterator,value:function(){return this._all[Symbol.iterator]()}},{key:"ok",get:function(){return!this._all.length}}]),n}();function Di(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.length?new Ti(n):Mi}var Fi=function(){function r(t){var n;j(this,r),(n=p(this,h(r).call(this)))._messages=new Ri(t);var e=t.aspect(ti);return e&&n._messages.from(e.controls.read.keep.dig_($i).keep.thru(Ui)),n.read=Pt(n._messages).keep.thru(Di),n}return l(r,zi),R(r,[{key:"by",value:function(){return this._messages.from(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length;return 1===r?e[0]:r?function(t){var n=new Ri(t);return e.forEach(function(t){return n.from(t)}),n}:Ai}.apply(void 0,arguments))}}]),r}();function $i(t){return It.apply(void 0,P(tt(t,function(t){return t.aspect(zi)})))}function Ui(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=X(n[0],x);return T.apply(void 0,P(r))}var Ci=function(){function f(t,n){var e,r=n.get,i=n.set;j(this,f),(e=p(this,h(f).call(this))).element=t,e._input=new Kt,e._get=r,e._set=i,e._value=e.it,e._update=c,e.input=Pt(e._input.on.thru(x),function(){return[{value:e.it}]}),e.on=e._input.on.thru(function(t,n){var e=t.value;return e===n?K():T(e,n)}),e.events=new Ct(t);var u=y(e),o=e._supply=ht(function(t){return e._input.done(t)});function a(t){s({value:u.it,event:t},u._value)}function c(t,n){s({value:t},n)}function s(e,t){for(;;){u._value=e.value;var r=void 0;u._update=function(t,n){r=[Object.assign(Object.assign({},e),{value:t}),n]};try{u._input.send(e,t)}finally{u._update=c}if(!r)break;var n=E(r,2);e=n[0],t=n[1]}}return e.events.on("input")(a).needs(o),e.events.on("change")(a).needs(o),e}return l(f,oi),R(f,[{key:"done",value:function(t){return this._supply.off(t),this}},{key:"it",get:function(){return this._get()},set:function(t){var n=this.it;t!==n&&(this._set(t),this._update(this._get(),n))}}]),f}();var Ki={applyTo:function(t){var n=t.aspect(oi);return n?Zr(new Ii(n)):Hr}},qi=function(){function t(){return j(this,t),p(this,h(t).apply(this,arguments))}return l(t,Lt),R(t,null,[{key:Gr,get:function(){return Ki}}]),t}(),Ii=function(){function r(t){var n;j(this,r),(n=p(this,h(r).call(this)))._element=t,n._on=new Kt;var e=t.events;return e.on("focus")(function(){return n._on.send(!0,!1)}),e.on("blur")(function(){return n._on.send(!1,!0)}),n}return l(r,qi),R(r,[{key:"done",value:function(t){return this._on.done(t),this}},{key:"on",get:function(){return this._on.on}},{key:"it",get:function(){var t=this._element.element,n=t.getRootNode?t.getRootNode():t.ownerDocument;return!!n&&n.activeElement===t},set:function(t){if(this.it!==t){var n=this._element.element;t?n.focus():n.blur()}}}]),r}(),Ni={applyTo:function(t){var n=t.aspect(ti);return Zr(n?new Li(n):new Wi(t))}},Vi=function(){function t(){j(this,t)}return R(t,[{key:st,get:function(){return this.read}}],[{key:Gr,get:function(){return Ni}}]),t}(),Yi={hasFocus:!1,touched:!1,edited:!1},Wi=function(){function u(t){var n,r,e,i;return j(this,u),(n=p(this,h(u).call(this)))._flags=Gt(Yi),n._flags.by((r=n._flags,i=(e=t).aspect(oi),qt({hasFocus:e.aspect(qi)||zt(!1),edited:i?i.input.keep.thru(function(t){return!!t.event}):zt(!1)}).keep.thru(function(t){var n=E(t.hasFocus,1)[0],e=E(t.edited,1)[0];return function(t,n,e){return t=n?Object.assign(Object.assign({},t),{hasFocus:n,touched:!0}):Object.assign(Object.assign({},t),{hasFocus:n}),e&&(t=Object.assign(Object.assign({},t),{edited:e,touched:!0})),t}(r.it,n,e)}))),n}return l(u,Vi),R(u,[{key:"markTouched",value:function(t){var n=!(0<arguments.length&&void 0!==t)||t,e=this._flags.it;return n?e.touched||(this._flags.it=Object.assign(Object.assign({},e),{touched:n})):e.touched&&(this._flags.it=Object.assign(Object.assign({},e),{touched:e.hasFocus,edited:!1})),this}},{key:"markEdited",value:function(t){var n=!(0<arguments.length&&void 0!==t)||t,e=this._flags.it;return n?e.edited||(this._flags.it=Object.assign(Object.assign({},e),{touched:!0,edited:n})):e.edited&&(this._flags.it=Object.assign(Object.assign({},e),{edited:n})),this}},{key:"read",get:function(){return this._flags.read}}]),u}();var Li=function(){function e(t){var n;return j(this,e),(n=p(this,h(e).call(this)))._container=t,n.read=t.controls.read.keep.dig_(function(t){return It.apply(void 0,P(tt(t,function(t){return t.aspect(Vi)})))}).keep.thru(Ji),n}return l(e,Vi),R(e,[{key:"markEdited",value:function(n){return this._container.controls.read.once(function(t){return J(t,function(t){return t.aspect(Vi).markEdited(n)})}),this}},{key:"markTouched",value:function(n){return this._container.controls.read.once(function(t){return J(t,function(t){return t.aspect(Vi).markTouched(n)})}),this}}]),e}();function Ji(){for(var u={hasFocus:!1,touched:!1,edited:!1},t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return J(n,function(t){var n=E(t,1)[0],e=n.hasFocus,r=n.touched,i=n.edited;r&&(u.touched=!0),e&&(u.hasFocus=u.touched=!0),i&&(u.edited=u.touched=!0)}),u}var Gi={applyTo:function(t){var n=t.aspect(oi);return n?Zr(n.element):Hr}},Hi=(qr={},(Ir={})[Gr]=Ir[Gr]||{},Ir[Gr].get=function(){return Gi},o(qr,Ir),qr),Zi={applyTo:function(t){return{instance:new tu(t),convertTo:z}}},Bi=nu("ap",function(){function t(){j(this,t)}return R(t,[{key:st,get:function(){return this.read}}],[{key:Gr,get:function(){return Zi}}]),t}()),Qi=Symbol("reason");function Xi(t){return t&&"object"===a(t)&&Qi in t}var tu=function(){function r(t){var n;j(this,r),(n=p(this,h(r).call(this)))._control=t,n._sources=Gt([new Map]),n.read=n._sources.read.keep.dig_(function(t){var n=E(t,1)[0];return n.size?It.apply(void 0,P(n.keys())):zt()}).keep.thru(function(){for(var i={},t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.forEach(function(t){J(ct(E(t,1)[0]),function(t){var n=E(t,2),e=n[0],r=n[1];null!=r&&(i[e]=r)})}),i});var e=t.aspect(Hi);if(e){var i=e.classList,u=new Set;n.read(function(t){var r=new Set(u),n=new Set(tt(Q(ct(t),function(t){var n=E(t,2),e=n[0];return!!n[1]&&!r.delete(e)}),function(t){return E(t,1)[0]}));r.forEach(function(t){i.remove(t),u.delete(t)}),n.forEach(function(t){i.add(t),u.add(t)})})}return n}return l(r,Bi),R(r,[{key:"add",value:function(t){var n=this,e=function(t){if(ft(t))return A(t);return t}(t)(this._control),r=ht(),i=Et(function(i){var n=e[st]({receive:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.receive.apply(i,[t].concat(e))}});i.supply.whenOff(function(t){r.off(f({},Qi,t))}),r.needs(n).whenOff(function(t){Xi(t)&&n.off(t[Qi])})}).share(),u=E(this._sources.it,1)[0];return u.set(i,r),r.whenOff(function(t){Xi(t)||(u.delete(i),n._sources.it=[u])}),this._sources.it=[u],r}},{key:"done",value:function(n){return J(this._sources.it[0].values(),function(t){return t.off(n)}),this._sources.done(n),this}}]),r}()}}});
//# sourceMappingURL=lib.0eac229e.es5.js.map
