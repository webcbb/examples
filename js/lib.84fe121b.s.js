System.register([],(function(t){"use strict";return{execute:function(){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t("a9",(function(t){return typeof t})):t("a9",(function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})))(e)}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}function u(t,n){for(var e in n){(u=n[e]).configurable=u.enumerable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,e,u)}if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(n),i=0;i<r.length;i++){var u,o=r[i];(u=n[o]).configurable=u.enumerable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,o,u)}return t}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}function c(n){return(c=t("e",Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)}))(n)}function s(t,n){return(s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function f(t,n,e){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return e&&s(i,e.prototype),i}).apply(null,arguments)}function l(n){var e="function"==typeof Map?new Map:void 0;return(l=t("a",(function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,c(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)})))(n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?h(t):n}function y(n,e,r){return(y="undefined"!=typeof Reflect&&Reflect.get?t("k",Reflect.get):t("k",(function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=c(t)););return t}(t,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(e):i.value}})))(n,e,r||n)}function p(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g;t({$:dt,A:An,H:G,I:ot,J:At,L:On,O:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.length?Zr(n.map(Hr)):Jr},P:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.length?Zr(n.map(Gr)):Jr},T:V,U:tt,V:R,W:gt,X:B,Y:function(t){if(!t)return'""';for(var n,e=!1,r=0;r<t.length;++r){var i=t[r],u=Cn.delimiterOf(i);u?(32&u&&(n||(n=t.substring(0,r)),n+="\\"+i),e=!0):n&&(n+=i)}return e?'"'.concat(n||t,'"'):t},_:a,a:l,a0:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xr(t,Object.assign(Object.assign({},n),{render:Rr(n.render)}))},a1:jt,a2:Z,a5:function(t){return new Cr(void 0,Kr,[],t?function(n){return Ue(n,t)}:void 0)},a6:xr,a7:Mt,a9:n,aa:o,ag:function(t,n,e){var r=2*e-1,i=t.rgb,u=n.rgb,o=i.a-u.a,a=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,c=1-a;return new oe({r:i.r*a+u.r*c,g:i.g*a+u.g*c,b:i.b*a+u.b*c,a:i.a*e+u.a*(1-e)},t)},ah:function(t,n,e,r){var i,u=arguments.length,o=u<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(u<3?i(o):u>3?i(n,e,o):i(n,e))||o);return u>3&&o&&Object.defineProperty(n,e,o),o},ai:function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,u=e.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=u.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=u.return)&&e.call(u)}finally{if(i)throw i.error}}return o},aj:function(t,n,e,r){return new(e||(e=Promise))((function(i,u){function o(t){try{c(r.next(t))}catch(t){u(t)}}function a(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){t.done?i(t.value):new e((function(n){n(t.value)})).then(o,a)}c((r=r.apply(t,n||[])).next())}))},ak:function(t,n){var e,r,i,u,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},al:function(t){return new Ei(t)},am:function(t){return new Wi(t,{get:function(){return this.element.value},set:function(t){this.element.value=t}})},ao:function t(n){return n?n.read.keep.thru((function(t){return t?T():{missing:"missing"}})):t},aq:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,e=void 0===n?"inap-":n,r=t.suffix,i=void 0===r?"":r;return function(t){return Nt({md:t.aspect(yi),vl:t.aspect(Ci),st:t.aspect(Zi)}).keep.thru((function(t){var n,e=p(t.md,1)[0],r=p(t.vl,1)[0],i=p(t.st,1)[0],a=i.hasFocus,c=i.touched,s=i.edited;return o(n={},u("disabled"),!yi.hasData(e)),o(n,u("readonly"),"ro"===e||"-ro"===e),o(n,u("invalid"),!r.ok),o(n,u("missing"),r.has("missing")),o(n,u("incomplete"),r.has("incomplete")),o(n,u("has-focus"),a),o(n,u("touched"),c),o(n,u("edited"),s),n}))};function u(t){return"".concat(e).concat(t).concat(i)}},b:i,c:e,d:v,e:c,f:q,h:p,i:E,k:y,m:h,n:T,o:yt,p:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];if(!n.length)return Rt;return At((function(t){var e=t.supply,r=n.length,i=function(t){--r||e.off(t)},u=function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];t.receive.apply(t,[n].concat(r))};n.forEach((function(t){return jt(t)({supply:yt(i).needs(e),receive:u})}))})).share()},q:zt,r:Tt,s:Nt,t:Zt,u:Vt,v:z,w:d,x:X,y:P,z:nt});var k=regeneratorRuntime.mark(D),b=regeneratorRuntime.mark(F),m=Symbol("next-call"),w=Symbol("next-call:last-outcome"),_=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,null,[{key:"is",value:function(t){return"function"==typeof t&&m in t}},{key:"of",value:function(t){return n.is(t)?t:x((function(n){return n(t)}))}}]),n}(l(Function)),O=function(t){return t};function x(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return t(O)},e=function t(){return t};return e[m]=function(n){return t(n)},e[w]=n,e}var S=Symbol("passed-thru"),A=function(){function t(){e(this,t)}return i(t,null,[{key:"is",value:function(t){return"object"===n(t)&&S in t}},{key:"get",value:function(n){return t.is(n)?n[S]:n}},{key:"items",value:function(n){return t.is(n)?n:o({},Symbol.iterator,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:case"end":return t.stop()}}),t)})))}}]),t}();function j(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];function r(t,e){var i=n.length;return t<i?_.is(e)?e[m]((function(){for(var e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return r(t+1,n[t].apply(this,i))})):r(t+1,n[t].call(null,e)):_.is(e)?e[w]():e}return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return A.get(r(1,n[0].apply(this,e)))}}function R(t){return t}function E(){}function P(t){return null!=t}function z(t){return function(){return t}}function M(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(){return n}}function T(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return x((function(t){return t.apply(void 0,n)}),(function(){return n}))}function D(t,n){var e,r,i,u,o,a;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:e=!0,r=!1,i=void 0,c.prev=3,u=t[Symbol.iterator]();case 5:if(e=(o=u.next()).done){c.next=11;break}return a=o.value,c.delegateYield(A.items(_.is(a)?a[m](n):n(a)),"t0",8);case 8:e=!0,c.next=5;break;case 11:c.next=17;break;case 13:c.prev=13,c.t1=c.catch(3),r=!0,i=c.t1;case 17:c.prev=17,c.prev=18,e||null==u.return||u.return();case 20:if(c.prev=20,!r){c.next=23;break}throw i;case 23:return c.finish(20);case 24:return c.finish(17);case 25:case"end":return c.stop()}}),k,null,[[3,13,17,25],[18,,20,24]])}function F(t){var n,e,r,i,u,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=!0,e=!1,r=void 0,a.prev=3,i=t[Symbol.iterator]();case 5:if(n=(u=i.next()).done){a.next=11;break}return o=u.value,a.delegateYield(A.items(_.is(o)?o[w]():o),"t0",8);case 8:n=!0,a.next=5;break;case 11:a.next=17;break;case 13:a.prev=13,a.t1=a.catch(3),e=!0,r=a.t1;case 17:a.prev=17,a.prev=18,n||null==i.return||i.return();case 20:if(a.prev=20,!e){a.next=23;break}throw r;case 23:return a.finish(20);case 24:return a.finish(17);case 25:case"end":return a.stop()}}),b,null,[[3,13,17,25],[18,,20,24]])}var $=(o(g={},S,void 0),o(g,Symbol.iterator,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),g);function U(){return $}var C,K=x(U,U);function q(){return K}function I(t){return"length"in t}function N(t){return"reverse"in t}function V(t){return t[Symbol.iterator]()}function Y(t){return regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(t,"t0",1);case 1:case"end":return n.stop()}}),n)}))()}function W(t,n){var e=o({},Symbol.iterator,t);if(!n)return e;var r=e;return r.reverse=n,r}function L(t){if(I(t))return J(t);if(N(t)){var n=t.reverse();return W((function(){return V(n)}))}return J(d(t))}function J(t){return W(regeneratorRuntime.mark((function n(){var e,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=t.length,r=e-1;case 2:if(!(r>=0)){n.next=8;break}return n.next=5,t[r];case 5:--r,n.next=2;break;case 8:case"end":return n.stop()}}),n)})))}function G(t,n){var e=!0,r=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(e=(u=o.next()).done);e=!0){n(u.value)}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}}function H(t){return!!V(t).next().done}function Z(t){return V(t).next().value}function B(t,n,e){var r=e,i=!0,u=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){r=n(r,a.value)}}catch(t){u=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(u)throw o}}return r}function Q(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var i;return j.apply(void 0,[(i=t,x((function(t){return o({},Symbol.iterator,(function(){return D(i,t)}))}),(function(){return o({},Symbol.iterator,(function(){return F(i)}))})))].concat(e))()}function X(t,n){return W(regeneratorRuntime.mark((function e(){var r,i,u,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,i=!1,u=void 0,e.prev=3,o=t[Symbol.iterator]();case 5:if(r=(a=o.next()).done){e.next=13;break}if(c=a.value,!n(c)){e.next=10;break}return e.next=10,c;case 10:r=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,u=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!i){e.next=25;break}throw u;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,null,[[3,15,19,27],[20,,22,26]])})))}function tt(t,n){return W(regeneratorRuntime.mark((function e(){var r,i,u,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,i=!1,u=void 0,e.prev=3,o=t[Symbol.iterator]();case 5:if(r=(a=o.next()).done){e.next=11;break}return c=a.value,e.delegateYield(n(c),"t0",8);case 8:r=!0,e.next=5;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e.catch(3),i=!0,u=e.t1;case 17:e.prev=17,e.prev=18,r||null==o.return||o.return();case 20:if(e.prev=20,!i){e.next=23;break}throw u;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}}),e,null,[[3,13,17,25],[18,,20,24]])})))}function nt(t,n){return W(regeneratorRuntime.mark((function e(){var r,i,u,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,i=!1,u=void 0,e.prev=3,o=t[Symbol.iterator]();case 5:if(r=(a=o.next()).done){e.next=12;break}return c=a.value,e.next=9,n(c);case 9:r=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),i=!0,u=e.t0;case 18:e.prev=18,e.prev=19,r||null==o.return||o.return();case 21:if(e.prev=21,!i){e.next=24;break}throw u;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,null,[[3,14,18,26],[19,,21,25]])})))}var et=["every","filter","flatMap","forEach","map","reduce","reverse"],rt=t("D",function(){function t(){e(this,t)}return i(t,[{key:"every",value:function(t){return function(t,n){var e=!0,r=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(e=(u=o.next()).done);e=!0){if(!n(u.value))return!1}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}return!0}(this,t)}},{key:"filter",value:function(t){var n=this;return ut((function(){return X(n,t)}),(function(){return X(n.reverse(),t)}))}},{key:"flatMap",value:function(t){var n=this;return ut((function(){return tt(n,t)}),(function(){return tt(n.reverse(),(function(n){return L(t(n))}))}))}},{key:"forEach",value:function(t){G(this,t)}},{key:"map",value:function(t){var n=this;return ut((function(){return nt(n,t)}),(function(){return nt(n.reverse(),t)}))}},{key:"reduce",value:function(t,n){return B(this,t,n)}},{key:"reverse",value:function(){var t=this,n=this;return ut((function(){return J(d(n))}),(function(){return t}))}},{key:"thru",value:function(){for(var t=this,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=Q;return ut((function(){return i.apply(void 0,[t].concat(e))}))}}],[{key:"none",value:function(){return it}},{key:"is",value:function(t){return et.every((function(n){return n in t}))}},{key:"of",value:function(n){return t.is(n)?n:t.from(n)}},{key:"from",value:function(t){return ut((function(){return t}),(function(){return L(t)}))}}]),t}()),it=new(function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))},{key:"reverse",value:function(){return this}}]),n}(rt));function ut(t,n){return new(function(r){function u(){return e(this,u),v(this,c(u).apply(this,arguments))}return a(u,r),i(u,[{key:Symbol.iterator,value:function(){return V(t())}},{key:"reverse",value:function(){var t=this;return n?rt.from(W((function(){return V(n())}),(function(){return t}))):y(c(u.prototype),"reverse",this).call(this)}}]),u}(rt))}function ot(t){return W(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=0;case 1:if(!(e<t.length)){n.next=7;break}return n.next=4,t[e];case 4:++e,n.next=1;break;case 7:case"end":return n.stop()}}),n)})),(function(){return J(t)}))}var at=(o(C={},Symbol.iterator,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),o(C,"reverse",(function(){return this})),C);function ct(){return at}function st(t){return ot(Reflect.ownKeys(t))}function ft(t){var n=st(t);function e(n){return nt(n,(function(n){return[n,t[n]]}))}return W((function(){return V(e(n))}),(function(){return e(n.reverse())}))}var lt=t("K",Symbol("after-event"));function ht(t){return lt in t}var vt=function(){function t(){e(this,t)}return i(t,[{key:"needs",value:function(t){var n=this;return t.whenOff((function(t){return n.off(t)})),this}}]),t}();function yt(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,r=function(e){t=function(t){return t(e)},r=E,n(e)};return t=function(t){var n=r;r=function(e){n(e),t(e)}},new(function(n){function u(){return e(this,u),v(this,c(u).apply(this,arguments))}return a(u,n),i(u,[{key:"off",value:function(t){return r(t),this}},{key:"whenOff",value:function(n){return t(n),this}},{key:"isOff",get:function(){return r===E}}]),u}(vt))}var pt=new(function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"off",value:function(){return this}},{key:"whenOff",value:function(t){return t(),this}},{key:"isOff",get:function(){return!0}}]),n}(vt));function dt(){return pt}function gt(t){var n;return(n="function"==typeof t?{supply:yt(),receive:function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];t.apply(void 0,r)}}:{supply:t.supply||yt(),receive:function(n){if(!this.supply.isOff){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];t.receive.apply(t,[n].concat(r))}}}).supply.whenOff((function(){return n.receive=E})),n}var kt=t("R",Symbol("on-event"));function bt(t){return kt in t}function mt(t){return function(n){return t({supply:n.supply,receive:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.receive.apply(n,[t].concat(r)),n.supply.off()}})}}var wt=function(){function t(){var n,r;e(this,t),this._rcvs=new Set,this.send=(n=this._rcvs,r=function t(e){var i=n,u=[];r=function(t){u.push(t)};try{for(;;){i=_t(i,e);var o=u.shift();if(!o)break;e=o}}finally{r=t}},function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return r(n)})}return i(t,[{key:kt,value:function(t){return this.on(t)}},{key:"on",value:function(t){var n=this,e=gt(t);return this._rcvs.add(e),e.supply.whenOff((function(){return n._rcvs.delete(e)}))}},{key:"done",value:function(t){return this._rcvs.forEach((function(n){return n.supply.off(t)})),this}},{key:"size",get:function(){return this._rcvs.size}}]),t}();function _t(t,n){var e=[],r=!0,i=!1,u=void 0;try{for(var o,a=function(){var t=o.value,r=e.length;e.push(t);var i={onRecurrent:function(n){e[r]=gt({supply:t.supply,receive:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.apply(void 0,r)}})}};t.receive.apply(t,[i].concat(d(n)))},c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)a()}catch(t){i=!0,u=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw u}}return e}function Ot(t){var n,e,r=new wt;return function(i){if(r.size||(e=[],n=yt((function(){return e=void 0})),t({supply:n,receive:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];e&&(r.size?e=void 0:e.push(i)),r.send.apply(r,i)}})),i.supply.needs(n),r.on(i).whenOff((function(t){r.size||n.off(t)})),e){var u=new wt;u.on(i),e.forEach((function(t){return u.send.apply(u,d(t))}))}}}function xt(t,n){return function(e){e.supply.needs(n),t(e)}}var St=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"tillOff",value:function(t){return At(xt(this,t))}},{key:"dig",value:function(t){return At(Ot(this.dig_(t)))}},{key:"dig_",value:function(t){var n=this;return At((function(e){var r=dt();n({supply:e.supply,receive:function(n){for(var i=r,u=arguments.length,o=new Array(u>1?u-1:0),a=1;a<u;a++)o[a-1]=arguments[a];var c=t.apply(void 0,o);try{r=c?jt(c)({supply:yt().needs(e.supply),receive:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.receive.apply(e,[t].concat(r))}}):dt()}finally{i.off()}}})}))}},{key:"consume",value:function(t){var n=dt(),e=this((function(){var e=n;try{n=t.apply(void 0,arguments)||dt()}finally{e.off()}}));return yt((function(t){n.off(t),e.off(t)})).needs(e)}},{key:"share",value:function(){return At(Ot(this))}},{key:"thru",value:function(){return At(Ot(this.thru_.apply(this,arguments)))}},{key:"thru_",value:function(){for(var t=this,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=j;return At((function(n){return t({supply:n.supply,receive:function(t){for(var r=arguments.length,u=new Array(r>1?r-1:0),o=1;o<r;o++)u[o-1]=arguments[o];i.apply(void 0,e.concat([function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.receive.apply(n,[t].concat(r))}])).apply(void 0,u)}})}))}},{key:kt,get:function(){return this}},{key:"once",get:function(){return At(mt(this))}}]),n}(l(Function));function At(t){var n=function(n){var e=gt(n),r=e.supply;return r.isOff||t(e),r};return Object.setPrototypeOf(n,St.prototype),n}function jt(t){var n=bt(t)?t[kt]:t[lt];return n instanceof St?n:At(n.bind(t))}var Rt=At((function(t){return t.supply.off()})),Et=function(){function t(n){e(this,t),this._keeper=n}return i(t,[{key:"dig",value:function(t){return this.dig_(t).share()}},{key:"dig_",value:function(t){return Mt(this._keeper.dig_((function(){return Mt(t.apply(void 0,arguments))})))}},{key:"thru",value:function(){return this.thru_.apply(this,arguments).share()}},{key:"thru_",value:function(){var t;return Mt((t=this._keeper).thru_.apply(t,arguments))}}]),t}(),Pt=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"tillOff",value:function(t){return zt(xt(this,t))}},{key:"share",value:function(){return zt(Ot(this))}},{key:lt,get:function(){return this}},{key:"keep",get:function(){return new Et(this)}},{key:"once",get:function(){return zt(mt(this))}}]),n}(St);function zt(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft,r=0,i=function(i){var u=E,o=gt(i);if(o.supply.isOff)return o.supply;var a=yt().needs(o.supply),c=!1;return t({supply:a,receive:function(t){c=!0;for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n=r,u.apply(void 0,[t].concat(r))}}),++r,a.isOff&&!c||(o.receive.apply(o,[{onRecurrent:function(t){u=function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return t.apply(void 0,r)}}}].concat(d(n||(n=e())))),u=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return o.receive.apply(o,[t].concat(e))}),a.whenOff((function(t){--r||(n=void 0),o.supply.off(t)})),a};return Object.setPrototypeOf(i,Pt.prototype),i}function Mt(t,n){if(!ht(t))return function(t,n){return zt((function(n){return t[kt](n)}),n)}(t,n);var e=t[lt];return e instanceof Pt?e:zt(e.bind(t))}function Tt(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return zt((function(){return yt()}),z(n))}var Dt=zt((function(t){return t.supply.off()}));function Ft(){throw new Error("No events to send")}var $t=function(t){function r(){return e(this,r),v(this,c(r).apply(this,arguments))}return a(r,t),i(r,[{key:"tillOff",value:function(t){return Ut(xt(this,t))}},{key:"once",get:function(){return Ut(mt(this))}},{key:"capture",get:function(){var t=this;return Ut((function(e,r){return null==r?t(e,!0):"object"===n(r)&&null==r.capture?t(e,Object.assign(Object.assign({},r),{capture:!0})):t(e,r)}))}},{key:"instead",get:function(){var t=this;return Ut((function(n,e){var r=gt(n);return t({supply:r.supply,receive:function(t,n){n.preventDefault(),r.receive(t,n)}},e)}))}},{key:"just",get:function(){var t=this;return Ut((function(n,e){var r=gt(n);return t({supply:r.supply,receive:function(t,n){n.stopPropagation(),r.receive(t,n)}},e)}))}},{key:"last",get:function(){var t=this;return Ut((function(n,e){var r=gt(n);return t({supply:r.supply,receive:function(t,n){n.stopImmediatePropagation(),r.receive(t,n)}},e)}))}},{key:"passive",get:function(){var t=this;return Ut((function(n,e){return null==e?t(n,{passive:!0}):"boolean"==typeof e?t(n,{capture:e,passive:!0}):null==e.passive?t(n,Object.assign(Object.assign({},e),{passive:!0})):t(n,e)}))}}]),r}(St);function Ut(t){var n=function(n,e){var r=gt(n);return t(r,e),r.supply};return Object.setPrototypeOf(n,$t.prototype),n}var Ct,Kt={onRecurrent:E},qt=t("G",function(){function t(n){e(this,t),this._target=n}return i(t,[{key:"on",value:function(t){var n=this;return Ut((function(e,r){var i=function(t){return e.receive(Kt,t)};n._target.addEventListener(t,i,r),e.supply.whenOff((function(){return n._target.removeEventListener(t,i)}))}))}},{key:"dispatch",value:function(t){return this._target.dispatchEvent(t)}}]),t}()),It=t("E",function(t){function n(){var t;return e(this,n),(t=v(this,c(n).apply(this,arguments))).on=At((function(e){return y(c(n.prototype),"on",h(t)).call(h(t),e)})),t[Ct]=t.on,t}return a(n,t),n}(wt));function Nt(t){var n=Object.keys(t);return n.length?zt((function(e){var r=new wt,i=r.on(e),u=E,o={};n.forEach((function(n){i.needs(t[n][lt]((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];o[n]=e,u()})).needs(i))})),i.isOff||(u=function(){return r.send(o)})}),(function(){var e={};return n.forEach((function(n){return Mt(t[n]).once((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e[n]=r}))})),[e]})).share():Dt}function Vt(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.length?zt((function(t){var e=new wt,r=e.on(t),i=E,u=[];n.forEach((function(t,n){r.needs(t[lt]((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];u[n]=e,i()})).needs(r))})),r.isOff||(i=function(){return e.send.apply(e,u)})}),(function(){var t=[];return n.forEach((function(n){return Mt(n).once((function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return t.push(e)}))})),t})).share():Dt}function Yt(t){return Array.isArray(t)?t:[t]}Ct=kt;var Wt=function(){function t(n){var r=this;e(this,t),this._drop=n,this.emitter=new It,this._nested=new Map,this.emitter.on((function(t,n,e){var i=(t=Yt(t))[0],u=r._nested.get(i);u&&u.emitter.send(t.slice(1),n,e)}))}return i(t,[{key:"on",value:function(t){var n=this,e=this.emitter.on(t);return yt((function(t){e.off(t),n._dropIfEmpty()})).needs(e)}},{key:"nest",value:function(n,e){var r=this,i=this._nested.get(n);if(i||e)return i;var u=new t((function(){return r._remove(n)}));return this._nested.set(n,u),u}},{key:"done",value:function(t){var n=!0,e=!1,r=void 0;try{for(var i,u=this._nested.values()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){i.value.done(t)}}catch(t){e=!0,r=t}finally{try{n||null==u.return||u.return()}finally{if(e)throw r}}this.emitter.done(t)}},{key:"_remove",value:function(t){this._nested.delete(t),this._dropIfEmpty()}},{key:"_dropIfEmpty",value:function(){!this._nested.size&&this.emitter.size<=1&&this._drop()}}]),t}(),Lt=function(){function t(){e(this,t),this._root=new Wt(E)}return i(t,[{key:"on",value:function(t,n){return this._entry(t).on(n)}},{key:"send",value:function(t,n,e){this._root.emitter.send(t,n,e)}},{key:"done",value:function(t,n){var e=this._entry(t,!0);e&&e.done(n)}},{key:"_entry",value:function(t,n){var e=this._root,r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=o.value,s=e.nest(c,n);if(!s)return;e=s}}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return e}}]),t}(),Jt=function(){function t(n,r){var i=this;e(this,t),this._trackers=n,this._path=r,this.update=function(t,n,e){i._trackers.send([].concat(d(i._path),d(Yt(t))),n,e)},this.onUpdate=At((function(t){return i._trackers.on(i._path,t)}))}return i(t,[{key:"track",value:function(n){return(n=Yt(n)).length?new t(this._trackers,[].concat(d(this._path),d(n))):this}},{key:"done",value:function(t){this._trackers.done(this._path,t)}},{key:"_tracker",get:function(){return this}},{key:kt,get:function(){return this.onUpdate}}]),t}(),Gt=(t("B",function(){function t(){e(this,t),this._tracker=new Jt(new Lt,[])}return i(t,[{key:"track",value:function(t){var n=this._tracker.track(t);return n===this._tracker?this:n}},{key:"done",value:function(t){this._tracker.done(t)}},{key:"onUpdate",get:function(){return this._tracker.onUpdate}},{key:kt,get:function(){return this.onUpdate}},{key:"update",get:function(){return this._tracker.update}}]),t}()),t("a8",function(){function t(){var n=this;e(this,t),this._by=dt(),this.read=zt((function(t){return n.on({supply:(e=t).supply,receive:function(t,n){e.receive({onRecurrent:function(n){t.onRecurrent((function(t){return n(t)}))}},n)}});var e}),(function(){return[n.it]}))}return i(t,[{key:"by",value:function(t,n){var e=this,r=this;if(this.byNone(),n){var i=t;this._by=jt(i).consume((function(){var t=n.apply(void 0,arguments);if(t)return o(t)}))}else{var u=t;this._by=o(u)}return this._by.whenOff((function(){return e._by=dt()})),this;function o(t){return(ht(t)?t[lt]:t[kt])((function(t){return r.it=t}))}}},{key:"byNone",value:function(t){return this._by.off(t),this}},{key:kt,get:function(){return this.on}},{key:lt,get:function(){return this.read}}]),t}()));var Ht=function(t){function n(t){var r;return e(this,n),(r=v(this,c(n).call(this)))._it=t,r._on=new It,r}return a(n,t),i(n,[{key:"done",value:function(t){return this._on.done(t),this}},{key:"on",get:function(){return this._on.on}},{key:"it",get:function(){return this._it},set:function(t){var n=this._it;n!==t&&(this._it=t,this._on.send(t,n))}}]),n}(Gt);function Zt(t){return new Ht(t)}t("ar",function(t){function n(t){var r;return e(this,n),(r=v(this,c(n).call(this)))._on=new It,r._it=t,r}return a(n,t),i(n,[{key:"sync",value:function(t,n,e){var r,i,u=this,o=function(t){return s(u,t)};"string"==typeof t?("in"===t&&(o=function(t){return s(t,u)}),r=n,i=e):(r=t,i=n);var a=i;if(!a)return o(r);var c=r;return(ht(c)?Mt(c):jt(c)).consume((function(){var t=a.apply(void 0,arguments);return t&&o(t)}));function s(t,n){var e=t.read((function(t){n.it=t})),r=n.on((function(n){t.it=n}));return yt((function(t){r.off(t),e.off(t)})).needs(e).needs(r)}}},{key:"done",value:function(t){return this._on.done(t),this}},{key:"on",get:function(){return this._on.on}},{key:"it",get:function(){return this._it},set:function(t){var n=this.it;n!==t&&(this._it=t,this._on.send(t,n))}}]),n}(Gt));var Bt=t("C",Symbol("context-key")),Qt=function(){function t(n){e(this,t),this.name=n}return i(t,[{key:"toString",value:function(){return"ContextKey(".concat(this.name,")")}},{key:Bt,get:function(){return this}}]),t}(),Xt=function(t){function n(t){return e(this,n),v(this,c(n).call(this,"".concat(t.name,":seed")))}return a(n,t),i(n,[{key:"grow",value:function(t){var n=t.seeder,e=t.seed;return n.isEmpty(e)?t.byDefault((function(){return e})):e}},{key:"seedKey",get:function(){return this}}]),n}(Qt),tn=function(t){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"There is no value with key ".concat(t);return e(this,n),(r=v(this,c(n).call(this,i))).key=t,r}return a(n,t),n}(l(Error));function nn(t){if(function(t){return"by"in t}(t)){if(!en(t))return t;var n=t,e=n.a,r=n.by,i=n.with;return{a:e,by:function(t){return r.apply(void 0,d(i.map((function(n){return t.get(n)}))))}}}if(function(t){return"is"in t}(t)){var u=t;return{a:u.a,by:z(u.is)}}if(function(t){return"via"in t}(t)){var o=t,a=o.a,c=o.via;return{a:a,by:function(t){return t.get(c)}}}if(function(t){return"as"in t}(t)){if(function(t){return!("a"in t)}(t)&&(t=function(t){return Object.assign(Object.assign({},t),{a:t.as})}(t)),en(t)){var s=t,l=s.a,h=s.as,v=s.with;return{a:l,by:function(t){return f(h,d(v.map((function(n){return t.get(n)}))))}}}var y=t,p=y.a,g=y.as;return{a:p,by:function(t){return new g(t)}}}throw new TypeError("Malformed context value specifier: ".concat(t))}function en(t){return"with"in t}var rn=t("g",(function t(){e(this,t)})),un=(t("l",function(){function t(n){e(this,t),this._seeds=new Map,this._initial=null==n?E:"function"==typeof n?n:function(t){return n.get(t)}}return i(t,[{key:"provide",value:function(t){var n=nn(t),e=n.a[Bt].seedKey,r=n.by;return p(this._seeding(e),1)[0].provide(r)}},{key:"_seeding",value:function(t){var n=this,e=this._seeds.get(t);if(e)return e;var r=t.seeder(),i=[r,function(e){return r.seed(e,n._initial(t,e))}];return this._seeds.set(t,i),i}},{key:"seed",value:function(t,n){return(0,p(this._seeding(n),2)[1])(t)}},{key:"seedIn",value:function(t,n){var e=this.newValues(n);return function(n){return e.get.call(t,n)}}},{key:"newValues",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!t&&this._nonCachedValues)return this._nonCachedValues;var n=new Map,r=this,u=function(r){function u(){return e(this,u),v(this,c(u).apply(this,arguments))}return a(u,r),i(u,[{key:"get",value:function(e,r){var i=e[Bt],u=n.get(i);if(null!=u)return u;var a=p(o(this,i,r),2),c=a[0],s=a[1];return t&&!s&&n.set(i,c),c}}]),u}(rn);return t?new u:this._nonCachedValues=new u;function o(t,n,e){var r=p(s(t,n),2),i=r[0],u=r[1],o=!1,a={context:t,seeder:i,seed:u,byDefault:e&&"or"in e?function(){return o=!0,e.or}:function(t){var e=t();if(null==e)throw new tn(n);return e}};return[n.grow(a),o]}function s(t,n){var e=n.seedKey,i=p(r._seeding(e),2),u=i[0],o=i[1];return e!==n?[u,t.get(e)]:[u,o(t)]}}},{key:"append",value:function(n){var e=this;return new t((function(t,r){return p(e._seeding(t),1)[0].combine(e.seed(r,t),n.seed(r,t),r)}))}}]),t}()),function(){function t(){e(this,t),this._providers=Zt([])}return i(t,[{key:"provide",value:function(t){var n=this;return this._providers.it=[].concat(d(this._providers.it),[t]),function(){var e=n._providers.it,r=e.indexOf(t);r>=0&&(n._providers.it=e.slice(0,r).concat(e.slice(r+1)))}}},{key:"seed",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt();return this.combine(n,on(t,this._providers))}},{key:"isEmpty",value:function(){return!1}},{key:"combine",value:function(t,n){return Vt(t,n).keep.thru((function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return cn(n)}))}}]),t}());function on(t,n){return n.read.keep.dig((function(n){return n.length?Vt.apply(void 0,d(nt(nt(ot(n),(function(n){return n(t)})),an))).keep.thru((function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return cn(n)})):Tt()}))}function an(t){return null==t?Tt():function(t){return("object"===n(t)||"function"==typeof t)&&ht(t)}(t)?Mt(t):Tt(t)}function cn(t){return T.apply(void 0,d(tt(ot(t),R)))}var sn=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"seeder",value:function(){return new un}}]),n}(Xt),fn=t("j",function(t){function n(t,r){var i;return e(this,n),(i=v(this,c(n).call(this,t))).seedKey=r||new sn(h(i)),i}return a(n,t),n}(Qt)),ln=(t("F",function(t){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=i.seedKey,o=i.byDefault,a=void 0===o?E:o;return e(this,n),(r=v(this,c(n).call(this,t,u))).byDefault=function(t,n){return a(t,n)||function(){throw new tn(h(r))}},r}return a(n,t),i(n,[{key:"grow",value:function(t){var n,e=this;return t.seed((function(){if(arguments.length){var r;r=arguments.length-1,n=r<0||arguments.length<=r?void 0:arguments[r]}else{var i=function(){return e.byDefault(t.context,e)},u=t.byDefault(i);n=u||i()}})),function(){return n.apply(void 0,arguments)}}}]),n}(fn)),function(){function t(){e(this,t),this._providers=[]}return i(t,[{key:"provide",value:function(t){var n=this;return this._providers.push(t),function(){var e=n._providers.indexOf(t);e>=0&&n._providers.splice(e,1)}}},{key:"seed",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt.from(ct());return rt.from([n,yn(t,this._providers)]).flatMap(R)}},{key:"isEmpty",value:function(t){return H(t)}},{key:"combine",value:function(t,n){return rt.from([t,n]).flatMap(R)}}]),t}()),hn=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"seeder",value:function(){return new ln}}]),n}(Xt),vn=t("Q",function(t){function n(t,r){var i;return e(this,n),(i=v(this,c(n).call(this,t))).seedKey=r||new hn(h(i)),i}return a(n,t),n}(Qt));t("S",function(t){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=i.seedKey,o=i.byDefault,a=void 0===o?E:o;return e(this,n),(r=v(this,c(n).call(this,t,u))).byDefault=a,r}return a(n,t),i(n,[{key:"grow",value:function(t){var n=this,e=function(t){if(I(t))return t[t.length-1];if(N(t))return Z(t.reverse());var n,e=!0,r=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(e=(u=o.next()).done);e=!0){n=u.value}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}return n}(t.seed);return null!=e?e:t.byDefault((function(){return n.byDefault(t.context,n)}))}}]),n}(vn)),t("a3",function(t){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=i.seedKey,o=i.byDefault,a=void 0===o?M():o;return e(this,n),(r=v(this,c(n).call(this,t,u))).byDefault=a,r}return a(n,t),i(n,[{key:"grow",value:function(t){var n=this,e=d(t.seed);return e.length?e:t.byDefault((function(){var e=n.byDefault(t.context,n);if(e)return d(e)}))}}]),n}(vn));function yn(t,n){return rt.from(ot(n.map((function(t){return[t]})))).map((function(n){if(n.length>1)return n[1];var e=n[0](t);return n.push(e),e})).filter(P)}var pn=function(){function t(){e(this,t)}return i(t,[{key:"name",value:function(t,n){if("string"==typeof t)return t;var e=p(t,2),r=e[0],i=e[1];return i.name(n(i),r,this)}}]),t}(),dn=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"applyAlias",value:function(t,n){return"".concat(n,"-").concat(t)}}]),n}(pn),gn=new dn,kn=t("M",new dn),bn=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"applyAlias",value:function(t,n){return"".concat(n,":").concat(t)}}]),n}(pn),mn=(new bn,new bn),wn=t("a4",new(function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"applyAlias",value:function(t,n){return"".concat(t,"@").concat(n)}}]),n}(pn))),_n=t("N",function(){function t(n){e(this,t),this.url=n;for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];this.aliases=i}return i(t,[{key:"name",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gn;return e.applyAlias(n,t,this)}},{key:"alias",get:function(){return this.aliases[0]||"ns"}}]),t}());new(function(t){function n(){return e(this,n),v(this,c(n).call(this,""))}return a(n,t),i(n,[{key:"name",value:function(t,n){return n}}]),n}(_n));function On(t){return"string"==typeof t||function(t){return Array.isArray(t)&&2===t.length&&"string"==typeof t[0]&&t[1]instanceof _n}(t)}function xn(t,n){if("string"==typeof t)return"string"==typeof n?Sn(t,n):n[1].url?-1:Sn(t,n[0]);var e=p(t,2),r=e[0],i=e[1].url;return"string"==typeof n?i?1:Sn(r,n):Sn(i,n[1].url)||Sn(r,n[0])}function Sn(t,n){return t<n?-1:t>n?1:0}function An(){var t=new Map,n=new Map;return function(e){var r=t.get(e.url);if(r)return r;for(var i=e.alias,u=0,o=0,a=[i].concat(d(e.aliases));o<a.length;o++){var c=a[o],s=n.get(c);if(!s)return t.set(e.url,c),n.set(c,1),c;u||(u=s)}var f=i+ ++u;return t.set(e.url,f),n.set(i,u),f}}function jn(t){var n=t.$,e=t.n,r=t.t,i=t.v,u=t.x,o=void 0===u?[]:u,a=t.p,c=void 0===a?{}:a,s=t.pl;return{$:n,n:e,t:r,v:i,x:o,p:c,pl:void 0===s?[]:s}}function Rn(t,n){var e=t.p,r=t.pl,i=n.n||n.v,u=e[i];(!u||!u.n&&n.n)&&(e[i]=n),r.push(n)}var En=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d\d (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d\d\d\d \d\d:\d\d:\d\d GMT/;function Pn(t,n){return t.s=t.s.substring(t.i),t.i=0,!!t.s.match(En)&&(n(t.s.substring(t.i,t.i+=29)),!0)}var zn=function(){return!1};function Mn(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.named,r=void 0===e||e,i=n.tagged,u=void 0===i||i,o=n.extra,a=void 0===o||o,c=n.next,s=void 0===c?function(t){return function(n){var e=n.s[n.i];return n.d=t.delimiterOf(e),e}}(t):c,f=function(t){return function(n,e){var r="";for(++n.i;n.i<n.s.length;++n.i){var i=n.s[n.i];if("\\"===i){var u=n.s[++n.i];r+=u||i}else{if(65536&t.delimiterOf(i))return++n.i,void e(r);r+=i}}e(r)}}(t),l=function(t){return function(n,e){if(!(262144&t.delimiterOf(n.s[n.i])))return!1;var r="";for(++n.i;n.i<n.s.length;){var i=n.s[n.i++];if(524288&t.delimiterOf(i))break;r+=i}return e(r),!0}}(t),h=a?Mn(t,{next:s,tagged:!1,named:!1,extra:!1}):zn;return function(t,n){for(var e,i,o,a="",c="raw";t.i<t.s.length;){var v=s(t);if(t.d){if(12&t.d)break;if(null==i){if(16&t.d){i=a?"":v,++t.i;continue}if(65536&t.d){!u&&a||f(t,(function(t){a?(c="tagged-string",e=a):c="quoted-string",a="",i=t}));break}if(!a&&l(t,(function(t){c="angle-bracketed-string",i=t})))break;i=a,a=""}else{if(65536&t.d){!u&&i||f(t,(function(t){i?(c="tagged-string",e=i):c="quoted-string",i=t}));break}if(!i&&l(t,(function(t){c="angle-bracketed-string",i=t})))break}}if(null==i){if(!a&&Pn(t,(function(t){return i=t}))){c="date-time";break}r?a+=v:i=v}else{if(!i&&Pn(t,(function(t){return i=t}))){c="date-time";break}i+=v}++t.i}if(null==i){if(!a)return!1;o=jn({$:c,v:a})}else o=jn({$:c,n:a||void 0,t:e,v:i});for(;h(t,(function(t){return o.x.push(t)})););return n(o),!0}}function Tn(t){return function(n){var e=n.s[n.i];return"\\"!==e?(n.d=t.delimiterOf(e),e):(++n.i,n.i<n.s.length?(e=n.s[n.i],n.d=t.delimiterOf(e)?1:0):n.d=1,e)}}function Dn(t){return function(n){var e=n.i;do{var r=n.s[n.i];if(!(2&t.delimiterOf(r)))break;n.i++}while(n.i<n.s.length);return n.i!==e}}function Fn(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Dn(t),r=Mn(t,Object.assign(Object.assign({},n),{tagged:!1}));return function(n,i){return!!(8&t.delimiterOf(n.s[n.i]))&&(++n.i,e(n),r(n,i))}}var $n={" ":7,"\t":7,",":5,";":9,'"':65569,"\\":33,"<":262145,">":524289,"=":17,"(":1,")":1,"/":1,":":1,"?":1,"@":1,"[":1,"]":1,"{":1,"}":1};function Un(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).delimit,n=t?Object.assign(Object.assign({},$n),t):$n;return{delimiterOf:function(t){return n[t]||(t>="\0"&&t<=" "||"\x7f"===t?1:0)}}}var Cn=Un(),Kn=Un({delimit:{":":17,"(":131105,")":37," ":3,"\t":3,"=":1,",":1}});function qn(t){var n,e=t?Un(t):Cn,r=function(t){var n=Dn(t);return function(e){return!!(4&t.delimiterOf(e.s[e.i]))&&(e.i++,n(e),!0)}}(e),i=Fn(e),u=Mn(e),o=(null===(n=t)||void 0===n?void 0:n.comments)?function(t){var n=Dn(t),e={next:Tn(t)},r=Mn(t,e),i=Fn(t,e);return function(e,u){if(!(131072&t.delimiterOf(e.s[e.i])))return!1;var o;for(++e.i;n(e)||i(e,(function(t){o||(o=jn({$:"raw",v:""})),Rn(o,t)}))||r(e,(function(t){return o=t})););return++e.i,u(o||jn({$:"raw",v:""})),!0}}(Kn):zn;return function(t){for(var n=[],e={i:0,s:t};e.i<e.s.length&&(r(e)||i(e,(function(t){n.length||n.push(jn({$:"raw",v:""})),Rn(n[n.length-1],t)}))||o(e,(function(t){return n.push(t)}))||u(e,(function(t){return n.push(t)}))););return n}}qn({comments:!0}),qn({delimit:{" ":11,"\t":11,";":5}}),qn({delimit:{",":1,";":1,"=":1}}),t("Z",qn());var In={}.hasOwnProperty,Nn=/[ -,\.\/:-@\[-\^`\{-~]/,Vn=/[ -,\.\/:-@\[\]\^`\{-~]/,Yn=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Wn=function t(n,e){"single"!=(e=function(t,n){if(!t)return n;var e={};for(var r in n)e[r]=In.call(t,r)?t[r]:n[r];return e}(e,t.options)).quotes&&"double"!=e.quotes&&(e.quotes="single");for(var r="double"==e.quotes?'"':"'",i=e.isIdentifier,u=n.charAt(0),o="",a=0,c=n.length;a<c;){var s=n.charAt(a++),f=s.charCodeAt(),l=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&a<c){var h=n.charCodeAt(a++);56320==(64512&h)?f=((1023&f)<<10)+(1023&h)+65536:a--}l="\\"+f.toString(16).toUpperCase()+" "}else l=e.escapeEverything?Nn.test(s)?"\\"+s:"\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(s)?"\\"+f.toString(16).toUpperCase()+" ":"\\"==s||!i&&('"'==s&&r==s||"'"==s&&r==s)||i&&Vn.test(s)?"\\"+s:s;o+=l}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(u)&&(o="\\3"+u+" "+o.slice(1))),o=o.replace(Yn,(function(t,n,e){return n&&n.length%2?t:(n||"")+e})),!i&&e.wrap?r+o+r:o};Wn.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},Wn.version="3.0.0";var Ln,Jn=Wn,Gn=/[A-Z]/g,Hn=/^ms-/,Zn={};function Bn(t){return"-"+t.toLowerCase()}var Qn=regeneratorRuntime.mark($r);function Xn(t){return Jn(t,{isIdentifier:!0})}var te="!important";function ne(t){return Array.isArray(t)}function ee(t){return!!t.length}var re=function(){function t(n){e(this,t),this.priority=n&&n.priority||0}return i(t,[{key:"important",value:function(){return this.prioritize(1)}},{key:"usual",value:function(){return this.prioritize(0)}}]),t}();function ie(t,e){return t===e||("object"===n(t)?t.is(e):"object"===n(e)&&e.is(t))}var ue=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),n}(re),oe=t("ac",function(t){function r(t,n){var i;return e(this,r),(i=v(this,c(r).call(this,n))).r=se(t.r,255),i.g=se(t.g,255),i.b=se(t.b,255),i.a=null!=t.a?fe(t.a,1):1,i}return a(r,t),i(r,[{key:"by",value:function(t){return ce.by(t)||this}},{key:"is",value:function(t){return"object"===n(t)&&t.type===this.type&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a&&t.priority===this.priority}},{key:"prioritize",value:function(t){return this.priority===t?this:new r(this,{priority:t})}},{key:"set",value:function(t){"function"==typeof t&&(t=t(this));var n=t,e=n.r,i=void 0===e?this.r:e,u=n.g,o=void 0===u?this.g:u,a=n.b,c=void 0===a?this.b:a,s=n.a;return new r({r:i,g:o,b:c,a:void 0===s?this.a:s},this)}},{key:"toString",value:function(){var t="".concat(this.r,", ").concat(this.g,", ").concat(this.b);return 1===this.a?"rgb(".concat(t,")"):"rgba(".concat(t,", ").concat(this.a,")")}},{key:"type",get:function(){return"rgb"}},{key:"rgb",get:function(){return this}},{key:"hsl",get:function(){var t=this.a,n=100*this.r/255,e=100*this.g/255,r=100*this.b/255,i=Math.max(n,e,r),u=Math.min(n,e,r),o=Math.round((i+u)/2);if(i===u)return new ae({h:0,s:0,l:o,a:t},this);var a,c=i-u,s=Math.round(o>50?100*c/(200-i-u):100*c/(i+u));switch(i){case n:a=(e-r)/c+(e<r?6:0);break;case e:a=(r-n)/c+2;break;default:a=(n-e)/c+4}return a*=60,a=Math.round(a),new ae({h:a,s:s,l:o,a:t},this)}}]),r}(ue)),ae=function(t){function r(t,n){var i,u;return e(this,r),(i=v(this,c(r).call(this,n))).h=(u=t.h,(u%=360)<0?360+u:u),i.s=fe(t.s,100),i.l=fe(t.l,100),i.a=null!=t.a?fe(t.a,1):1,i}return a(r,t),i(r,[{key:"by",value:function(t){return ce.by(t)||this}},{key:"is",value:function(t){return"object"===n(t)&&t.type===this.type&&t.h===this.h&&t.s===this.s&&t.l===this.l&&t.a===this.a&&t.priority===this.priority}},{key:"prioritize",value:function(t){return this.priority===t?this:new r(this,{priority:t})}},{key:"set",value:function(t){"function"==typeof t&&(t=t(this));var n=t,e=n.h,i=void 0===e?this.h:e,u=n.s,o=void 0===u?this.s:u,a=n.l,c=void 0===a?this.l:a,s=n.a;return new r({h:i,s:o,l:c,a:void 0===s?this.a:s},this)}},{key:"toString",value:function(){var t="".concat(this.h,", ").concat(this.s,"%, ").concat(this.l,"%");return 1===this.a?"hsl(".concat(t,")"):"hsla(".concat(t,", ").concat(this.a,")")}},{key:"type",get:function(){return"hsl"}},{key:"rgb",get:function(){var t=this.a,n=this.s/100,e=this.l/100;if(!n){var r=255*e;return new oe({r:r,g:r,b:r,a:t},this)}var i=e<.5?e*(1+n):e+n-e*n,u=2*e-i,o=this.h/360;return new oe({r:le(u,i,o+1/3),g:le(u,i,o),b:le(u,i,o-1/3),a:t},this)}},{key:"hsl",get:function(){return this}}]),r}(ue),ce={by:function(t){if("object"===n(t)&&("rgb"===t.type||"hsl"===t.type))return t}};function se(t,n){return fe(Math.round(t),n)}function fe(t,n){return Math.max(Math.min(t,n),0)}function le(t,n,e){var r=e;return r<0?r+=1:r>1&&(r-=1),255*(r<1/6?t+6*r*(n-t):r<.5?n:r<2/3?t+(n-t)*(2/3-r)*6:t)}var he=function(t){function n(t){var r;return e(this,n),(r=v(this,c(n).call(this,t))).dim=t.dim,r}return a(n,t),i(n,[{key:"by",value:function(t){return this.dim.by(t)||this}},{key:"toString",value:function(){return this.toFormula()}}]),n}(re),ve={map:function(t,e){var r={},i={from:e,get:function(i){if(i in r)return r[i];var u=function(t){switch(n(t)){case"function":return t;case"object":return t.by.bind(t)}var e=n(t);return function(r){return n(r)===e?r:t}}(t[i])(e[i],this,i);return r[i]=u,u}};return G(st(t),(function(t){return i.get(t)})),r},by:function(t){return ve.map.bind(void 0,t)}};function ye(t){if(null==t)return[void 0,0];switch(n(t)){case"object":return[t,t.priority];case"string":if(t.endsWith(te))return[t.substring(0,t.length-te.length).trim(),1]}return[t,0]}var pe=function(t){function r(t,n,i){var u;return e(this,r),(u=v(this,c(r).call(this,i))).val=t,u.unit=n,u}return a(r,t),i(r,[{key:"toDim",value:function(t){var n=this.dim;if(t===n||t===n.pt||t===("%"===this.unit?t.pt:n.noPt))return this}},{key:"is",value:function(t){return t===this||"object"===n(t)&&t.type===this.type&&this.unit===t.unit&&this.val===t.val&&this.priority===t.priority}},{key:"prioritize",value:function(t){return this.priority===t?this:new r(this.val,this.unit,{dim:this.dim,priority:t})}},{key:"add",value:function(t,n){return"number"==typeof t&&(t=de(t,n||this.unit,this)),"dimension"===t.type&&this.unit===t.unit?de(this.val+t.val,this.unit,this):be(this,"+",t)}},{key:"sub",value:function(t,n){return"number"==typeof t&&(t=de(t,n||this.unit,this)),"dimension"===t.type&&this.unit===t.unit?de(this.val-t.val,this.unit,this):be(this,"-",t)}},{key:"mul",value:function(t){return 1===t?this:de(this.val*t,this.unit,this)}},{key:"div",value:function(t){return 1===t?this:de(this.val/t,this.unit,this)}},{key:"negate",value:function(){return de(-this.val,this.unit,this)}},{key:"toFormula",value:function(){return this.val+this.unit}},{key:"type",get:function(){return"dimension"}}]),r}(he);function de(t,n,e){return t?new pe(t,n,e):e.dim.zero.prioritize(e.priority||0)}var ge=function(t){function r(t,n,i,u){var o;return e(this,r),(o=v(this,c(r).call(this,u))).left=t.usual(),o.op=n,o.right=i,o}return a(r,t),i(r,[{key:"is",value:function(t){return this===t||"object"===n(t)&&t.type===this.type&&(this.op===t.op&&this.left.is(t.left)&&ie(this.right,t.right)&&this.priority===t.priority)}},{key:"add",value:function(t,n){return"number"==typeof t&&(t=de(t,n,this)),be(this,"+",t)}},{key:"sub",value:function(t,n){return"number"==typeof t&&(t=de(t,n,this)),be(this,"-",t)}},{key:"mul",value:function(t){return we(this,t)}},{key:"div",value:function(t){return _e(this,t)}},{key:"toString",value:function(){return"calc"+y(c(r.prototype),"toString",this).call(this)}},{key:"type",get:function(){return"calc"}}]),r}(he),ke=function(t){function n(t,r,i,u){return e(this,n),v(this,c(n).call(this,t,r,i.usual(),u))}return a(n,t),i(n,[{key:"prioritize",value:function(t){return this.priority===t?this:new n(this.left,this.op,this.right,{dim:this.dim,priority:t})}},{key:"toDim",value:function(t){var e=this.left.toDim(t);if(e){var r=this.right.toDim(t);if(r)return e===this.left&&r===this.right?this:new n(e,this.op,r,{dim:t,priority:this.priority})}}},{key:"negate",value:function(){return"-"===this.op?new n(this.right,this.op,this.left,this):new n(this.left.negate(),"-",this.right,this)}},{key:"toFormula",value:function(){return"(".concat(this.left.toFormula()," ").concat(this.op," ").concat(this.right.toFormula(),")")}}]),n}(ge);function be(t,n,e){return e.type?new ke(t,n,e,t):t}var me=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"prioritize",value:function(t){return this.priority===t?this:new n(this.left,this.op,this.right,{dim:this.dim,priority:t})}},{key:"toDim",value:function(t){var e=this.left.toDim(t);if(e)return e===this.left?this:new n(e,this.op,this.right,{dim:t,priority:this.priority})}},{key:"mul",value:function(t){return("*"===this.op?we(this.left,this.right*t):_e(this.left,this.right/t)).prioritize(this.priority)}},{key:"div",value:function(t){return("/"===this.op?_e(this.left,this.right*t):we(this.left,this.right/t)).prioritize(this.priority)}},{key:"negate",value:function(){return new n(this.left,this.op,-this.right,this)}},{key:"toFormula",value:function(){return"(".concat(this.left.toFormula()," ").concat(this.op," ").concat(this.right,")")}}]),n}(ge);function we(t,n){return n?1===n?t.prioritize(t.priority):new me(t,"*",n,t):t.dim.zero.prioritize(t.priority)}function _e(t,n){return 1===n?t.prioritize(t.priority):new me(t,"/",n,t)}function Oe(t){return"object"===n(t)&&("dimension"===t.type||"calc"===t.type||0===t.type)}var xe=function(t){function r(t,n){var i;return e(this,r),(i=v(this,c(r).call(this,n)))._byPriority=t,i}return a(r,t),i(r,[{key:"toDim",value:function(t){return t.zero.prioritize(this.priority)}},{key:"is",value:function(t){return this===t||("object"===n(t)?t.type===this.type&&t.priority===this.priority:0===t||"0"===t?0===this.priority:"0 !important"===t&&1===this.priority)}},{key:"add",value:function(t,n){return"number"==typeof t&&(t=de(t,n,this)),t.prioritize(this.priority)}},{key:"sub",value:function(t,n){return"number"==typeof t&&(t=de(t,n,this)),t.negate().prioritize(this.priority)}},{key:"mul",value:function(){return this}},{key:"div",value:function(){return this}},{key:"negate",value:function(){return this}},{key:"prioritize",value:function(t){return this._byPriority.get(t)}},{key:"important",value:function(){return this._byPriority.important}},{key:"usual",value:function(){return this._byPriority.usual}},{key:"toFormula",value:function(){return"0"}},{key:"type",get:function(){return 0}}]),r}(he),Se=function(){function t(n){e(this,t),this.dim=n,this.usual=new xe(this,{dim:n}),this.important=new xe(this,{dim:n,priority:1})}return i(t,[{key:"get",value:function(t){switch(t){case 0:return this.usual;case 1:return this.important}return new xe(this,{dim:this.dim,priority:t})}}]),t}();function Ae(t){var n=t.pt,e=t.noPt,r={get zero(){return i},get pt(){return n()},get noPt(){return e()},of:function(t,n){return t?new pe(t,n,{dim:this}):i},by:function(t){if(Oe(t))return t.toDim(this)}},i=new Se(r).usual;return r}function je(t){var n=t.zeroUnit,e=t.withPercent,r=t.noPercent,i={get pt(){return e&&e()},get noPt(){return r?r():this},get zero(){return u},of:function(t,n){return new pe(t,n,{dim:this})},by:function(t){if(Oe(t))return t.toDim(this)}},u=new pe(0,n,{dim:i});return i}var Re=Ae({pt:function(){return Ee},noPt:function(){return Re}}),Ee=Ae({pt:function(){return Ee},noPt:function(){return Re}}),Pe=je({zeroUnit:"kHz",withPercent:function(){return ze},noPercent:function(){return Pe}}),ze=je({zeroUnit:"kHz",withPercent:function(){return ze},noPercent:function(){return Pe}}),Me=t("ae",Ae({pt:function(){return Te},noPt:function(){return Me}})),Te=t("ad",Ae({pt:function(){return Te},noPt:function(){return Me}})),De=function(t){function r(t,n){var i;return e(this,r),(i=v(this,c(r).call(this,n))).url=t,i}return a(r,t),i(r,[{key:"by",value:function(t){return r.by(t)||this}},{key:"prioritize",value:function(t){return t===this.priority?this:new r(this.url,{priority:t})}},{key:"is",value:function(t){return"object"===n(t)&&"url"===t.type&&t.url===this.url&&t.priority===this.priority}},{key:"toString",value:function(){return"url('".concat(Jn(this.url),"')")}},{key:"type",get:function(){return"url"}}],[{key:"by",value:function(t){switch(n(t)){case"string":var e=p(ye(t),2);return new r(e[0],{priority:e[1]});case"object":if("url"===t.type)return t}}}]),r}(re),Fe=Tt({});function $e(){return Fe}function Ue(t,n){if(!n)return Fe;if("string"!=typeof n){if(ht(n))return Ke(n);if(bt(n))return Ke(Ce(n));if("function"==typeof n){var e=n(t);if("string"!=typeof e){if(ht(e))return Ke(e);if(bt(e))return Ke(Ce(e))}return Tt(qe(e))}}return Tt(qe(n))}function Ce(t){return Mt(t,M({}))}function Ke(t){return Mt(t).keep.thru(qe,(function(t){return n&&function(t,n){var e=V(Ie(n)),r=!0,i=!1,u=void 0;try{for(var o,a=Ie(t)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=p(o.value,2),s=c[0],f=c[1],l=e.next().value;if(!l||s!==l[0]||!ie(f,l[1]))return!1}}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return!e.next().value}(t,n)?q():n=Object.assign({},t)}),R);var n}function qe(t){return"string"==typeof t?{$$css:t}:t}function Ie(t){return X(ft(t),P)}function Ne(t,n){return Ke(Nt({base:t,addendum:n}).keep.thru((function(t){return function(t,n){return B(ft(n),(function(t,n){var e=p(n,2);return function(t,n,e){Ve(t[n])<=Ve(e)&&(delete t[n],t[n]=e);return t}(t,e[0],e[1])}),Object.assign({},t))}(p(t.base,1)[0],p(t.addendum,1)[0])})))}function Ve(t){switch(n(t)){case"string":return t.endsWith(te)?1:0;case"object":return t.priority}return 0}function Ye(t){return">"===t||"+"===t||"~"===t}function We(t){return{ns:t.ns||void 0,e:(n=t.e,"*"!==n&&n||void 0),i:t.i||void 0,s:t.s||void 0,c:Le(t.c),$:Je(t.$)};var n}function Le(t){if(t){if(On(t))return[t];var n=t.filter((function(t){return!!t}));return ee(n)?n.sort(xn):void 0}}function Je(t){if(t)return ee(t=ne(t)?d(B(tt(t,He),(function(t,n){return t.add(n)}),new Set)).sort():d(He(t)))?t:void 0}var Ge=new Set;function He(t){if(!t)return Ge;var n,e=t.indexOf("="),r=e<0?t:t.substring(0,e),i=new Set,u=!0,o=!1,a=void 0;try{for(var c,s=r.split(":")[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var f=c.value;n?n+=":"+f:n=f,i.add(n)}}catch(t){o=!0,a=t}finally{try{u||null==s.return||s.return()}finally{if(o)throw a}}return e>=0&&i.add(t),i}var Ze=[[]];function Be(t){if(!t.length)return Ze;for(var n,e=0;;){var r=t[e++];if(!Ye(r))return[n?[n,r]:[r],t.slice(e)];n=r}}var Qe=[];function Xe(t,n){return t&&n.every((function(n){return t.find((function(t){return function(t,n){if("string"==typeof t)return"string"==typeof n?t===n:!n[1].url&&n[0]===t;var e=p(t,2),r=e[0],i=e[1].url;return"string"==typeof n?!i&&r===n:r===n[0]&&i===n[1].url}(n,t)}))}))}function tr(t){if(!ne(t))return[nr(t)];var n,e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=o.value,s=n;n&&(e.push(n),n=void 0);var f=void 0;if(Ye(c)){if(n=c,!s)continue;f={}}else f=nr(c);e.push(f)}}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}return n&&e.push(n,{}),e}function nr(t){return"string"==typeof t?t?{s:t}:{}:We(t)}var er={qualify:function(t){return"@".concat(Xn(t))}};function rr(t){return ur(t,er)}var ir={};function ur(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ir,e=n.qualify,r=n.nsAlias,i={qualify:e,nsAlias:void 0===r?An():r};return t.reduce((function(t,n){return Ye(n)?t+n:(t&&!Ye(t[t.length-1])&&(t+=" "),t+function(t,n){var e=n.qualify,r=n.nsAlias,i=t.ns,u=t.e,o=t.i,a=t.c,c=t.s,s=t.$,f=!1,l="";o&&(f=!0,l+="#".concat(Xn(mn.name(o,r))));a&&(f=!0,l=a.reduce((function(t,n){return"".concat(t,".").concat(Xn(wn.name(n,r)))}),l));c&&(f=!0,l+=c);e&&s&&(l=s.reduce((function(t,n){return t+e(n)}),l));if(i){var h=function(t,n){return"string"==typeof t?t:t.url?n(t):void 0}(i,r);l=h?"".concat(h,"|").concat(u||"*").concat(l):v()}else l=v();return l;function v(){return f?"".concat(u?kn.name(u,r):"").concat(l):"".concat(u?kn.name(u,r):"*").concat(l)}}(n,i))}),"")}function or(t){return"cssRules"in t}var ar=function(){function t(n){e(this,t),this._rule=n}return i(t,[{key:"read",value:function(t){for(var n=this._rule.outer;n;)t=Ne(n.read.keep.thru(fr),t),n=n.outer;return t}},{key:"render",value:function(t,n){var e=t.selector,r=t.target;if(or(r)){var i=r,u=function(t){var n=new Map,e=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=o.value;Ye(c)?e.push(c):e.push(hr(c,n))}}catch(t){i=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw u}}if(!n.size)return;return[n,tr(e)]}(e);if(u){var o=p(u,2),a=o[0],c=o[1],s=!0,f=!1,l=void 0;try{for(var h,v=a[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){var y=h.value,d=i.insertRule("".concat(cr(n,y),"{}"),i.cssRules.length),g=i.cssRules[d];r=g,or(g)&&(i=g)}}catch(t){f=!0,l=t}finally{try{s||null==v.return||v.return()}finally{if(f)throw l}}t.render(n,{target:r,selector:c})}else t.render(n)}else t.render(n)}}]),t}();function cr(t,n){var e=p(n,2),r=e[0],i=p(e[1],2),u=i[0],o=i[1],a="",c=!0,s=!1,f=void 0;try{for(var l,h=u[Symbol.iterator]();!(c=(l=h.next()).done);c=!0){v(p(ye(t[l.value]),1)[0])}}catch(t){s=!0,f=t}finally{try{c||null==h.return||h.return()}finally{if(s)throw f}}return v(o),a?"".concat(r," ").concat(a):r;function v(t){t&&(a&&(a+=" and "),a+=t)}}var sr={order:-65535,create:function(t){return new ar(t)}};function fr(t){return B(X(ft(t),lr),(function(t,n){var e=p(n,2),r=e[0],i=e[1];return t[r]=i,t}),{})}function lr(t){return"@"===String(t[0])[0]}function hr(t,n){var e=t.$;if(!e)return t;var r=[],i=!0,u=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var s=a.value;"@"===s[0]?vr(n,s):r.push(s)}}catch(t){u=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(u)throw o}}return r.length===e.length?t:ee(r)?Object.assign(Object.assign({},t),{$:r}):Object.assign(Object.assign({},t),{$:void 0})}function vr(t,n){var e,r,i=n.indexOf("=");i<0?e=n:(e=n.substring(0,i),r=n.substring(i+1));var u=e.indexOf(":"),o=u<0?e:e.substring(0,u),a=t.get(o);if(a){var c=p(a,2),s=c[0],f=c[1];s.add(e),r&&(a[1]=f?"".concat(f," and ").concat(r):r)}else t.set(o,[(new Set).add(e),r])}var yr={order:-65534,needs:sr,render:function(t,n){var e=t.styleSheet,r=0,i=0,u=!0,o=!1,a=void 0;try{for(var c,s=ft(n)[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var f=p(c.value,2),l=f[0],h=f[1],v=String(l);if("@"===v[0]){var y=p(ye(h),1)[0],d=dr(e,r,v,y);r+=d,i+=d;var g=De.by(y);g&&(i+=gr(e,i,v,g),i+=br(e,i,v,g))}}}catch(t){o=!0,a=t}finally{try{u||null==s.return||s.return()}finally{if(o)throw a}}t.render(n)}},pr="@import:";function dr(t,n,e,r){if(!e.startsWith(pr))return 0;var i=new De(e.substring(pr.length)),u="@import ".concat(i);return r&&(u+=" "+r),t.insertRule(u+";",n),1}function gr(t,n,e,r){return"@namespace"!==e?0:(t.insertRule("@namespace ".concat(r,";"),n),1)}var kr="@namespace:";function br(t,n,e,r){if(!e.startsWith(kr))return 0;var i=e.substring(kr.length);return t.insertRule("@namespace ".concat(i," ").concat(r,";"),n),1}function mr(t,n){var e=t.addRule(),r=e.style;G(X(ft(n),wr),(function(t){var n=p(t,2),e=n[0],i=p(ye(n[1]),2),u=i[0],o=i[1];r.setProperty(function(t){if(Zn.hasOwnProperty(t))return Zn[t];var n=t.replace(Gn,Bn);return Zn[t]=Hn.test(n)?"-"+n:n}(e),"".concat(u),o>=1?"important":void 0)})),t.render(n,{target:e})}function wr(t){var n=p(t,2),e=n[0];if(null==n[1])return!1;var r=String(e)[0];return r>="a"&&r<="z"||r>="A"&&r<="Z"}function _r(t){if("function"==typeof t)return{create:function(){return{render:t}}};if(function(t){return"create"in t}(t))return{order:t.order,needs:t.needs,create:function(n){return function(t){return"function"==typeof t?{render:t}:t}(t.create(n))}};var n=t.render.bind(t);return{order:t.order,needs:t.needs,create:function(){return{render:n}}}}function Or(t,n){var e=t.order||0,r=n.order||0;return e>r?1:e<r?-1:0}function xr(t){var n,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=u.document,a=void 0===o?window.document:o,c=u.rootSelector,s=void 0===c?{e:"body"}:c,f=u.addStyleSheet,l=void 0===f?Sr:f,h=u.schedule,v=void 0===h?function(t){m.requestAnimationFrame(t)}:h,y=u.nsAlias,g=void 0===y?An():y,k=u.parent,b=void 0===k?a.head:k,m=a.defaultView||window,w={nsAlias:g},_=function(t){var n=new Map;return e(t.render),n.delete(mr),[].concat(d(n.values()),[_r(mr)]).sort(Or);function e(t){t&&(ne(t)?t.forEach(r):r(t))}function r(t){if(!n.has(t)){var r=_r(t);n.set(t,r),e(r.needs)}}}(u),O=B(nt(t,j),(function(t,n){return yt((function(e){n.off(e),t.off(e)}))}),yt()),x=(n=new Map,r=jt(t)((function(t,e){t.forEach((function(t){return n.set(t,j(t))})),e.forEach((function(t){return n.delete(t)}))})),yt((function(t){r.off(t),G(n.values(),(function(n){return n.off(t)})),n.clear()})).needs(r));return yt((function(t){x.off(t),O.off(t)})).needs(O).needs(x);function S(t,n,r){return new(function(){function u(){e(this,u)}return i(u,[{key:"nsAlias",value:function(t){return g(t)}},{key:"render",value:function(e,i){n(i?S(t,n,{styleSheet:r.styleSheet,target:i.target||r.target,selector:i.selector||r.selector}):this,e)}},{key:"addRule",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.selector,n=r.target;if(!or(n))return n;var e=n.insertRule("".concat(A(t),"{}"),n.cssRules.length);return n.cssRules[e]}},{key:"document",get:function(){return a}},{key:"parent",get:function(){return b}},{key:"rule",get:function(){return t}},{key:"styleSheet",get:function(){return r.styleSheet}},{key:"target",get:function(){return r.target}},{key:"selector",get:function(){return r.selector}}]),u}())}function A(t){return function(t,n){return ur(tr(t),n)}(t,w)}function j(t){var n,e=p(function(t){var n=_.map((function(n){return n.create(t)}));return[n.reduce((function(t,n){return n.read?Mt(n.read(t)):t}),t.read),function t(e){return function(r,i){var u,o=e+1;u=o===_.length?E:t(o);var a=S(r.rule,u,r);n[e].render(a,i)}}(0)]}(t),2),r=e[0],i=e[1],u=0,o=function(t){var n=t.selector;if(!n.length)return tr(s);if(Ye(n[0]))return[].concat(d(tr(s)),d(n));return n}(t);return r((function(e){var r=++u;v((function(){if(u===r){n&&function(t){for(;t.cssRules.length;)t.deleteRule(t.cssRules.length-1)}(n.styleSheet);var a=S(t,i,{get styleSheet(){return n||(n=l(a)),n.styleSheet},get target(){return this.styleSheet},selector:o});a.render(e)}}))})).whenOff((function(){++u;var t=n;if(t)return n=void 0,t.remove()}))}}function Sr(t){var n=t.document,e=t.parent,r=n.createElement("style");return r.setAttribute("type","text/css"),r.append(n.createTextNode("")),e.append(r),{styleSheet:r.sheet,remove:function(){r.parentElement.removeChild(r)}}}function Ar(t,n){var e=n.$$css;if(e){var r=t.addRule();r.style.cssText=e,t.render(n,{target:r})}else t.render(n)}var jr={order:-65535,needs:yr,render:function(t,n){var e=X(nt(ot(t.selector),(function(t){return!Ye(t)&&t.ns&&"string"!=typeof t.ns?t.ns:null})),P);function r(n,e){var r=t.nsAlias(e);return n["@namespace:".concat(r)]=new De(e.url),n}t.render(H(e)?n:B(e,r,Object.assign({},n)))}};function Rr(t){var n=[sr,jr,yr,Ar];return t&&(ne(t)?n.push.apply(n,d(t)):n.push(t)),n}var Er=function(){function t(){e(this,t)}return i(t,[{key:"add",value:function(t){return this.rules.add([],t)}},{key:"clear",value:function(){return this.set()}},{key:lt,get:function(){return this.read}}]),t}(),Pr=function(){function t(){e(this,t)}return i(t,[{key:lt,get:function(){return this.read}},{key:kt,get:function(){return this.onUpdate}}]),t}(),zr=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),n}(Pr),Mr=function(t){function n(t,r){var i,u,o,a;return e(this,n),i=v(this,c(n).call(this)),r?(u=function(){return X(t,r)},o=function(t){return t.filter(r)}):(u=function(){return t},o=R),i.onUpdate=At((function(n){var e=a||(a=new Set(u()));jt(t)({supply:n.supply.whenOff((function(){return a=void 0})),receive:function(t,r,i){r=o(r),((i=o(i)).length||r.length)&&(i.forEach((function(t){return e.delete(t)})),r.forEach((function(t){return e.add(t)})),n.receive(t,r,i))}})})).share(),i.read=Mt(i.onUpdate.thru(z(h(i))),M(h(i))),i[Symbol.iterator]=function(){return a?a.values():Y(u())},i}return a(n,t),i(n,[{key:"grab",value:function(t){return Tr(this,t)}}]),n}(Pr);function Tr(t,n){var e=function(t){return We(t)}(n);return new Mr(t,(function(t){return function(t,n){if(!t.length)return!1;var e=t[t.length-1];return(!n.ns||e.ns===n.ns)&&((!n.e||e.e===n.e)&&((!n.i||e.i===n.i)&&(!(n.c&&!Xe(e.c,n.c))&&!(n.$&&!Xe(e.$,n.$)))))}(t.selector,e)}))}var Dr=function(t){function n(t,r){var u,o,a,s,f;return e(this,n),(u=v(this,c(n).call(this)))._root=t,u.nested=r,u._updates=new It,u.self=(o=t,a=h(u),s=new It,f=[o],a.onUpdate((function(t,n){n[0]===o&&(f.length=0,s.send([],[o]))})).whenOff((function(t){return s.done(t)})),new Mr(new(function(){function t(){e(this,t)}return i(t,[{key:Symbol.iterator,value:function(){return Y(f)}},{key:kt,get:function(){return s.on}}]),t}()))),u.read=Mt(u._updates.on.thru(z(h(u))),M(h(u))),u}return a(n,t),i(n,[{key:Symbol.iterator,value:function(){return $r(this._root)}},{key:"grab",value:function(t){return Tr(this,t)}},{key:"add",value:function(t,n){return function t(n,e,r,i){var u=p(Be(e),2),o=u[0],a=u[1];if(!a)return n._spec.it=function(t,n){var e=t._spec.it;if(!n)return e;if(t.empty)return function(t){return Ue(t,n)};return function(t){return Ne(e(t),Ue(t,n))}}(n,r),n;var c=rr(o),s=n.rules.nested._rule(c);if(s)return t(s,a,r,i);var f=new Cr(n.root,[].concat(d(n.selector),d(o)),o),l=t(f,a,r,!1);return n.rules.nested._add(c,f,i),l}(this._root,tr(t),n,!0)}},{key:"get",value:function(t){return this._get(tr(t))}},{key:"_get",value:function(t){var n=p(Be(t),2),e=n[0],r=n[1];if(!r)return this._root;var i=this.nested._rule(rr(e));return i?i.rules.get(r):void 0}},{key:"watch",value:function(t){var n=this,e=tr(t);return zt((function(t){var r=Zt({}),i=n.read.consume((function(){var t=n._get(e);return t&&t.read((function(t){return r.it=t})).whenOff((function(){return r.it={}}))})),u=r.read(t);return i.needs(u),u})).share()}},{key:"_add",value:function(t,n){var e=this;t.rules.onUpdate((function(t,n){return e._updates.send(t,n)})),n&&this._updates.send(Fr(t),[])}},{key:"_remove",value:function(t){var n=Fr(this._root);this._updates.send([],n),n.forEach((function(n){n.rules._updates.done(t),n._spec.done(t)}))}},{key:"onUpdate",get:function(){return this._updates.on}}]),n}(zr);function Fr(t){return d($r(t))}function $r(t){var n,e,r,i,u,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t;case 2:n=!0,e=!1,r=void 0,a.prev=5,i=t.rules.nested[Symbol.iterator]();case 7:if(n=(u=i.next()).done){a.next=13;break}return o=u.value,a.delegateYield(Fr(o),"t0",10);case 10:n=!0,a.next=7;break;case 13:a.next=19;break;case 15:a.prev=15,a.t1=a.catch(5),e=!0,r=a.t1;case 19:a.prev=19,a.prev=20,n||null==i.return||i.return();case 22:if(a.prev=22,!e){a.next=25;break}throw r;case 25:return a.finish(22);case 26:return a.finish(19);case 27:case"end":return a.stop()}}),Qn,null,[[5,15,19,27],[20,,22,26]])}var Ur=function(t){function n(t){var r;return e(this,n),(r=v(this,c(n).call(this)))._updates=new It,r._byKey=new Map,r._all=new Dr(t,h(r)),r.read=Mt(r._updates.on.thru(z(h(r))),M(h(r))),r}return a(n,t),i(n,[{key:Symbol.iterator,value:function(){return this._byKey.values()}},{key:"grab",value:function(t){return Tr(this,t)}},{key:"_rule",value:function(t){return this._byKey.get(t)}},{key:"_add",value:function(t,n,e){var r=this;this._byKey.set(t,n),n.rules.onUpdate((function(e,i){i[0]===n&&(r._byKey.delete(t),r._updates.send([],[n]))})),e&&this._updates.send([n],[]),this._all._add(n,e)}},{key:"onUpdate",get:function(){return this._updates.on}}]),n}(Pr),Cr=function(t){function n(t,r,i){var u,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$e;return e(this,n),(u=v(this,c(n).call(this)))._root=t||h(u),u._selector=r,u._key=i,u._spec=Zt(o),u._read=u._spec.read.keep.dig((function(t){return t(h(u))})),u._nested=new Ur(h(u)),u}return a(n,t),i(n,[{key:"set",value:function(t){return this._spec.it=t?function(n){return Ue(n,t)}:$e,this}},{key:"remove",value:function(t){return this.rules._remove(t),this}},{key:"root",get:function(){return this._root}},{key:"outer",get:function(){if(void 0!==this._outer)return this._outer;var t=function(t){var n=t.length-1;if(n<=0)return n?void 0:Qe;do{switch(t[--n]){case">":return t.slice(0,n);case"+":case"~":--n;continue;default:return t.slice(0,n+1)}}while(n>0)}(this.selector);return this._outer=t&&this.root.rules.get(t)||null}},{key:"selector",get:function(){return this._selector}},{key:"key",get:function(){return this._key}},{key:"empty",get:function(){return this._spec.it===$e}},{key:"read",get:function(){return this._read}},{key:"rules",get:function(){return this._nested._all}}]),n}(Er);var Kr=[];var qr=function(){function t(){e(this,t)}return i(t,[{key:"clear",value:function(){return this.set()}},{key:lt,get:function(){return this.read}}]),t}();t("ab",{by:function(t,n){var r;return r="function"==typeof n?function(t){return Ir(n(t))}:z(Ir(n)),function(n){var u=Nt({ms:r(n),ps:n.rules.watch(t)}).keep.thru((function(t){var n=p(t.ms,1)[0],e=p(t.ps,1)[0];return ve.map(n,e)}));return new(function(r){function o(){return e(this,o),v(this,c(o).apply(this,arguments))}return a(o,r),i(o,[{key:"add",value:function(e){return n.rules.add(t,e),this}},{key:"set",value:function(e){return n.rules.add(t).set(e),this}},{key:"read",get:function(){return u}}]),o}(qr))}}});function Ir(t){return ht(t)?t:Tt(t)}t("af",function(){function t(n){e(this,t),this.refs=n}return i(t,[{key:"read",get:function(){if(this._read)return this._read;var t=Nt(this.refs);return this._read=t.keep.thru(Nr)}},{key:lt,get:function(){return this.read}}],[{key:"by",value:function(n,e){for(var r={},i=0,u=Object.keys(n);i<u.length;i++){var o=u[i];r[o]=n[o](e)}return new t(r)}}]),t}());function Nr(t){for(var n={},e=0,r=Object.keys(t);e<r.length;e++){var i=r[e];n[i]=t[i][0]}return n}var Vr,Yr,Wr,Lr,Jr=new Mr((o(Ln={},kt,Rt),o(Ln,Symbol.iterator,(function(){return[][Symbol.iterator]()})),Ln));function Gr(t){return"function"==typeof t?function(t){var n,e,r;return o(n={},Symbol.iterator,(function(){return i()[Symbol.iterator]()})),(e={})[kt]=e[kt]||{},e[kt].get=function(){return i()[kt]},u(n,e),n;function i(){return r||(r=Br(t()))}}(t):Br(t)}function Hr(t){return"function"==typeof t?function(t){var n,e=new Set,r=At((function(n){var r=Br(t());Qr(r,e,n),r[kt]({supply:n.supply.whenOff((function(){return e.clear()})),receive:function(t,r,i){i.forEach((function(t){return e.delete(t)})),r.forEach((function(t){return e.add(t)})),n.receive(t,r,i)}})})).share();return o(n={},kt,r),o(n,Symbol.iterator,(function(){return e.values()})),n}(t):Br(t)}function Zr(t){var n,e;if(1===t.length){var r=t[0];return r instanceof Pr?r:new Mr(r)}return new Mr((o(n={},Symbol.iterator,regeneratorRuntime.mark((function n(){var e,r,i,u,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=!0,r=!1,i=void 0,n.prev=3,u=t[Symbol.iterator]();case 5:if(e=(o=u.next()).done){n.next=11;break}return a=o.value,n.delegateYield(a,"t0",8);case 8:e=!0,n.next=5;break;case 11:n.next=17;break;case 13:n.prev=13,n.t1=n.catch(3),r=!0,i=n.t1;case 17:n.prev=17,n.prev=18,e||null==u.return||u.return();case 20:if(n.prev=20,!r){n.next=23;break}throw i;case 23:return n.finish(20);case 24:return n.finish(17);case 25:case"end":return n.stop()}}),n,null,[[3,13,17,25],[18,,20,24]])}))),(e={})[kt]=e[kt]||{},e[kt].get=function(){return At((function(n){t.forEach((function(t){return jt(t)({supply:yt().needs(n.supply),receive:function(t,e,r){n.receive(t,e,r)}})}))})).share()},u(n,e),n))}function Br(t){return t instanceof Er?t.rules.self:bt(t)?t:function(t){var n,e=new Set,r=At((function(n){var r=dt(),i=n.supply;i.whenOff((function(t){r.off(t),e.clear()})),t.then((function(t){if(!i.isOff){var u=t instanceof Er?t.rules:t;Qr(u,e,n),r=jt(u)({receive:function(t,r,i){i.forEach((function(t){return e.delete(t)})),r.forEach((function(t){return e.add(t)})),n.receive(t,r,i)}}).needs(i)}}))})).share();return o(n={},kt,r),o(n,Symbol.iterator,(function(){return e.values()})),n}(t)}function Qr(t,n,e){var r=[];if(G(t,(function(t){r.push(t),n.add(t)})),r.length){var i=new wt;i.on(e),i.send(r,[])}}var Xr=Symbol("in-aspect"),ti={instance:null,convertTo:E};function ni(t){return{instance:t,convertTo:function(){return this}}}var ei=function(t){function n(){var t;return e(this,n),(t=v(this,c(n).apply(this,arguments)))._aspects=new Map,t}return a(n,t),i(n,[{key:"aspect",value:function(t){return this._aspect(t[Xr]).instance}},{key:"setup",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return ri(t)?n(this.aspect(t),this):t(this),this}},{key:"convert",value:function(t,n){var e;return e=n?z({set:t,get:n}):t,new ii(this,e)}},{key:"_aspect",value:function(t){var n=this._aspects.get(t);if(n)return n;var e=this._applyAspect(t)||t.applyTo(this);return this._aspects.set(t,e),e}},{key:"_applyAspect",value:function(t){}}]),n}(Gt);function ri(t){return Xr in t}var ii=function(t){function n(t,r){var i;e(this,n),i=v(this,c(n).call(this));var u,o=0,a=new It;i.on=a.on;var s=r(t,h(i)),f=s.applyAspect;function l(n){return t._aspect(n).convertTo(this)}return i._applyAspect=f?function(t){return f.call(s,t)||l.call(this,t)}:l,i._it=Zt([s.set(t.it),0]),i._it.on((function(t,n){var e=p(t,1)[0],r=p(n,1)[0];e!==r&&a.send(e,r)})).whenOff((function(t){return a.done(t)})),t.on((function(t){t!==u&&(i._it.it=[s.set(t),++o])})).whenOff((function(t){return i.done(t)})),i._it.on((function(n){var e=p(n,2),r=e[0],i=e[1];if(i!==o){o=i,u=s.get(r);try{t.it=u}finally{u=void 0}}})),i}return a(n,t),i(n,[{key:"done",value:function(t){return this._it.done(t),this}},{key:"it",get:function(){return this._it.it[0]},set:function(t){var n=p(this._it.it,2),e=n[0],r=n[1];t!==e&&(this._it.it=[t,r+1])}}]),n}(ei),ui={applyTo:function(){return ti}},oi=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"_applyAspect",value:function(t){return t===ui?ni(this):void 0}}],[{key:Xr,get:function(){return ui}}]),n}(ei),ai=function(){function t(){e(this,t)}return i(t,[{key:kt,get:function(){return this.on}},{key:lt,get:function(){return this.read}}]),t}(),ci={applyTo:function(){return ni(new fi)}},si=function(){function t(){e(this,t)}return i(t,[{key:kt,get:function(){return this.on}},{key:lt,get:function(){return this.read}}],[{key:Xr,get:function(){return ci}}]),t}(),fi=function(t){function n(){var t;e(this,n),(t=v(this,c(n).call(this)))._map=new Map,t._on=new It;var r=t._map;function i(){return r.keys()}return t.read=zt(t._on.on.thru(i),(function(){return[i()]})),t}return a(n,t),i(n,[{key:"add",value:function(t){var n=this,e=this._map.get(t);if(e)return e;var r=yt((function(){n._map.delete(t),n._on.send([],[t])}));return this._map.set(t,r),this._on.send([t],[]),r}},{key:"on",get:function(){return this._on.on}}]),n}(si),li={applyTo:function(){return ti}},hi=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"_applyAspect",value:function(t){return t===li?ni(this):void 0}}],[{key:Xr,get:function(){return li}}]),n}(ei),vi={applyTo:function(t){return ni(new gi(t))}},yi=function(){function t(){e(this,t)}return i(t,[{key:"done",value:function(t){return this.own.done(t),this}},{key:kt,get:function(){return this.on}},{key:lt,get:function(){return this.read}}],[{key:"hasData",value:function(t){return"off"!==t&&"-"!==t[0]}},{key:Xr,get:function(){return vi}}]),t}(),pi=function(t){function n(t){var r;return e(this,n),(r=v(this,c(n).call(this)))._tracker=Zt(t?function(t){return null!=t.getAttribute("disabled")?"off":null!=t.getAttribute("readonly")?"ro":"on"}(t.element):"on"),r}return a(n,t),i(n,[{key:"done",value:function(t){return this._tracker.done(t),this}},{key:"on",get:function(){return this._tracker.on}},{key:"it",get:function(){return this._tracker.it},set:function(t){switch(t){case"off":case"ro":case"-on":case"-ro":break;default:t="on"}this._tracker.it=t}}]),n}(Gt),di=function(){function t(){var n=this;e(this,t),this._all=new Set,this._on=new It;var r=zt(this._on.on.thru((function(){return n._all})),M(this._all));this.read=r.keep.dig((function(t){return Vt.apply(void 0,d(t)).keep.thru(bi)}))}return i(t,[{key:"add",value:function(t){var n=this,e=Mt(t),r=yt((function(){n._all.delete(e),n._on.send()}));return this._all.add(e),this._on.send(),r}}]),t}(),gi=function(t){function n(t){var r;e(this,n),(r=v(this,c(n).call(this)))._derived=new di;var i=t.aspect(hi);r.own=new pi(i),r.derive(t.aspect(si).read.keep.dig_(ki));var u="on";r.read=zt(Nt({derived:r._derived.read,own:r.own}).thru((function(t){var n,e=p(t.derived,1)[0],r=p(t.own,1)[0];if("off"===r||"off"===e)n="off";else{var i=!1;"-"===r[0]&&(i=!0,r=r.substring(1)),"-"===e[0]&&(i=!0,e=e.substring(1)),n="ro"===e?"ro":r,i&&(n="-"+n)}return u===n?q():T(u=n)})),M(u)),i&&r.read((function(t){return function(t,n){switch(n){case"off":t.setAttribute("disabled","");break;case"ro":case"-ro":t.setAttribute("disabled",""),t.removeAttribute("disabled"),t.setAttribute("readonly","");break;default:t.setAttribute("disabled",""),t.removeAttribute("disabled"),t.setAttribute("readonly",""),t.removeAttribute("readonly")}}(i.element,t)}));var o="on";return r.on=r.read.thru((function(t){var n=o;return n===t?q():T(o=t,n)})),r}return a(n,t),i(n,[{key:"derive",value:function(t){return this._derived.add(t)}}]),n}(yi);function ki(t){var n=d(t);if(!n.length)return Tt("on");var e=n.map((function(t){return t.parent.aspect(yi)}));return Vt.apply(void 0,d(e)).keep.thru_(bi)}function bi(){for(var t=!1,n=!1,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var u=0,o=r;u<o.length;u++){switch(p(o[u],1)[0]){case"off":return"off";case"ro":t=!0;break;case"-on":n=!0;break;case"-ro":n=!0,t=!0}}return n?t?"-ro":"-on":t?"ro":"on"}var mi={applyTo:function(t){return{instance:Nt({value:t,mode:t.aspect(yi)}).keep.thru((function(t){return function(t,n){return yi.hasData(n)?T(t):T()}(p(t.value,1)[0],p(t.mode,1)[0])})),convertTo:E}}};var wi=(Vr={},(Yr={})[Xr]=Yr[Xr]||{},Yr[Xr].get=function(){return mi},u(Vr,Yr),Vr),_i=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),n}(oi),Oi=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,[{key:"remove",value:function(t){return this.set(t,void 0)}}]),n}(ai),xi={},Si=function(){function t(n){e(this,t),this._map=n}return i(t,[{key:"get",value:function(t){var n=this._map.get(t);return n&&n[0]}},{key:Symbol.iterator,value:function(){return Y(nt(this._map.values(),(function(t){return p(t,1)[0]})))}},{key:"entries",value:function(){return Y(nt(this._map.entries(),(function(t){var n=p(t,2);return[n[0],p(n[1],1)[0]]})))}}]),t}(),Ai=function(){function t(n){e(this,t),this._controls=n,this._supply=yt(),this._map=new Map}return i(t,[{key:"set",value:function(t,n,e,r){var i=this,u=this._map.get(t);if(n){if(u){if(u[0]===n)return;r.push([t,u])}var o=[n,yt((function(n){n!==xi&&i._controls.remove(t)})).needs(i._supply)];a().set(t,o),e.push([t,o])}else u&&(r.push([t,u]),a().delete(t));function a(){if(i._shot){var t=new Map;G(i._map.entries(),(function(n){var e=p(n,2),r=e[0],i=e[1];return t.set(r,i)})),i._shot=void 0,i._map=t}return i._map}u&&u[1].off(xi)}},{key:"snapshot",value:function(){return this._shot||(this._shot=new Si(this._map))}}]),t}(),ji=function(t){function r(t){var n;e(this,r),(n=v(this,c(r).call(this)))._group=t,n._updates=new It;var i=h(n);return n._map=new Ai(h(n)),n.on=n._updates.on.thru((function(t,n){return T(t.map(Ri),n.map(Ri))})),n.read=zt(n._updates.on.thru((function(){return n._map.snapshot()})),(function(){return[n._map.snapshot()]})),n._map._supply.needs(t.read((function(t){i.read.once((function(n){var e=new Set;G(ft(t),(function(t){var r=p(t,2),i=r[0],u=r[1];e.add(i);var o=n.get(i);o&&(o.it=u)})),G(n.entries(),(function(t){var n=p(t,2),r=n[0],i=n[1];e.has(r)||(i.it=void 0)}))}))}))),n}return a(r,t),i(r,[{key:"set",value:function(t,e){var r=this,i=this._group,u=[],a=[];return"object"===n(t)?G(ft(t),(function(t){var n=p(t,2),e=n[0],i=n[1];r._map.set(e,i,u,a)})):this._map.set(t,e,u,a),(u.length||a.length)&&(this._updates.send(u,a),u.length&&function(){var t;u.forEach((function(n){var e=p(n,2),r=e[0],u=p(e[1],2),a=u[0],c=u[1];c.needs(a.aspect(si).add({parent:i}).needs(c));var s=a.it;if(t)t[r]=s;else{var f=i.it;f[r]!==s&&(t=Object.assign(Object.assign({},f),o({},r,s)))}})),t&&(i.it=t);u.forEach((function(t){var n=p(t,2),e=n[0],r=p(n[1],2),u=r[0],a=r[1];a.needs(u.read((function(t){i.it[e]!==t&&(i.it=Object.assign(Object.assign({},i.it),o({},e,t)))})).needs(a))}))}()),this}}]),r}(Oi);function Ri(t){var n=p(t,2);return[n[0],p(n[1],1)[0]]}var Ei=function(t){function n(t){var r;return e(this,n),(r=v(this,c(n).call(this)))._model=Zt(t),r.controls=new ji(h(r)),r}return a(n,t),i(n,[{key:"done",value:function(t){return this._model.done(t),this}},{key:"_applyAspect",value:function(t){return t===wi[Xr]?{instance:(e=this,Nt({cs:e.controls,model:e,mode:e.aspect(yi)}).keep.dig_(Pi)),convertTo:E}:y(c(n.prototype),"_applyAspect",this).call(this,t);var e}},{key:"on",get:function(){return this._model.on}},{key:"it",get:function(){return this._model.it},set:function(t){this._model.it=t}}]),n}(_i);function Pi(t){var n=p(t.cs,1)[0],e=p(t.model,1)[0],r=p(t.mode,1)[0];if(!yi.hasData(r))return Tt();var i={};return G(n.entries(),(function(t){var n=p(t,2),e=n[0],r=n[1];i[e]=r.aspect(wi)})),Nt(i).keep.thru((function(t){var n=Object.assign({},e);return G(ft(t),(function(t){var e=p(t,2),r=e[0],i=p(e[1],1)[0];n[r]=i})),n}))}var zi=Tt();function Mi(){return zi}function Ti(t){return ht(t)?z(Mt(t)):"function"==typeof t?function(n){return Mt(t(n))}:function(n){return n.read.keep.thru(function(t,n){return function(){var e=n.validate(t);return null==e?T():Array.isArray(e)?T.apply(void 0,d(e)):e}}(n,t))}}var Di={},Fi=function t(n){e(this,t);var r=new It,i=new Map,u=new Map,o=E,a=E;this[lt]=zt((function(t){var n=Mt(r,M())(t).whenOff((function(){o=E,a=E}));a=function(t,e){var r=t((function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length)u.set(t,e);else if(!u.delete(t))return;o()})).needs(e).whenOff((function(n){n!==Di&&e.off(n),u.delete(t)&&o()}));n.whenOff((function(){return r.off(Di)}))},G(i.entries(),(function(t){var n=p(t,2),e=n[0],r=n[1];return a(e,r)})),o=function(){r.send.apply(r,d(tt(u.values(),R)))},u.size&&o()})).share(),this.from=function(t){var e=Ti(t)(n),r=yt((function(){i.delete(e)}));return i.set(e,r),a(e,r),r}};function $i(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n.length;return 1===r?n[0]:r?function(t){var e=new Fi(t);return n.forEach((function(t){return e.from(t)})),e}:Mi}var Ui={applyTo:function(t){var n=new Ni(t);return{instance:n,convertTo:function(t){return function t(n,e){var r=new Ni(e);return r.by(n._messages),{instance:r,convertTo:function(n){return t(r,n)}}}(n,t)}}}},Ci=t("an",function(){function t(){e(this,t)}return i(t,[{key:lt,get:function(){return this.read}}],[{key:Xr,get:function(){return Ui}}]),t}()),Ki=o({get ok(){return!0},messages:function(){return[]},has:function(){return!1}},Symbol.iterator,(function(){return[][Symbol.iterator]()})),qi=function(){function t(n){var r=this;e(this,t),this._byCode=new Map,this._all=[],G(n,(function(t){var n=!1;G(ft(t),(function(e){var i=p(e,2),u=i[0];if(i[1]){n=!0;var o=r._byCode.get(u);o?o.push(t):r._byCode.set(u,[t])}})),n&&r._all.push(t)}))}return i(t,[{key:"messages",value:function(t){return null==t?this._all:this._byCode.get(t)||[]}},{key:"has",value:function(t){return null==t||this._byCode.has(t)}},{key:Symbol.iterator,value:function(){return this._all[Symbol.iterator]()}},{key:"ok",get:function(){return!this._all.length}}]),t}();function Ii(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.length?new qi(n):Ki}var Ni=function(t){function n(t){var r;e(this,n),(r=v(this,c(n).call(this)))._messages=new Fi(t);var i=t.aspect(oi);return i&&r._messages.from(function(t){return t.controls.read.keep.dig_(Vi).keep.thru(Yi)}(i)),r.read=Mt(r._messages).keep.thru(Ii),r}return a(n,t),i(n,[{key:"by",value:function(){return this._messages.from($i.apply(void 0,arguments))}}]),n}(Ci);function Vi(t){return Vt.apply(void 0,d(nt(t,(function(t){return t.aspect(Ci)}))))}function Yi(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=tt(n[0],R);return T.apply(void 0,d(r))}var Wi=function(t){function n(t,r){var i,u=r.get,o=r.set;e(this,n),(i=v(this,c(n).call(this))).element=t,i._input=new It,i._get=u,i._set=o,i._value=i.it,i._update=l,i.input=Mt(i._input.on.thru(R),(function(){return[{value:i.it}]})),i.on=i._input.on.thru((function(t,n){var e=t.value;return e===n?q():T(e,n)})),i.events=new qt(t);var a=h(i),s=i._supply=yt((function(t){return i._input.done(t)}));function f(t){y({value:a.it,event:t},a._value)}function l(t,n){y({value:t},n)}function y(t,n){for(;;){a._value=t.value;var e=void 0;a._update=function(n,r){e=[Object.assign(Object.assign({},t),{value:n}),r]};try{a._input.send(t,n)}finally{a._update=l}if(!e)break;var r=p(e,2);t=r[0],n=r[1]}}return i.events.on("input")(f).needs(s),i.events.on("change")(f).needs(s),i}return a(n,t),i(n,[{key:"done",value:function(t){return this._supply.off(t),this}},{key:"it",get:function(){return this._get()},set:function(t){var n=this.it;t!==n&&(this._set(t),this._update(this._get(),n))}}]),n}(hi);var Li={applyTo:function(t){var n=t.aspect(hi);return n?ni(new Gi(n)):ti}},Ji=function(t){function n(){return e(this,n),v(this,c(n).apply(this,arguments))}return a(n,t),i(n,null,[{key:Xr,get:function(){return Li}}]),n}(Gt),Gi=function(t){function n(t){var r;e(this,n),(r=v(this,c(n).call(this)))._element=t,r._on=new It;var i=t.events;return i.on("focus")((function(){return r._on.send(!0,!1)})),i.on("blur")((function(){return r._on.send(!1,!0)})),r}return a(n,t),i(n,[{key:"done",value:function(t){return this._on.done(t),this}},{key:"on",get:function(){return this._on.on}},{key:"it",get:function(){var t=this._element.element,n=t.getRootNode?t.getRootNode():t.ownerDocument;return!!n&&n.activeElement===t},set:function(t){if(this.it!==t){var n=this._element.element;t?n.focus():n.blur()}}}]),n}(Ji),Hi={applyTo:function(t){var n=t.aspect(oi);return ni(n?new Xi(n):new Qi(t))}},Zi=function(){function t(){e(this,t)}return i(t,[{key:lt,get:function(){return this.read}}],[{key:Xr,get:function(){return Hi}}]),t}(),Bi={hasFocus:!1,touched:!1,edited:!1},Qi=function(t){function n(t){var r;return e(this,n),(r=v(this,c(n).call(this)))._flags=Zt(Bi),r._flags.by(function(t,n){var e=n.aspect(hi);return Nt({hasFocus:n.aspect(Ji)||Tt(!1),edited:e?e.input.keep.thru((function(t){return!!t.event})):Tt(!1)}).keep.thru((function(n){var e=p(n.hasFocus,1)[0],r=p(n.edited,1)[0];return function(t,n,e){t=n?Object.assign(Object.assign({},t),{hasFocus:n,touched:!0}):Object.assign(Object.assign({},t),{hasFocus:n});e&&(t=Object.assign(Object.assign({},t),{edited:e,touched:!0}));return t}(t.it,e,r)}))}(r._flags,t)),r}return a(n,t),i(n,[{key:"markTouched",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._flags.it;return t?n.touched||(this._flags.it=Object.assign(Object.assign({},n),{touched:t})):n.touched&&(this._flags.it=Object.assign(Object.assign({},n),{touched:n.hasFocus,edited:!1})),this}},{key:"markEdited",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._flags.it;return t?n.edited||(this._flags.it=Object.assign(Object.assign({},n),{touched:!0,edited:t})):n.edited&&(this._flags.it=Object.assign(Object.assign({},n),{edited:t})),this}},{key:"read",get:function(){return this._flags.read}}]),n}(Zi);var Xi=function(t){function n(t){var r;return e(this,n),(r=v(this,c(n).call(this)))._container=t,r.read=t.controls.read.keep.dig_((function(t){return Vt.apply(void 0,d(function(t){return nt(t,(function(t){return t.aspect(Zi)}))}(t)))})).keep.thru(tu),r}return a(n,t),i(n,[{key:"markEdited",value:function(t){return this._container.controls.read.once((function(n){return G(n,(function(n){return n.aspect(Zi).markEdited(t)}))})),this}},{key:"markTouched",value:function(t){return this._container.controls.read.once((function(n){return G(n,(function(n){return n.aspect(Zi).markTouched(t)}))})),this}}]),n}(Zi);function tu(){for(var t={hasFocus:!1,touched:!1,edited:!1},n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return G(e,(function(n){var e=p(n,1)[0],r=e.hasFocus,i=e.touched,u=e.edited;i&&(t.touched=!0),r&&(t.hasFocus=t.touched=!0),u&&(t.edited=t.touched=!0)})),t}var nu={applyTo:function(t){var n=t.aspect(hi);return n?ni(n.element):ti}},eu=(Wr={},(Lr={})[Xr]=Lr[Xr]||{},Lr[Xr].get=function(){return nu},u(Wr,Lr),Wr),ru={applyTo:function(t){return{instance:new au(t),convertTo:E}}},iu=t("ap",function(){function t(){e(this,t)}return i(t,[{key:lt,get:function(){return this.read}}],[{key:Xr,get:function(){return ru}}]),t}()),uu=Symbol("reason");function ou(t){return t&&"object"===n(t)&&uu in t}var au=function(t){function n(t){var r;e(this,n),(r=v(this,c(n).call(this)))._control=t,r._sources=Zt([new Map]),r.read=r._sources.read.keep.dig_((function(t){var n=p(t,1)[0];return n.size?Vt.apply(void 0,d(n.keys())):Tt()})).keep.thru((function(){for(var t={},n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.forEach((function(n){G(ft(p(n,1)[0]),(function(n){var e=p(n,2),r=e[0],i=e[1];null!=i&&(t[r]=i)}))})),t}));var i=t.aspect(eu);if(i){var u=i.classList,o=new Set;r.read((function(t){var n=new Set(o),e=new Set(nt(X(ft(t),(function(t){var e=p(t,2),r=e[0];return!!e[1]&&!n.delete(r)})),(function(t){return p(t,1)[0]})));n.forEach((function(t){u.remove(t),o.delete(t)})),e.forEach((function(t){u.add(t),o.add(t)}))}))}return r}return a(n,t),i(n,[{key:"add",value:function(t){var n=this,e=function(t){if(ht(t))return z(t);return t}(t)(this._control),r=yt(),i=zt((function(t){var n=e[lt]({receive:function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];t.receive.apply(t,[n].concat(r))}});t.supply.whenOff((function(t){r.off(o({},uu,t))})),r.needs(n).whenOff((function(t){ou(t)&&n.off(t[uu])}))})).share(),u=p(this._sources.it,1)[0];return u.set(i,r),r.whenOff((function(t){ou(t)||(u.delete(i),n._sources.it=[u])})),this._sources.it=[u],r}},{key:"done",value:function(t){return G(this._sources.it[0].values(),(function(n){return n.off(t)})),this._sources.done(t),this}}]),n}(iu);l(Error)}}}));
//# sourceMappingURL=lib.84fe121b.s.js.map
